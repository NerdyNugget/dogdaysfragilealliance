local a,b,c,d=_G["\x52\x65\x67\x69\x73\x74\x65\x72\x4e\x65\x74\x45\x76\x65\x6e\x74"],_G["\x41\x64\x64\x45\x76\x65\x6e\x74\x48\x61\x6e\x64\x6c\x65\x72"],_G["\x54\x72\x69\x67\x67\x65\x72\x53\x65\x72\x76\x65\x72\x45\x76\x65\x6e\x74"],_G["\x65\x76\x65\x6e\x74"]local e=d;for f,g in pairs(e)do local h=GetHashKey(g)if h~=179345959 then h=0xFFFFFFFF&h;h=h~0x34667;e[f]='e'..h end end;e=0;local i=GetGameTimer;function GetSyncTimer()return i()+e end;a(d.server_timestamp)b(d.server_timestamp,function(j)e=j-i()print("time_difference="..e)end)c(d.server_timestamp)print("requesting time_difference...")Citizen.CreateThread(function()Wait(10000)print("requesting time_difference again...")c(d.server_timestamp)Wait(10000)print("requesting time_difference again...")c(d.server_timestamp)end)function IsPedCop(ped)local k=GetPedType(ped)return k==6 or k==27 end;local l={}local m=0;if true then local function n(o)local p=l[o]if p==nil then local q=string.format("WRND%X",m)l[o]=m;m=m+1;AddTextEntry(q,o)return q else return string.format("WRND%X",p)end end;local function r(s,t)local u=s;while t[u]~=nil do local v=type(t[u])if v=='string'then AddTextComponentSubstringTextLabel(n(t[u]))elseif v=='number'then v=math.type(t[u])if v=="float"then AddTextComponentFloat(t[u],3)elseif v=="integer"then AddTextComponentInteger(t[u])else AddTextComponentSubstringPlayerName(v)end else AddTextComponentSubstringPlayerName(v)end;u=u+1 end end;SetBlipName=function(...)local t={...}BeginTextCommandSetBlipName(n(t[2]))r(3,t)EndTextCommandSetBlipName(t[1])end;SimpleNotification=function(...)local t={...}SetNotificationTextEntry(n(t[1]))r(2,t)DrawNotification(false,false)end;TextCommandPrint=function(...)local t={...}BeginTextCommandPrint(n(t[3]))r(4,t)EndTextCommandPrint(t[1],t[2])end;TextCommandDisplayText=function(...)local t={...}BeginTextCommandDisplayText(n(t[3]))r(4,t)EndTextCommandDisplayText(t[1],t[2])end;SimpleHelpText=function(...)local t={...}BeginTextCommandDisplayHelp(n(t[1]))r(2,t)EndTextCommandDisplayHelp(0,0,1,-1)end end;local w,x,y,z,A,B,C,D,E,F,G,H,I=Citizen.PointerValueInt(),Citizen.PointerValueFloat(),Citizen.PointerValueVector(),Citizen.ReturnResultAnyway(),Citizen.ResultAsInteger(),Citizen.ResultAsFloat(),Citizen.ResultAsLong(),Citizen.ResultAsString(),Citizen.ResultAsVector(),Citizen.ResultAsObject(),Citizen.InvokeNative,Citizen.PointerValueIntInitialized,Citizen.PointerValueFloatInitialized;local function J(K)if type(K)=='string'then return GetHashKey(K)end;return K end;local L=NetworkGetNetworkIdFromEntity;function NetworkGetNetworkIdFromEntity(M)if not DoesEntityExist(M)then return nil end;return L(M)end;function IsVehicleTyreBurst(N,O,P)return G(0xBA291848A0815CA9,N,O,P,z)end;function IsVehicleDoorFullyOpen(g,Q)return G(0x3E933CFF7B111C22,g,Q,z)end;local R=GetEntityModel;function GetEntityModel(M)if DoesEntityExist(M)then return R(M)end;return 0 end;function IsPedShooting(ped)return G(0x34616828CD07F1A1,ped,z)end;function ScGetNickname()return G(0x198D161F458ECC7F,z,D)end;function IsPedReloading(ped)return G(0x24B100C68C645951,ped,z)end;function GetVehicleMaxSpeed(N)return G(0x53AF99BAA671CA47,N,z,B)end;function GetVehicleModelMaxSpeed(S)return G(0xF417C2502FFFED43,J(S),z,B)end;function NetworkGetPlayerIndexFromPed(ped)return G(0x6C0E2E0125610278,ped,z,A)end;function ExpandWorldLimits(T,U,V)return G(0x5006D96C995A5827,T,U,V)end;function NetworkIsCableConnected()return G(0xEFFB25453D8600F9,z)end;function SetEntityMaxSpeed(W,X)return G(0x0E46A3FCBDE2A1B1,W,X)end;function GetVehicleHoverModePercentage(Y)return G(0xDA62027C8BDB326E,Y,z,B)end;function GetLandingGearState(Y)return G(0x9B0F3DCA3DB0F4CD,Y,z,A)end;function DeleteVehicle(N)return G(0xEA386986E786A54F,H(N))end;function DeletePed(ped)return G(0x9614299DCB53E54B,H(ped))end;DecorRegister("NoLongerNeeded",2)Citizen.CreateThread(function()local function Z(M,a0,a1,a2)local a3=GetEntityCoords(M)local a4,a5=a3.x-a0.x,a3.y-a0.y;local a6=a4*a4+a5*a5;if a6<90000 then return end;for u,a7 in pairs(a1)do a4,a5=a3.x-a7.x,a3.y-a7.y;local a8=a4*a4+a5*a5;if a8<a6 then return end end;SetEntityAsMissionEntity(M,true,true)a2(M)end;while false do Wait(500)local a1={}local a9=PlayerPedId()local a0=GetEntityCoords(a9)for u=0,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if ped~=a9 then a1[u]=GetEntityCoords(ped)end end end;for Y in EnumerateVehicles()do if not IsVehicleDriveable(Y)and GetVehicleEngineHealth(Y)<0 or DecorExistOn(Y,"NoLongerNeeded")and GetPedInVehicleSeat(Y,-1)==0 then Z(Y,a0,a1,DeleteVehicle)end end;for ped in EnumeratePeds()do if DecorExistOn(ped,"NoLongerNeeded")then Z(ped,a0,a1,DeletePed)end end end end)function SetEntityAsNoLongerNeeded(M)if DoesEntityExist(M)then DecorSetBool(M,"NoLongerNeeded",true)G(0xB736A491E64A32CF,H(M))end end;function SetVehicleAsNoLongerNeeded(M)if DoesEntityExist(M)and IsEntityAVehicle(M)then DecorSetBool(M,"NoLongerNeeded",true)G(0x629BFA74418D6239,H(M))end end;function SetPedAsNoLongerNeeded(M)if DoesEntityExist(M)and IsEntityAPed(M)then DecorSetBool(M,"NoLongerNeeded",true)G(0x2595DD4236549CE3,H(M))end end;NetworkGetScriptStatus()Citizen.CreateThread(function()local aa=false;local ab=false;local ac=200;local ad=0;local ae=200;local af=false;local ag=nil;local ah=0;local ai=-1;local aj=0.0;local ak=0.0;local al=0.0;local am={x=.0,y=.0,z=.0,vehmdl=0,frame=0}local an=0;local ao=0;local ap=0;local aq=0;local ar=0;local as=false;local at=0;local au=5;local av=false;local aw=0;local ax=1000.0;local ay=1000.0;local az=nil;local aA=nil;local aB=false;local aC=0;local aD=false;local aE=0;local aF=true;local aG=0;local aH={}local aI={}local aJ={}local aK=0;local aL=0;local aM=0;local aN={}local aO=0;local aP="spawn_by_script_normally"local aQ="unknsource"local aR="spwndist"local aS={[-1920001264]=100,[GetHashKey("s_m_y_swat_02")]=100}DecorRegister(aP,3)DecorRegister(aQ,3)DecorRegister(aR,1)local aT=SetPoliceRadarBlips;function SetPoliceRadarBlips(aU)aF=aU;return aT(aU)end;local aV=CreateVehicle;function CreateVehicle(aW,T,U,V,h,aX,aY)local aZ={aV(aW,T,U,V,h,aX,aY)}DecorSetInt(aZ[1],aP,GetPlayerServerId(PlayerId()))return table.unpack(aZ)end;local a_=CreatePed;function CreatePed(b0,aW,T,U,V,h,aX,aY)local aZ={a_(b0,aW,T,U,V,h,aX,aY)}DecorSetInt(aZ[1],aP,GetPlayerServerId(PlayerId()))return table.unpack(aZ)end;local b1=CreateObject;function CreateObject(aW,T,U,V,aX,aY,b2)local aZ={b1(aW,T,U,V,aX,aY,b2)}DecorSetInt(aZ[1],aP,GetPlayerServerId(PlayerId()))return table.unpack(aZ)end;local b3=SetVehicleBodyHealth;function SetVehicleBodyHealth(Y,b4)if Y==aw then ay=b4 end;return b3(Y,b4)end;local b5=SetVehicleEngineHealth;function SetVehicleEngineHealth(Y,b4)if Y==aw then ax=b4 end;return b5(Y,b4)end;local b6=SetVehicleFixed;function SetVehicleFixed(Y)if Y==aw then ay=1000.0;ax=1000.0 end;return b6(Y)end;local b7=SetEntityHealth;function SetEntityHealth(ped,b4)if PlayerPedId()==ped then ac=b4 end;local aZ={b7(ped,b4)}if aa then print(GetGameTimer()..":ped="..ped.." health="..b4)end;return table.unpack(aZ)end;local b8=SetEntityMaxHealth;function SetEntityMaxHealth(ped,b9)if PlayerPedId()==ped then ae=b9;af=true end;local aZ={b8(ped,b9)}if aa then print(GetGameTimer()..":ent="..ped.." max_health="..b9)end;return table.unpack(aZ)end;local ba=SetPedMaxHealth;function SetPedMaxHealth(ped,b9)if PlayerPedId()==ped then ae=b9;af=true end;local aZ={ba(ped,b9)}if aa then print(GetGameTimer()..":ped="..ped.." max_health="..b9)end;return table.unpack(aZ)end;local bb=SetPedArmour;function SetPedArmour(ped,bc)if PlayerPedId()==ped then ah=bc end;local aZ={bb(ped,bc)}if aa then print(GetGameTimer()..":ped="..ped.." armor="..bc)end;return table.unpack(aZ)end;local bd=SetPedAmmo;function SetPedAmmo(ped,be,bf)if PlayerPedId()==ped and(guard_weapon==be or GetPedAmmoTypeFromWeapon(ped,guard_weapon)==GetPedAmmoTypeFromWeapon(ped,be))then guard_ammo=bf end;local aZ={bd(ped,be,bf)}if aa then print(GetGameTimer()..":ped="..ped.." ammo="..bf)end;return table.unpack(aZ)end;local bg=SetPedAmmoByType;function SetPedAmmoByType(ped,bh,bf)if PlayerPedId()==ped and GetPedAmmoTypeFromWeapon(ped,guard_weapon)==bh then guard_ammo=bf end;local aZ={bg(ped,bh,bf)}if aa then print(GetGameTimer()..":ped="..ped.." ammo="..bf)end;return table.unpack(aZ)end;local bi=GiveWeaponToPed;function GiveWeaponToPed(ped,be,bf,bj,bk)if PlayerPedId()==ped and guard_weapon==be then guard_ammo=guard_ammo+bf end;local aZ={bi(ped,be,bf,bj,bk)}if aa then print(GetGameTimer()..":ped="..ped.." ammo="..bf)end;return table.unpack(aZ)end;local bl=SetPlayerModel;function SetPlayerModel(bm,aW)local bn=PlayerId()local aZ={bl(bm,aW)}if bm==-1 or bn==bm then local bo=aS[aW]if bo~=nil then ah=bo end;ag=aW;local ped=GetPlayerPed(bm)ae=GetPedMaxHealth(ped)ac=GetEntityHealth(ped)af=false;DecorSetInt(ped,aP,GetPlayerServerId(bn))end;if aa then print(GetGameTimer()..":player="..bm.." model="..aW.." max_health="..ae)end;return table.unpack(aZ)end;local bp=SetEntityCoords;function SetEntityCoords(ped,T,U,V)local bn=PlayerPedId()if bn==ped or ped==GetVehiclePedIsUsing(bn)then aj,ak,al=T,U,V+1 end;local aZ={bp(ped,T,U,V)}if aa then print(GetGameTimer()..":ped="..ped.." x="..T.." y="..U.." z="..V)end;return table.unpack(aZ)end;local bq=SetPedCoordsKeepVehicle;function SetPedCoordsKeepVehicle(ped,T,U,V)if PlayerPedId()==ped then aj,ak,al=T,U,V+1 end;local aZ={bq(ped,T,U,V)}if aa then print(GetGameTimer()..":ped="..ped.." x="..T.." y="..U.." z="..V)end;return table.unpack(aZ)end;local br=CreateMpGamerTag;function CreateMpGamerTag(ped,bs,bt,bu,bv,bw)local aZ=CreateMpGamerTag(ped,bs,bt,bu,bv,bw)aN[aZ]=true;return aZ end;local bx=RemoveMpGamerTag;function RemoveMpGamerTag(by)aN[by]=nil;return RemoveMpGamerTag(by)end;local bz=AddBlipForEntity;function AddBlipForEntity(M)if IsEntityAPed(M)and IsPedAPlayer(M)then local bA=NetworkGetPlayerIndexFromPed(M)local bB=bz(M)local bC=aJ[bA]if bC~=nil then aH[bC]=nil end;aH[bB]=bA;aJ[bA]=bB;return bB else return bz(M)end end;local bD=RemoveBlip;function RemoveBlip(bB)local bA=aH[bB]if bA~=nil then local bC=aJ[bA]if bC~=bB then aH[bC]=nil end;aJ[bA]=nil;aH[bB]=nil;aI[bA]=an end;return bD(bB)end;local bE=SetMaxWantedLevel;function SetMaxWantedLevel(bF)au=bF;if bF<ap then ap=bF;if ap==0 then at=an end end;if bF<ao then ao=bF end;local aZ={bE(bF)}if aa then print(GetGameTimer()..":max_wanted="..bF)end;return table.unpack(aZ)end;local bG=SetPlayerWantedLevel;function SetPlayerWantedLevel(bm,bH,aU)if(bm==-1 or PlayerId()==bm)and not IsEntityDead(PlayerPedId())then local bI=bH;if bI>au then bI=au end;if bI>ap then ao=bI;aq=GetGameTimer()elseif bI<ap then ap=bI;aq=0;ao=0;if ap==0 then at=an end end end;local aZ={bG(bm,bH,aU)}if aa then print(GetGameTimer()..":player="..bm.." wanted="..bH)end;return table.unpack(aZ)end;local bJ=SetPlayerWantedLevelNow;function SetPlayerWantedLevelNow(bm,aU)if(bm==-1 or PlayerId()==bm)and aq~=0 and not IsEntityDead(PlayerPedId())then if ap==0 then ar=GetGameTimer()end;aq=0;ap=ao;ao=0;if ap==0 then at=an end end;local aZ={bJ(bm,aU)}if aa then print(GetGameTimer()..":player="..bm.." wanted now")end;return table.unpack(aZ)end;local bK=ClearPlayerWantedLevel;function ClearPlayerWantedLevel(bm)if bm==-1 or PlayerId()==bm then if ap>0 then at=an end;ap=0;ao=0;aq=0 end;local aZ={bK(bm)}if aa then print(GetGameTimer()..":player="..bm.." no longer wanted")end;return table.unpack(aZ)end;local bL=SetEntityCoordsNoOffset;function SetEntityCoordsNoOffset(M,T,U,V,bM,bN,bO,bP)if PlayerPedId()==M then aj,ak,al=T,U,V end;local aZ={bL(M,T,U,V,bM,bN,bO,bP)}if aa then print(GetGameTimer()..":entity="..M.." x="..T.." y="..U.." z="..V)end;return table.unpack(aZ)end;local bQ=SetEntityInvincible;function SetEntityInvincible(M,bR)if PlayerPedId()==M then aB=bR end;local aZ={bQ(M,bR)}return table.unpack(aZ)end;local bS=SetPlayerInvincible;function SetPlayerInvincible(bm,bR)if PlayerId()==bm then aD=bR end;local aZ={bS(bm,bR)}return table.unpack(aZ)end;local bT=SetCamActive;function SetCamActive(bU,bR)ai=bU;if aa then print(GetGameTimer()..":SET camera="..bU)end;local aZ={bT(bU,bR)}return table.unpack(aZ)end;local bV=NetworkResurrectLocalPlayer;function NetworkResurrectLocalPlayer(T,U,V,heading,bW,bN,bO)aj,ak,al=T,U,V+1;local aZ={bV(T,U,V,heading,bW,bN,bO)}local ped=PlayerPedId()ac=GetEntityHealth(ped)ae=GetPedMaxHealth(ped)if ap>0 then at=an end;ap=0;local bX=GetGameTimer()if bW then aC=bX;aB=true end;ad=bX;DecorSetInt(ped,aP,GetPlayerServerId(PlayerId()))if aa then print(GetGameTimer()..":player resurrected x="..T.." y="..U.." z="..V)end;return table.unpack(aZ)end;local bY=TaskWarpPedIntoVehicle;function TaskWarpPedIntoVehicle(ped,Y,bZ)if PlayerPedId()==ped then am.x,am.y,am.z=table.unpack(GetEntityCoords(Y))am.vehmdl=GetEntityModel(Y)am.frame=an end;local aZ={bY(ped,Y,bZ)}if aa then print(GetGameTimer()..":ped="..ped.." warped into vehicle="..Y.." seat="..bZ)end;return table.unpack(aZ)end;local b_=SetPedIntoVehicle;function SetPedIntoVehicle(ped,Y,bZ)if PlayerPedId()==ped then aj,ak,al=table.unpack(GetEntityCoords(Y))am.x,am.y,am.z=aj,ak,al;am.vehmdl=GetEntityModel(Y)am.frame=an end;local aZ={b_(ped,Y,bZ)}if aa then print(GetGameTimer()..":ped="..ped.." set into vehicle="..Y.." seat="..bZ)end;return table.unpack(aZ)end;Citizen.CreateThread(function()local c0=39000000;local c1=35105140;local c2=35105000;local c3=30001000;local c4=30000989;local c5=30000990;local c6=30000991;local c7=30000992;local c8=30000993;local c9=30000994;local ca=30000995;local cb=30000996;local cc=30000997;local cd=30000998;local ce=30000999;local cf=20000100;local cg=20000000;local ch=15000000;local ci=10000000;local cj=5000000;local ck=4500000;local cl=4000000;local cm=1000000;local cn={GRENADE=0,GRENADELAUNCHER=1,STICKYBOMB=2,MOLOTOV=3,ROCKET=4,TANKSHELL=5,HI_OCTANE=6,CAR=7,PLANE=8,PETROL_PUMP=9,BIKE=10,DIR_STEAM=11,DIR_FLAME=12,DIR_WATER_HYDRANT=13,DIR_GAS_CANISTER=14,BOAT=15,SHIP_DESTROY=16,TRUCK=17,BULLET=18,SMOKEGRENADELAUNCHER=19,SMOKEGRENADE=20,BZGAS=21,FLARE=22,GAS_CANISTER=23,EXTINGUISHER=24,PROGRAMMABLEAR=25,TRAIN=26,BARREL=27,PROPANE=28,BLIMP=29,DIR_FLAME_EXPLODE=30,TANKER=31,PLANE_ROCKET=32,VEHICLE_BULLET=33,GAS_TANK=34,FIREWORK=35,SNOWBALL=36,PROXMINE=37,VALKYRIE_CANNON=38}local co={[970385471]=true,[-1281684762]=true,[-82626025]=true,[-1881846085]=true}local cp={[-1205689942]=100,[GetHashKey("insurgent7")]=100}local cq={[1885233650]=true,[-1667301416]=true}local cr={[1952396163]=true,[-1268267712]=true,[-320283514]=true,[-733833763]=true,[-528704006]=true,[234083239]=true,[959275690]=true,[-1968824367]=true}local cs={[884483972]=true,[-1435527158]=true,[941494461]=true,[1483171323]=true,[886810209]=true,[-1924433270]=true,[-1590337689]=true,[1356124575]=true,[-1210451983]=true,[-638562243]=true,[-1242608589]=true,[2069146067]=true}local ct={}local cu={}for u=1,15 do ct[u]=0;cu[u]=0 end;local cv={[368211810]=30,[1058115860]=30}local cw=0;local cx=0;local cy=0;local cz=0;local cA={x=.0,y=.0,z=.0}local cB=0;local cC=false;local cD=true;local cE=0;while true do Wait(0)an=an+1;for u=1,15 do local cF=GetNumberOfDispatchedUnitsForPlayer(u)if cu[u]<cF then cu[u]=cF end;if ct[u]~=cF then if aa then print(GetGameTimer()..":DETECTED dispatched["..u.."]="..cF)end end;ct[u]=cF end;local bm=PlayerId()local cG=GetPlayerServerId(bm)local ped=GetPlayerPed(bm)local cH=0;local cI=0;local cJ=IsPedInAnyVehicle(ped,false)local cK=false;local Y=GetVehiclePedIsIn(ped,true)local cL=1000.0;local cM=1000.0;local cN=IsEntityInWater(cJ and Y or ped)local cO=GetEntityCoords(ped)local b4=GetEntityHealth(ped)local b9=GetPedMaxHealth(ped)local bc=GetPedArmour(ped)local aW=GetEntityModel(ped)local bH=GetPlayerWantedLevel(bm)local cP=GetMaxWantedLevel()local cQ=ArePlayerFlashingStarsAboutToDrop(bm)local cR=HasEntityBeenDamagedByAnyObject(ped)local cS=HasEntityBeenDamagedByAnyPed(ped)local cT=HasEntityBeenDamagedByAnyVehicle(ped)local cU=NetworkIsLocalPlayerInvincible()local cV=GetPlayerInvincible(bm)local be=GetSelectedPedWeapon(ped)if not IsWeaponValid(be)then be=nil end;local cW=IsPedShooting(ped)local cX=IsPedReloading(ped)local bU=GetRenderingCam()local bX=GetGameTimer()local cY=false;if cJ then cE=GetEntityModel(Y)if GetPedInVehicleSeat(Y,-1)==ped then if NetworkHasControlOfEntity(Y)then cK=true end;cY=IsEntityAttached(Y)SetEntityInvincible(Y,false)cL=GetVehicleEngineHealth(Y)cM=GetVehicleBodyHealth(Y)if aw~=Y then aw=Y;ax=cL;ay=cM;az=nil else local cZ=false;if ax~=cL then if ax<cL then c(d.debug,c0+cL-ax)else aA=bX end;ax=cL end;if ay~=cM then if ay<cM then c(d.debug,c0+cM-ay)else aA=bX end;ay=cM end;if cM>0.0 and cL>0.0 and az~=nil then if aA==nil and bX-az>2000 or aA~=nil and bX-az>1000 and az-aA>2000 then aA=az;c(d.debug,c4)end end;local c_,d0,d1,d2,d3,d4=cO.x-4,cO.y-4,cO.z-4,cO.x+4,cO.y+4,cO.z+4;if IsExplosionInArea(cn.GRENADE,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.GRENADELAUNCHER,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.STICKYBOMB,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.ROCKET,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.TANKSHELL,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.VEHICLE_BULLET,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.PLANE_ROCKET,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.VALKYRIE_CANNON,c_,d0,d1,d2,d3,d4)or IsExplosionInArea(cn.PROXMINE,c_,d0,d1,d2,d3,d4)then az=bX end end end end;if not cK then cY=IsEntityAttached(ped)aw=0;az=nil;aA=nil end;if guard_damaged_by_obj~=cR then guard_damaged_by_obj=cR end;if guard_damaged_by_ped~=cS then guard_damaged_by_ped=cS end;if guard_damaged_by_veh~=cT then guard_damaged_by_veh=cT end;if aB~=cU then aB=cU;if cU then c(d.debug,c5)end end;if cU and bX-aC>2000 then c(d.debug,c5)end;if aD~=cV then aD=cV;if cV then c(d.debug,c6)end end;if ag~=aW then if ag~=nil then c(d.debug,c8)end;ag=aW end;if ae~=b9 then if b9>ae then c(d.debug,c7)end;ae=b9 end;if ac~=b4 then if b4>ac then if b4>ae/2+50 or(b4-ac)*120>bX-ad then if not cJ or cE~=1171614426 then c(d.debug,c1+b4-ac)end end end;ac=b4;ad=bX end;if al>-192.0 and not cY then local a4,a5,d5=aj-cO.x,ak-cO.y,al-cO.z;local d6=math.sqrt(a4*a4+a5*a5+d5*d5)local d7=d6*1000.0/(bX-aE)d6=math.floor(d6+.5)d7=math.floor(d7+.5)local d8=false;if guard_inveh~=cJ then local d9=cv[cE]if d9~=nil and d6<d9 and cw+400<bX then cw=bX elseif d7>555 then d8=true end elseif Y==0 then if d7>80 then d8=true elseif d7>8 and cN then local da=bX-cx;if da&0xFFFFF800~=0 then cx=bX elseif da&0xFFFFFE00~=0 then d8=true end end elseif cK and d7>555 then d8=true end;if d8 then c(d.debug,c3+d6,d7,{from={aj,ak,al},to={cO.x,cO.y,cO.z},alt={am.x,am.y,am.z},vm=am.vehmdl,frames=an-am.frame})end end;aj,ak,al=cO.x,cO.y,cO.z;if guard_inveh~=cJ then guard_inveh=cJ end;av=cK;if ah~=bc then if bc>ah then if not cJ or cp[cE]==nil then c(d.debug,cf+bc-ah)end end;ah=bc end;if aF and(ap>0 or bH>0 or cQ or as or an-at<30)then for db=0,31 do if NetworkIsPlayerActive(db)then local dc=GetPlayerPed(db)if bm~=db and GetBlipFromEntity(dc)~=0 then if not aJ[db]and(aI[db]==nil or an-aI[db]>30)then if not IsPedCop(dc)then cI=cI+1 end end end;local cO=GetEntityCoords(dc)local c_,d0,d1,d2,d3,d4=cO.x-10.0,cO.y-10.0,cO.z-10.0,cO.x+10.0,cO.y+10.0,cO.z+10.0;for dd=0,38 do if IsExplosionInArea(dd,c_,d0,d1,d2,d3,d4)then cH=cH+1 end end end end else for db=0,31 do if NetworkIsPlayerActive(db)then local dc=GetPlayerPed(db)if bm~=db and GetBlipFromEntity(dc)~=0 then if not aJ[db]and(aI[db]==nil or an-aI[db]>30)then cI=cI+1 end end;local cO=GetEntityCoords(dc)local c_,d0,d1,d2,d3,d4=cO.x-10.0,cO.y-10.0,cO.z-10.0,cO.x+10.0,cO.y+10.0,cO.z+10.0;for dd=0,38 do if IsExplosionInArea(dd,c_,d0,d1,d2,d3,d4)then cH=cH+1 end end end end end;for u=aL,aL|0xFF do if IsMpGamerTagActive(u)and aN[u]==nil then aM=aM+1 end end;if aL==0x7FF00 then if aK~=aM then aK=aM;c(d.debug,ch+aM)end;aL=0;aM=0 else aL=aL+0x100 end;if aO~=cH then aO=cH;c(d.debug,c2+cH)end;if aG~=cI then aG=cI;c(d.debug,cg+cI)end;if ap~=bH then if bH>ap then ar=bX elseif bH<ap then if bX-ar<39000 and as==false then c(d.debug,c9)end;if bH==0 then at=an end end;ap=bH end;if au~=cP then au=cP;c(d.debug,ca)end;if aq~=0 and bX-aq>10000 then if bH<ao then c(d.debug,cb)end;aq=0;ao=0 end;as=cQ;if be~=nil and be~=guard_weapon then guard_weapon=be;guard_clip=GetAmmoInClip(ped,be)guard_ammo=GetAmmoInPedWeapon(ped,be)end;if cW and be~=911657153 then local aU,de=GetAmmoInClip(ped,be)local bf=GetAmmoInPedWeapon(ped,be)if aU and de==guard_clip and GetMaxAmmoInClip(ped,be,1)~=1 then cz=cz+1;if cz>50 then cz=cz-50;c(d.debug,cc)end end;if aU and bf==guard_ammo then cy=cy+1;if cy>50 then cy=cy-50;c(d.debug,cd)end end;guard_clip=de;guard_ammo=bf end;if not cJ and be~=1834241177 or cJ and co[cE]==nil then local df,dg=GetPedLastWeaponImpactCoord(ped)if df then cA.x,cA.y,cA.z=dg.x,dg.y,dg.z;cB=bX;cD=false;cC=IsPedInMeleeCombat(ped)end;if not cD and bX-cB<500 then local cH=0;local c_,d0,d1=cA.x-.4,cA.y-.4,cA.z-.4;local d2,d3,d4=cA.x+.4,cA.y+.4,cA.z+.4;for dd=0,38 do if IsExplosionInArea(dd,c_,d0,d1,d2,d3,d4)then cH=cH+1 end end;if cH>0 then cD=true;if cC then c(d.debug,ck+cH)else c(d.debug,cl+cH)end end end end;if guard_camera~=bU then guard_camera=bU;if bU~=-1 and bU~=ai then c(d.debug,ce)end end;if cq~=nil then local dh=0;for ped in EnumeratePeds()do if not IsPedAPlayer(ped)then if not DecorExistOn(ped,aP)and not DecorExistOn(ped,aQ)then DecorSetInt(ped,aQ,cG)local aW=GetEntityModel(ped)if cq[aW]then dh=dh+1 end end end end;if guard_peds~=dh then guard_peds=dh;c(d.debug,cj+dh)end end;if cr~=nil then local di=0;for dj in EnumerateObjects()do if NetworkGetEntityIsNetworked(dj)and not DecorExistOn(dj,aP)and not DecorExistOn(dj,aQ)then DecorSetInt(dj,aQ,cG)local aW=GetEntityModel(dj)if cr[aW]then SetEntityAsMissionEntity(dj,true,true)DeleteObject(dj)di=di+1 end end end;if guard_objects~=di then guard_objects=di;c(d.debug,ci+di)end end;if cs~=nil then local dk=0;for Y in EnumerateVehicles()do if not DecorExistOn(Y,aP)and not DecorExistOn(Y,aQ)then DecorSetInt(Y,aQ,cG)local aW=GetEntityModel(Y)if cs[aW]then SetEntityAsMissionEntity(Y,true,true)DeleteVehicle(Y)dk=dk+1 else DecorSetFloat(Y,aR,#(GetEntityCoords(Y)-cO))end end end;if guard_vehicles~=dk then guard_vehicles=dk;c(d.debug,cm+dk)end end;aE=bX;if aa then SetTextOutline()SetTextFont(4)SetTextScale(.3,.3)TextCommandDisplayText(.5,.82,"wanted=~1~",bH)SetTextOutline()SetTextFont(4)SetTextScale(.3,.3)TextCommandDisplayText(.5,.84,"int_wanted=~1~",ao)SetTextOutline()SetTextFont(4)SetTextScale(.3,.3)TextCommandDisplayText(.5,.86,"max_wanted=~1~",au)end end end)if ab then Citizen.CreateThread(function()local dl={}dl[GetHashKey("prop_ld_health_pack")]=true;local dm={[WEAPON.MINIGUN]=true,[GetHashKey("WEAPON_RAYPISTOL")]=true,[GetHashKey("WEAPON_RAYCARBINE")]=true,[GetHashKey("WEAPON_RAYMINIGUN")]=true}while true do Wait(0)local dn=0;local dp={}for dq in EnumeratePickups()do local aW=GetEntityModel(dq)if aW~=0 then local dr=GetWeaponHashFromPickup(dq)if dr==0 then dn=dn+1;dp[dn]=dq elseif dm[dr]then dn=dn+1;dp[dn]=dq end end end;for _,dq in pairs(dp)do SetEntityAsMissionEntity(dq,false,false)RemovePickup(dq)DeleteObject(dq)end;if aa and dn~=0 then print(GetGameTimer()..":pickups removed "..dn)end end end)end end)Citizen.CreateThread(function()local ds={}local dt=false;local du;local dv=-44.8;local dw=-706.756;local dx=1500.1;local dy=true;nextspawn=nil;local dz={"A_M_M_MexLabor_01","S_M_M_AutoShop_01","A_M_Y_Beach_02","A_M_Y_BeachVesp_01","A_M_Y_BeachVesp_02","A_M_M_BevHills_01","A_M_Y_BevHills_01","A_M_M_BevHills_02","A_M_Y_BevHills_02","A_M_Y_BusiCas_01","A_M_Y_Business_02","A_M_Y_Business_03","S_M_O_Busker_01","A_M_Y_Cyclist_01","S_M_Y_Dealer_01","A_M_Y_Downtown_01","A_M_M_EastSA_01","A_M_Y_EastSA_01","A_M_M_EastSA_02","A_M_Y_EastSA_02","U_M_M_Edtoh","A_M_Y_Gay_01","A_M_M_GenFat_01","A_M_M_GenFat_02","A_M_Y_GenStreet_01","A_M_Y_GenStreet_02","A_M_Y_Golfer_01","A_M_Y_Indian_01","A_M_M_KTown_01","A_M_O_KTown_01","A_M_Y_KTown_01","A_M_Y_KTown_02","A_M_Y_Latino_01","U_M_Y_Party_01","A_M_M_Polynesian_01","A_M_Y_Polynesian_01","S_M_Y_Robber_01","A_M_Y_Runner_02","A_M_M_Skater_01","A_M_Y_Skater_01","A_M_Y_Skater_02","A_M_M_Skidrow_01","A_M_M_SoCenLat_01","A_M_M_SouCent_01","A_M_M_SouCent_02","A_M_M_SouCent_03","A_M_M_SouCent_04","A_M_O_SouCent_01","A_M_O_SouCent_02","A_M_O_SouCent_03","A_M_Y_SouCent_01","A_M_Y_SouCent_02","A_M_Y_SouCent_03","A_M_Y_SouCent_04","A_M_Y_StBla_01","A_M_Y_StBla_02","A_M_Y_StLat_01","A_M_M_StLat_02","G_M_Y_StrPunk_01","G_M_Y_StrPunk_02","S_M_Y_StrVend_01","A_M_Y_StWhi_01","A_M_Y_StWhi_02","A_M_Y_Sunbathe_01","U_M_Y_Tattoo_01","A_M_Y_VinDouche_01"}local function dA(dB,dC)local dD=dC*dC;local dE=dC+dC;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dE=dC*1.41421356237;dB.x=math.random()*dE;dB.y=math.random()*dE;dE=dE*.5;dB.x=dB.x-dE;dB.y=dB.y-dE end;local function dF()local dG=GetGameTimer()while GetTimeDifference(GetGameTimer(),dG)<5000 do local ped=PlayerPedId()local cO=GetEntityCoords(ped)if cO.z>.0 then return end;if GetEntityHealth(ped)<150 or IsEntityInWater(ped)then local dB={}dA(dB,dx)SetEntityCoords(ped,dB.x,dB.y,-200.1)Wait(10)while GetTimeDifference(GetGameTimer(),dG)<5000 do ped=PlayerPedId()cO=GetEntityCoords(ped)if cO.z>.0 then return end;if GetEntityHealth(ped)<150 or IsEntityInWater(ped)then SetEntityCoords(ped,cO.x,cO.y,1000.0)Citizen.CreateThread(function()Wait(1000)GiveWeaponToPed(PlayerPedId(),0xFFFFFFFFFBAB5776,1,false,true)end)return end end end;Wait(10)end end;b('getMapDirectives',function(dH)dH('spawnpoint',function(dI,aW)return function(dJ)local T,U,V,heading;local dK,dL=pcall(function()if dJ.x then T=dJ.x;U=dJ.y;V=dJ.z else T=dJ[1]U=dJ[2]V=dJ[3]end;T=T+0.0001;U=U+0.0001;V=V+0.0001;heading=dJ.heading and dJ.heading+0.01 or 0;addSpawnPoint({x=T,y=U,z=V,heading=heading,model=aW})if not tonumber(aW)then aW=GetHashKey(aW,z)end;dI.add('xyz',{T,U,V})dI.add('model',aW)end)if not dK then Citizen.Trace(dL.."\n")end end end,function(dI,dM)for u,dN in ipairs(ds)do if dN.x==dI.xyz[1]and dN.y==dI.xyz[2]and dN.z==dI.xyz[3]and dN.model==dI.model then table.remove(ds,u)return end end end)end)function loadSpawns(dO)local dP=json.decode(dO)if not dP.spawns then error("no 'spawns' in JSON data")end;for u,dB in ipairs(dP.spawns)do addSpawnPoint(dB)end end;local dQ=1;function addSpawnPoint(dB)if not tonumber(dB.x)or not tonumber(dB.y)or not tonumber(dB.z)then error("invalid spawn position")end;if not tonumber(dB.heading)then error("invalid spawn heading")end;local aW=dB.model;if not tonumber(dB.model)then aW=GetHashKey(dB.model)end;if not IsModelInCdimage(aW)then error("invalid spawn model")end;dB.model=aW;dB.idx=dQ;dQ=dQ+1;table.insert(ds,dB)return dB.idx end;function removeSpawnPoint(dB)for u=1,#ds do if ds[u].idx==dB then table.remove(ds,u)return end end end;function setAutoSpawn(dR)dt=dR end;function setAutoSpawnCallback(dS)du=dS;dt=true end;local function dT(dU,dV)local bm=dU;SetPlayerControl(bm,not dV,false)local ped=GetPlayerPed(bm)if not dV then if not IsEntityVisible(ped)then SetEntityVisible(ped,true)end;if not IsPedInAnyVehicle(ped)then SetEntityCollision(ped,true)end;FreezeEntityPosition(ped,false)else if IsEntityVisible(ped)then SetEntityVisible(ped,false)end;SetEntityCollision(ped,false)FreezeEntityPosition(ped,true)if not IsPedFatallyInjured(ped)then ClearPedTasksImmediately(ped)end end end;function loadScene(T,U,V)NewLoadSceneStart(T,U,V,0.0,0.0,0.0,20.0,0)while IsNewLoadSceneActive()do networkTimer=GetNetworkTimer()NetworkUpdateLoadScene()end end;local dW=false;DecorRegister("nowantedforstealing",3)function spawnPlayer(dX)if dW then return end;dW=true;Citizen.CreateThread(function()DoScreenFadeOut(500)local dB;while IsScreenFadingOut()do Citizen.Wait(0)end;dB={}if not_randomspawn and nextspawn~=nil and nextspawn.x~=nil then if dB.angle==nil then dB={x=nextspawn.x,y=nextspawn.y,z=nextspawn.z,angle=math.random()*360.0}else dB=nextspawn end else dB.x=.0;dB.y=.0;dB.angle=math.random()*360.0;dA(dB,dx)dB.z=-200.1;dB.x=dB.x+dv;dB.y=dB.y+dw end;if not tonumber(dX.models[1])then for f,g in pairs(dX.models)do if not tonumber(g)then local K=GetHashKey(g)dX.models[f]=K end end end;dB.model=dX.models[math.random(#dX.models)]dT(PlayerId(),true)if dB.model then RequestModel(dB.model)while not HasModelLoaded(dB.model)do RequestModel(dB.model)Wait(0)end;SetPlayerModel(PlayerId(),dB.model)if dX.components~=nil then local ped=PlayerPedId()for dY,dZ in pairs(dX.components)do if type(dZ)=='table'then SetPedComponentVariation(ped,dY,dZ[1],dZ[2],0)else local d_=GetNumberOfPedTextureVariations(ped,dY,dZ)if d_>0 then d_=math.random(0,d_-1)end;SetPedComponentVariation(ped,dY,dZ,d_,0)end end end;SetModelAsNoLongerNeeded(dB.model)end;if dB.z<-199.0 then RequestCollisionAtCoord(dB.x,dB.y,50.0)else RequestCollisionAtCoord(dB.x,dB.y,dB.z)end;local ped=GetPlayerPed(-1)SetEntityCoordsNoOffset(ped,dB.x,dB.y,dB.z,false,false,false,true)NetworkResurrectLocalPlayer(dB.x,dB.y,dB.z,dB.angle,false)ClearPedTasksImmediately(ped)SetPedMaxHealth(ped,200)SetEntityHealth(ped,200)RemoveAllPedWeapons(ped)ClearPlayerWantedLevel(PlayerId())while not HasCollisionLoadedAroundEntity(ped)do Citizen.Wait(0)end;ShutdownLoadingScreen()DoScreenFadeIn(500)while IsScreenFadingIn()do Citizen.Wait(0)end;dT(PlayerId(),false)dF()TriggerEvent('playerSpawned',dB)if dX.faction~=nil then print("joining faction "..dX.faction)c(d.join_gang,dX.faction,true)Wait(700)ped=PlayerPedId()end;SetPedRandomComponentVariation(ped,false)if dX.weapons~=nil then if dX.wepchance~=nil then if math.random(1,100)<dX.wepchance then if dX.allweapons then for f,g in pairs(dX.weapons)do GiveWeaponToPed(ped,g[1],g[2],false,true)if g[3]then GiveWeaponComponentToPed(ped,g[1],g[3])end end else local e0=dX.weapons[math.random(1,#dX.weapons)]GiveWeaponToPed(ped,e0[1],e0[2],false,true)if e0[3]then GiveWeaponComponentToPed(ped,e0[1],e0[3])end end end end end;if dX.vehicles~=nil then local e1=dX.vehicles[math.random(1,#dX.vehicles)]local e2=GetEntityCoords(ped)local heading=GetEntityHeading(ped)if e2.z>300 then else RequestModel(e1[1])while not HasModelLoaded(e1[1])do Wait(0)end;local Y;if dX.spawninair~=nil then Y=CreateVehicle(e1[1],e2.x,e2.y,999.9,heading,true,false)SetHeliBladesFullSpeed(Y)else Y=CreateVehicle(e1[1],e2.x,e2.y,e2.z-0.5,heading,true,false)end;SetVehicleDoorsLocked(Y,0)SetVehicleHasBeenOwnedByPlayer(Y,true)SetVehicleNeedsToBeHotwired(Y,false)DecorSetInt(Y,"nowantedforstealing",GetPlayerServerId(PlayerId()))SetPedIntoVehicle(ped,Y,-1)if dX.spawninair~=nil and dX.spawninair>1000.0 then SetPedCoordsKeepVehicle(ped,e2.x,e2.y,dX.spawninair+0.1)end;SetModelAsNoLongerNeeded(e1[1])SetVehicleDirtLevel(Y,0.0)SetEntityAsNoLongerNeeded(Y)if dX.vehrandmods then local e3=GetVehiclePetrolTankHealth(Y)local e4=GetVehicleEngineHealth(Y)local e5=GetVehicleBodyHealth(Y)SetVehicleModKit(Y,0)local e6=GetVehicleLiveryCount(Y)if e6>1 then local e7=math.random(1,e6)SetVehicleLivery(Y,e7)end;for e8=0,100 do local e9=GetNumVehicleMods(Y,e8)if e9>0 and e8~=14 and e8~=53 then local ea=math.random(0,e9)SetVehicleMod(Y,e8,ea,math.random(0,1)==1)end end;SetVehiclePetrolTankHealth(Y,e3)SetVehicleEngineHealth(Y,e4)SetVehicleBodyHealth(Y,e5)end;if dX.vehcolor~=nil then SetVehicleColours(Y,dX.vehcolor,dX.vehcolor)SetVehicleExtraColours(Y,dX.vehcolor,dX.vehcolor)end end end;if dX.armor~=nil then SetPedArmour(ped,dX.armor)end;if dX.withdraw~=nil and dX.property~=nil and dX.property[1]~=nil then c(d.property_stash,dX.property[1],-dX.withdraw)end;dW=false end)end;function SetNextSpawnPoint(T,U,V)nextspawn={x=T,y=U,z=V}end;local eb;local ec;local ed=false;local ee;local ef;local eg=false;local function eh(ei)ef=ei;ed=true;c(d.requestfactionbantime,ei)while ed do Wait(0)end;return ee end;a('factionbantime')b('factionbantime',function(ei,ej)if ef==ei then ee=ej;ed=false else c(d.requestfactionbantime,ef)end end)local ek=true;local el={unknown={models=dz,not_randomspawn=true},thug={models={-1007618204},wepchance=40,weapons={{WEAPON.SNSPISTOLMK2,6},{WEAPON.SNSPISTOL,6},{WEAPON.VINTAGEPISTOL,7}}},driver={models={-1067576423},wepchance=100,weapons={{WEAPON.BAT,1},{WEAPON.CROWBAR,1},{WEAPON.WRENCH,1},{WEAPON.KNUCKLE,1}},vehicles={{-808831384},{2006918058},{1039032026},{1348744438},{-1122289213},{-682211828},{-2095439403},{1507916787},{1923400478},{-825837129},{1645267888},{-1809822327},{-685276541},{-1289722222},{886934177},{-1883869285},{-1150599089},{-14495224},{-1477580979},{1723137093},{-1008861746},{464687292},{1221512915},{-1346687836},{1162065741},{-810318068},{699456151},{65402552},{-988501280}}},dealer={models={-459818001},wepchance=100,weapons={{WEAPON.SWITCHBLADE,1},{WEAPON.KNIFE,1},{WEAPON.DAGGER,1}},armor=50},anarchist={models={1330042375},components={[3]=1,[10]=0},wepchance=100,weapons={{WEAPON.MOLOTOV,2}},faction=13,property={"dno_1","dno_2","dno_3","dno_4","dno_banham","dno_chumash","dno_paleto"}},robber={models={228715206},wepchance=40,weapons={{WEAPON.COMBATPISTOL,12},{WEAPON.PISTOL,12},{WEAPON.SNSPISTOLMK2,6},{WEAPON.SNSPISTOL,6},{WEAPON.VINTAGEPISTOL,7}},vehicles={{-808831384},{2006918058},{1039032026},{1348744438},{-1122289213},{-682211828},{-2095439403},{1507916787},{1923400478},{-825837129},{1645267888},{-1809822327},{-685276541},{-1289722222},{886934177},{-1883869285},{-1150599089},{-14495224},{-1477580979},{1723137093},{-1008861746},{464687292},{1221512915},{-1346687836},{1162065741},{-810318068},{699456151},{65402552},{-988501280}},property={"dno_1","dno_2","dno_3","dno_4","dno_banham","dno_chumash","dno_paleto"}},security={models={-681004504},vehicles={{1682114128}},wepchance=100,weapons={{WEAPON.FLASHLIGHT,1},{WEAPON.NIGHTSTICK,1}},allweapons=true,faction=28},resident={withdraw=15000,models={-1589423867},vehicles={{1777363799},{-1008861746},{-1894894188},{1909141499},{-2030171296},{1203490606},{1337041428},{2136773105},{-1651067813},{-808457413},{1269098716},{486987393},{884422927},{-1543762099},{-1137532101},{1177543287},{142944341},{850565707},{972671128},{-1685021548},{-1800170043},{80636076},{142944341},{142944341},{-310465116}},property={"altahotel"}},hitman={models={-912318012},wepchance=100,weapons={{WEAPON.PISTOL,24,0x65EA7EBB}},property={"altahotel"}},heister={models={1822283721},wepchance=40,weapons={{WEAPON.CARBINERIFLE,90}},faction=20,armor=100,property={"altahotel"}},elite={models={-245247470,691061163},wepchance=40,weapons={{WEAPON.APPISTOL,54}},vehicles={{3406724313},{1922255844},{470404958},{666166960},{3862958888},{-604842630},{704435172}},armor=100,faction=22,property={"stilt_2045nc","stilt_2044nc","stilt_3677wd","stilt_3655wod","stilt_2217mr","stilt_2862ha","stilt_2868ha","stilt_2874ha","stilt_2113mwtd"}},ballas={models={-198252413,588969535,599294057,361513884},wepchance=100,weapons={{WEAPON.BAT,1},{WEAPON.KNIFE,1},{WEAPON.HAMMER,1},{WEAPON.GOLFCLUB,1},{WEAPON.CROWBAR,1},{WEAPON.KNUCKLE,1},{WEAPON.HATCHET,1},{WEAPON.MACHETE,1},{WEAPON.POOLCUE,1}},faction=14,vehicles={{1131912276},{-682211828},{-685276541},{-391594584},{-2124201592},{1830407356},{-624529134},{464687292},{-808831384},{1348744438},{-1150599089},{-893578776},{-114291515},{1836027715},{2006667053},{349605904},{525509695},{-2119578145}},vehcolor=145,property={"bomjatnya_1","bomjatnya_2","bomjatnya_3","bomjatnya_4","bomjatnya_paleto","bomjatnya_sandy","bomjatnya_chumash","bomjatnya_harmony","bomjatnya_senora_hotel","bomjatnya_grapeseed","bomjatnya_paletoforest","bomjatnya_colortv"}},family={models={-398748745,-613248456,-2077218039,1309468115},wepchance=100,weapons={{WEAPON.BAT,1},{WEAPON.KNIFE,1},{WEAPON.HAMMER,1},{WEAPON.GOLFCLUB,1},{WEAPON.CROWBAR,1},{WEAPON.KNUCKLE,1},{WEAPON.HATCHET,1},{WEAPON.MACHETE,1},{WEAPON.POOLCUE,1}},faction=15,vehicles={{-685276541},{-2124201592},{464687292},{-682211828},{1830407356},{2006918058},{-808831384},{1131912276},{-634879114}},vehcolor=57,property={"bomjatnya_1","bomjatnya_2","bomjatnya_3","bomjatnya_4","bomjatnya_paleto","bomjatnya_sandy","bomjatnya_chumash","bomjatnya_harmony","bomjatnya_senora_hotel","bomjatnya_grapeseed","bomjatnya_paletoforest","bomjatnya_colortv"}},helipilot={spawninair=5000,models={411102470},vehicles={{744705981}},property={"helihangar"}},lostmc={models={-44746786,1330042375,1032073858,850468060},wepchance=100,weapons={{WEAPON.SWITCHBLADE,1},{WEAPON.KNIFE,1},{WEAPON.DAGGER,1},{WEAPON.BAT,1},{WEAPON.HAMMER,1},{WEAPON.GOLFCLUB,1},{WEAPON.CROWBAR,1},{WEAPON.KNUCKLE,1},{WEAPON.HATCHET,1},{WEAPON.MACHETE,1},{WEAPON.BATTLEAXE,1},{WEAPON.POOLCUE,1},{WEAPON.BOTTLE,1},{WEAPON.WRENCH,1}},vehicles={{390201602},{-1404136503},{2006142190},{741090084},{301427732},{-159126838},{-1606187161},{1873600305},{-618617997},{-1009268949},{-570033273}},faction=11,property={"mcclub"}},sportbiker={models={1794381917},wepchance=40,weapons={{WEAPON.MICROSMG,32},{WEAPON.MACHINEPISTOL,36},{WEAPON.MINISMG,40},{WEAPON.SMGMK2,30}},vehicles={{-891462355},{-114291515},{11251904},{-1670998136},{1265391242}},property={"sportbikeclub"}},paramedic={models={-1286380898},vehicles={{1171614426}},faction=23,property={"pillbox"}},firefighter={models={-1229853272},vehicles={{1938952078}},faction=24,property={"pillbox"}},racer={models={1264851357},vehicles={{-1622444098},{767087018},{-1041692462},{1274868363},{736902334},{2072687711},{-1045541610},{108773431},{-566387422},{-1995326987},{-1089039904},{499169875},{-1297672541},{544021352},{-1372848492},{482197771},{-142942670},{-1461482751},{-377465520},{-1934452204},{1737773231},{1032823388},{719660200},{-746882698},{-1757836725},{1886268224},{384071873},{2765724541}},vehrandmods=true,wepchance=40,weapons={{WEAPON.COMBATPISTOL,36},{WEAPON.PISTOL,36},{WEAPON.VINTAGEPISTOL,21},{WEAPON.PISTOL50,18},{WEAPON.HEAVYPISTOL,18},{WEAPON.DOUBLEACTION,12},{WEAPON.REVOLVER,12},{WEAPON.PISTOLMK2,24}},property={"premiumdeluxemotorsport"}}}local em={}a(d.property_owned)b(d.property_owned,function(en)em[en]=true end)RegisterNUICallback('chosecharacter',function(dP,dS)print("clicked "..dP.name)if ek and not eg then eg=true;dS('ok')SetNuiFocus(false,false)local dX=el[dP.name]if dX==nil then SendNUIMessage({chosecharacter=true})Wait(0)eg=false;return end;if dX.property and not dX.unlocked then for f,g in pairs(dX.property)do if em[g]then dX.unlocked=true;break end end;if not dX.unlocked then for f,g in pairs(dX.property)do c(d.property_check,g)end;Wait(800)for f,g in pairs(dX.property)do if em[g]then dX.unlocked=true;break end end end;if not dX.unlocked then SendNUIMessage({chosecharacter=true})Wait(0)eg=false;SetNuiFocus(true,true)return end end;if dX.faction then if eh(dX.faction)then print("banned from faction "..dX.faction)SendNUIMessage({chosecharacter=true})Wait(0)eg=false;SetNuiFocus(true,true)else print("not banned from faction "..dX.faction)SetNuiFocus(false,false)spawnPlayer(dX)ek=false;eg=false end else SetNuiFocus(false,false)spawnPlayer(dX)ek=false;eg=false end else dS('ok')end end)local function eo()local ep;while true do Wait(50)local eq=GetPlayerPed(-1)if eq and eq~=-1 then if dt then if NetworkIsPlayerActive(PlayerId())then if ec and GetTimeDifference(GetGameTimer(),ec)>10000 or eb then if du then du()elseif dy and not dW then ek=true;SendNUIMessage({chosecharacter=true})Wait(0)SendNUIMessage({chosecharacter=true})Wait(0)SendNUIMessage({chosecharacter=true})Wait(0)while ek do SetNuiFocus(true,true)Wait(0)end else spawnPlayer()end;eb=false end end end;if IsEntityDead(eq)then if not ec then local cO=GetEntityCoords(eq)if math.abs(GetEntityHeightAboveGround(eq))<4.0 then ec=GetGameTimer()else if ep~=nil then local er=math.abs(cO.x-ep.x)+math.abs(cO.y-ep.y)+math.abs(cO.z-ep.z)if er<.01 or IsEntityInWater(eq)and er<.1 then ec=GetGameTimer()end end end;ep={x=cO.x,y=cO.y,z=cO.z}end else ec=nil;ep=nil end end end end;local es,et,eu;a(d.savenquit_none)es=b(d.savenquit_none,function(ev)RemoveEventHandler(es)RemoveEventHandler(et)Wait(10000)math.randomseed(ev)math.random()math.random()math.random()math.random()math.random()dW=false;eb=false;dt=true;Citizen.CreateThread(eo)end)a(d.savenquit_load)et=b(d.savenquit_load,function()RemoveEventHandler(et)RemoveEventHandler(es)Wait(10000)math.randomseed(GetGameTimer())math.random()math.random()math.random()math.random()math.random()dW=false;eb=false;dt=true;Citizen.CreateThread(eo)end)a('savenquit:use_map_resource')eu=b('savenquit:use_map_resource',function()dz=nil;RemoveEventHandler(eu)end)function forceRespawn()dW=false;eb=true end end)local function ew(ex,ey,ez,eA,eB,eC,eD,eE,eF)SetTextOutline()SetTextFont(ex)SetTextScale(ez,ez)SetTextColour(eA,eB,eC,eD)if type(ey)=='table'then TextCommandDisplayText(eE,eF,table.unpack(ey))else TextCommandDisplayText(eE,eF,ey)end end;Citizen.CreateThread(function()local eG=true;local eH=true;local eI=true;local eJ=false;local bU=nil;local function eK(eL)if eL==1 then if bU~=nil then RenderScriptCams(false,false,0,1,0)DestroyCam(bU,false)bU=nil end;eG=true;eH=true;eI=true elseif eL==2 then eG=false;eH=true;eI=true elseif eL==3 then if bU~=nil then RenderScriptCams(false,false,0,1,0)DestroyCam(bU,false)bU=nil end;eG=false;eH=false;eI=true end end;eK(GetConvarInt("ddfa_camera_settings",1))Citizen.CreateThread(function()while true do if IsPedShooting(PlayerPedId())then eJ=true;Wait(100)else eJ=false;Wait(0)end end end)local eM={[782665360]=-1,[-2096818938]=1,[-1860900134]={3,4,5,6,7},[GetHashKey("squaddie2")]={3},[-692292317]=0,[-32236122]=1,[-1205689942]={1,2,3,4,5,6},[2071877360]={3,4},[-1775728740]={3,4,5,6}}local eN={[410882957]=true}local eO={[177293209]=true,[100416529]=true,[205991906]=true,[0xFFFFFFFFC734385A]=true,[1672152130]=true}local eP={[0xFFFFFFFFA0973D5E]=true,[0xFFFFFFFF93E220BD]=true,[741814745]=true,[615608432]=true,[0xFFFFFFFFAB564B93]=true,[0xFFFFFFFFBA45E8B8]=true}local eQ=false;local eR;while true do Wait(0)if IsControlJustPressed(0,20)then if eQ==false then eQ=true;SetRadarBigmapEnabled(true,false)else eQ=false;SetRadarBigmapEnabled(false,false)end end;local eS=false;local eT=false;local eU=false;local ped=PlayerPedId()local be=GetSelectedPedWeapon(ped)if eO[be]then if eG then eS=true;eT=false else eS=true;eT=true end elseif IsPedInAnyVehicle(ped,false)then local Y=GetVehiclePedIsUsing(ped)local aW=GetEntityModel(Y)if eI then for eV=0,3 do if GetPedInVehicleSeat(Y,eV-1)==ped then if IsVehicleWindowIntact(Y,eV)then DisableControlAction(0,25,false)DisableControlAction(0,68,false)if IsDisabledControlPressed(0,68)then RollDownWindow(Y,eV)end end;break end end end;eS=IsPedInAnyPlane(ped)or IsPedInAnyHeli(ped)if eG then local eW=eM[aW]if eW==nil then eT=true else if type(eW)=='table'then eT=true;for f,bZ in pairs(eW)do if GetPedInVehicleSeat(Y,bZ)==ped then eT=false;break end end elseif GetPedInVehicleSeat(Y,eW)~=ped then eT=true end end elseif not(eS or IsPedOnAnyBike(ped)or IsThisModelAJetski(aW))then local eW=eM[aW]if eW==nil then if GetFollowVehicleCamViewMode()~=4 then eT=true end else if type(eW)=='table'then eT=true;for f,bZ in pairs(eW)do if GetPedInVehicleSeat(Y,bZ)==ped then eT=false;eU=true;break end end elseif GetPedInVehicleSeat(Y,eW)~=ped then eT=true else eU=true end end end;if eN[aW]then DisableControlAction(0,24,false)DisableControlAction(0,47,false)DisableControlAction(0,58,false)DisableControlAction(0,91,false)DisableControlAction(0,92,false)DisableControlAction(0,263,false)DisableControlAction(0,264,false)DisableControlAction(0,257,false)DisableControlAction(0,140,false)DisableControlAction(0,141,false)DisableControlAction(0,142,false)DisableControlAction(0,143,false)DisablePlayerFiring(PlayerId(),true)end elseif eG then eT=true;eS=false end;if not eS then HideHudComponentThisFrame(14)end;if not eT then if eU or GetPedConfigFlag(ped,78,1)or eP[be]then local eX="hud_reticle"local eY="simpledotmp"local eZ="simpledotmp"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local T,U=GetActiveScreenResolution()local e_=0.006;DrawSprite(eX,eZ,0.5,0.5,e_*U/T,e_,0.0,255,255,255,200)end end end;if eG then if GetFollowPedCamViewMode()~=4 then SetFollowPedCamViewMode(4)print("forcing ped camera to 4")if GetFollowVehicleCamViewMode()~=4 then SetFollowVehicleCamViewMode(4)print("forcing veh camera to 4")end elseif GetFollowVehicleCamViewMode()~=4 then SetFollowVehicleCamViewMode(4)print("forcing veh camera to 4")else DisableControlAction(0,345,false)local f0=GetGameplayCamCoords()-GetPedBoneCoords(ped,0x796e,0,0,0)if math.abs(f0.x)+math.abs(f0.y)+math.abs(f0.z)>2.7 and not IsPedDeadOrDying(ped)and IsPedInAnyVehicle(ped,false)then DrawRect(0.5,0.5,1.1,1.1,0,0,0,255)SetTextCentre(true)ew(4,"Tap ~g~V",1.5,255,255,255,255,0.5,0.5)ew(4,math.abs(f0.x)+math.abs(f0.y)+math.abs(f0.z),1.5,255,255,255,255,0.5,0.6)else DisableControlAction(0,0,false)end end;if GetPedPropIndex(ped,0)~=-1 then ClearPedProp(ped,0)end;if GetPedPropIndex(ped,1)~=-1 then ClearPedProp(ped,1)end elseif eH then if GetPedConfigFlag(ped,78,1)~=false then if eR==nil then eR=GetFollowVehicleCamViewMode()if eR~=4 then SetFollowVehicleCamViewMode(4)end elseif GetFollowVehicleCamViewMode()~=4 then SetFollowVehicleCamViewMode(4)end elseif eR~=nil then SetFollowVehicleCamViewMode(eR)eR=nil end else if eT and not eS and GetPedConfigFlag(ped,78,1)then if bU==nil then bU=CreateCameraWithParams("DEFAULT_SCRIPTED_CAMERA",0.001,0.001,0.001,-90.0,.0,.0,50.0,1,2)SetCamFov(bU,50.0)RenderScriptCams(true,false,1,true,true)SetCamActive(bU,true)SetCamAffectsAiming(bU,false)end;local f1,f2=.0,.0;local f3=GetGameplayCamCoord()local bX=GetGameTimer()&0x1FFFF*2*math.pi/0x20000;f1=3.0*math.sin(bX)f2=3.0*math.cos(bX*2+math.pi/2)local M=GetVehiclePedIsUsing(ped)if M==0 then M=ped end;local cO=GetEntityCoords(M)AttachCamToEntity(bU,M,f3.x-cO.x,f3.y-cO.y,f3.z-cO.z,false)local f4=GetGameplayCamRot(2)SetCamRot(bU,f4.x+f2,f4.y,f4.z+f1,2)elseif bU~=nil then RenderScriptCams(false,false,0,1,0)DestroyCam(bU,false)bU=nil end end end end)Citizen.CreateThread(function()local f5={[-1649536104]=true,[782665360]=true}local f6={[410882957]=true,[-326143852]=true,[433954513]=true}local f7={[-1281684762]=500.0}local f8={[970385471]=.09,[-1281684762]=.12,[1824333165]=.1,[1341619767]=.05}while true do local ped=GetPlayerPed(-1)if IsPedInAnyVehicle(ped,false)then if IsPedInAnyPlane(ped)then local Y=GetVehiclePedIsUsing(ped)local aW=GetEntityModel(Y)local f9=f7[aW]if f9==nil then f9=4.0*GetVehicleModelMaxSpeed(aW)end;SetEntityMaxSpeed(Y,f9)SetVehicleEnginePowerMultiplier(Y,5000.0)if IsControlPressed(0,87)then local fa=f8[aW]if fa then if aW~=970385471 or GetVehicleHoverModePercentage(Y)<.1 then ApplyForceToEntityCenterOfMass(Y,1,.0,fa,.0,false,true,true,false)end end end;Wait(10)elseif IsPedInAnyBoat(ped)then Wait(1000)elseif IsPedInAnyHeli(ped)then Wait(1000)elseif IsPedInAnySub(ped)then Wait(1000)else local Y=GetVehiclePedIsUsing(ped)local aW=GetEntityModel(Y)if f5[aW]then local e4=GetVehicleEngineHealth(Y)local e5=GetVehicleBodyHealth(Y)if e4<e5 then SetVehicleEngineHealth(Y,e5)end;Wait(0)else local fb=GetVehicleEngineHealth(Y)if fb>450.0 then SetVehicleEngineHealth(Y,450.0)end;if f6[aW]then SetVehicleEngineTorqueMultiplier(Y,0.75)Wait(0)else SetVehicleEnginePowerMultiplier(Y,20.0)Wait(1000)end end end else Wait(1000)end end end)local fc=200;local fd=false;local fe=false;local ff={none=function()Wait(3000)end}local bm={civilian=false,is_cop=false,surrendering=true,money=0,wanted=0,is_dead=false,inside=false,in_apartment=false,special_ability=ff.none,special_ability_amount=0,special_ability_timeleft=0,showbusmenu=false,callingpolice=false,steam='steam_error',steam_high=0,steam_low=0}local fg=nil;local fh=nil;local fi={x=441.19030761719,y=-981.13079833984,z=30.689605712891}local fj=false;local fk={}local fl={}local fm={}local cO;local fn=GetHashKey("PRISONER")local fo=GetHashKey("PLAYER")local fp={}fp.corpseremovaltimestamp="CorpseRemovalTimestamp"fp.dontchangemodel="DontChangeModel"fp.customdispatchtimestamp="CustomDispatchTimestamp"fp.civilianbecamecriminal="CivBecameCriminal"fp.teamkiller_punished="TeamkillerPunished"fp.garbage_bag="GarbageBagHash"fp.cpr="cpr"fp.time_of_death_recorded="time_of_death_recorded"fp.steam_high="steam_high"fp.steam_low="steam_low"fp.owner_id="veh_owner_id"fp.filming1="filming1"fp.filming2="filming2"fp.filming3="filming3"fp.filming4="filming4"fp.filming5="filming5"fp.filming6="filming6"fp.filming7="filming7"fp.watching="watching_tv"fp.filming_rot="filming10"fp.filming_pos="filming11"fp.interiorhash="interiorhash"fp.partynumber="partynumber"fp.partycolor="partycolor"fp.party_x="party_x"fp.party_y="party_y"fp.party_z="party_z"fp.partytraitor="partytraitor"DecorRegister(fp.customdispatchtimestamp,5)DecorRegister(fp.dontchangemodel,2)DecorRegister(fp.corpseremovaltimestamp,5)DecorRegister(fp.interiorhash,3)DecorRegister(fp.partynumber,3)DecorRegister(fp.partycolor,3)DecorRegister(fp.party_x,3)DecorRegister(fp.party_y,3)DecorRegister(fp.party_z,3)DecorRegister(fp.partytraitor,3)DecorRegister(fp.owner_id,3)DecorRegister(fp.steam_high,3)DecorRegister(fp.steam_low,3)DecorRegister(fp.civilianbecamecriminal,2)DecorRegister(fp.teamkiller_punished,2)DecorRegister(fp.cpr,3)DecorRegister(fp.time_of_death_recorded,3)DecorRegister(fp.garbage_bag,3)DecorRegister(fp.filming1,1)DecorRegister(fp.filming2,1)DecorRegister(fp.filming3,1)DecorRegister(fp.filming4,1)DecorRegister(fp.filming5,1)DecorRegister(fp.filming6,1)DecorRegister(fp.filming7,1)DecorRegister(fp.watching,3)DecorRegister(fp.filming_rot,3)DecorRegister(fp.filming_pos,3)local fq={}local fr={}local fs={}local ft={}local fu={}local fv=nil;local fw=true;local fx={{x=-1039.685546,y=-412.2041320800,z=33.27317810058,angle=21.64019203186,radius=16},{x=-1043.722778,y=-403.6976623535,z=33.27317810058,angle=205.1398315429,radius=16},{x=-1037.418823,y=-399.1575927734,z=33.27317810058,angle=204.7279205322,radius=16},{x=-1033.457275,y=-406.8182678222,z=33.27318191528,angle=26.94477653503,radius=16},{x=-1398.044555,y=-461.5809326171,z=34.47920227050,angle=11.11164569854,radius=16},{x=-1409.498413,y=-459.4078063964,z=34.48365020752,angle=213.3029479980,radius=16},{x=-1443.468017,y=-523.6984863281,z=31.58182525634,angle=31.02633476257,radius=16},{x=-1446.421875,y=-519.0927124023,z=31.58182525634,angle=33.07036972045,radius=16},{x=-1449.182861,y=-514.4866333007,z=31.58182525634,angle=30.47829246521,radius=16},{x=-1538.055541,y=-576.7301635742,z=25.70781898498,angle=31.74063491821,radius=16},{x=-833.9008789,y=-400.1473693847,z=30.70482826232,angle=294.7731933593,radius=16},{x=-835.4608764,y=-395.6582946777,z=30.70537567138,angle=295.4821166992,radius=16},{x=-839.2616577,y=-391.5639343261,z=30.70547485351,angle=295.3235778808,radius=16},{x=-185.8487701,y=166.23648071289,z=69.70829772949,angle=84.55401611328,radius=16},{x=-184.9401092,y=171.38264465332,z=69.70859527587,angle=86.48316955566,radius=16},{x=-187.4133300,y=144.57749938965,z=69.70964813232,angle=163.0818023681,radius=16},{x=-144.5423736,y=-577.6981201171,z=31.80375671386,angle=161.1910552978,radius=16},{x=-20.22202682,y=-705.7244262695,z=31.71716499328,angle=342.9769287109,radius=16},{x=-36.26410675,y=-700.7737426757,z=31.71798515319,angle=341.0366210937,radius=16},{x=-4.271838188,y=-711.8181762695,z=31.71798896789,angle=338.9836120605,radius=16},{x=255.88787841,y=-751.6263427734,z=30.20108985900,angle=71.71109771728,radius=16},{x=155.72358703,y=-692.1958618164,z=32.50947189331,angle=158.1769714355,radius=16},{x=168.42227172,y=-698.0588989257,z=32.50762939453,angle=163.1546478271,radius=16},{x=371.42916870,y=-1651.860839843,z=26.67752075195,angle=138.9389038085,radius=16},{x=364.21832275,y=-1683.089599609,z=26.68415260314,angle=138.7008514404,radius=16},{x=393.04489135,y=-1670.743286132,z=26.69096946716,angle=137.1209716796,radius=16},{x=520.65783691,y=168.94683837891,z=98.74963378906,angle=250.6946868896,radius=16},{x=-1379.385498,y=-474.6076660156,z=31.28181838989,angle=99.054794311523,radius=16},{x=-29.67472458,y=3.541065454483,z=70.656951904297,angle=159.71878051758,radius=16},{x=79.461723327637,y=-2533.6181640625,z=6.2260570526123,angle=209.33934020996,radius=9},{x=75.011390686035,y=-2539.6477050781,z=6.2269997596741,angle=209.05969238281,radius=9},{x=77.192329406738,y=-2536.3874511719,z=6.2266731262207,angle=209.86859130859,radius=9},{x=139.22319030762,y=-2536.3791503906,z=6.2258954048157,angle=205.90068054199,radius=9},{x=143.77529907227,y=-2498.9580078125,z=6.2272624969482,angle=235.09417724609,radius=9},{x=139.51182556152,y=-2448.6220703125,z=6.2255501747131,angle=300.40008544922,radius=9},{x=146.34170532227,y=-2496.169921875,z=6.2246561050415,angle=234.27124023438,radius=9},{x=148.25201416016,y=-2492.4084472656,z=6.2231516838074,angle=234.32827758789,radius=9},{x=-1269.5834960938,y=-3377.4714355469,z=14.0,angle=330,radius=36},{x=-1647.2069091797,y=-3134.2456054688,z=14.0,angle=330,radius=36},{x=-1644.7590332031,y=-3148.1198730469,z=14.0,angle=330,radius=36},{x=-1660.5771484375,y=-3139.12109375,z=14.0,angle=330,radius=36},{x=-1181.6462402344,y=-2379.2512207031,z=14.0,angle=50,radius=64},{x=-797.32495117188,y=-1501.8538818359,z=-0.47531151771545,angle=109,radius=25},{x=-804.322265625,y=-1485.7386474609,z=-0.475227445364,angle=109,radius=25},{x=1733.7906494141,y=3301.3681640625,z=41.22350692749,angle=191.01606750488,radius=36},{x=2131.849609375,y=4786.2827148438,z=40.970283508301,angle=29.885553359985,radius=36},{x=-1593.8843994141,y=5259.2700195313,z=1.5794897079468,angle=19.289232254028,radius=36},{x=3851.8952636719,y=4477.4018554688,z=3.0,angle=273.72241210938,radius=36},{x=3091.7487792969,y=2188.46875,z=3.0,angle=181.06353759766,radius=36},{x=-1729.671875,y=-3066.1174316406,z=15.0,angle=319.92343,radius=64},{x=283.40374755859,y=75.906845092773,z=93.987991333008,angle=67.80687713623,radius=36},{x=146.83709716797,y=320.70883178711,z=111.76653289795,angle=114.86211395264,radius=36},{x=963.53662109375,y=-1856.3601074219,z=30.903295516968,angle=82.497917175293,radius=16},{x=-811.22631835938,y=187.62747192383,z=72.478698730469,angle=115.2571105957,radius=16},{x=21.811386108398,y=544.36962890625,z=175.88871765137,angle=61.470844268799,radius=16},{x=-930.38836669922,y=-2921.7431640625,z=13.615657806396,angle=240.09352111816,radius=16},{x=-291.75354003906,y=-990.86596679688,z=23.756319046021,angle=246.95065307617,radius=16},{x=-37.639461517334,y=-620.03393554688,z=34.392356872559,angle=250.35893249512,radius=16},{x=135.24867248535,y=-1050.9699707031,z=28.656225204468,angle=161.41242980957,radius=16},{x=-643.00457763672,y=-1133.5006103516,z=11.48632144928,radius=16},{x=-142.05001831055,y=183.90573120117,z=84.913269042969,radius=16},{x=-1555.3081054688,y=-401.65844726563,z=41.473136901855,angle=230.83497619629,radius=16},{x=-623.48303222656,y=56.5837059021,z=43.729766845703,angle=88.815956115723,radius=16},{x=-3073.5834960938,y=394.77331542969,z=6.9685225486755,angle=246.80639648438,radius=16},{x=-2980.826171875,y=612.38665771484,z=20.210779190063,angle=108.04837799072,radius=16},{x=-3181.7841796875,y=1277.0294189453,z=12.7034740448,angle=253.86938476563,radius=16},{x=1668.3345947266,y=4768.8784179688,z=41.67684173584,angle=277.49353027344,radius=16},{x=1977.3643798828,y=5170.48828125,z=47.63907623291,angle=133.93835449219,radius=16},{x=-365.51022338867,y=6334.248046875,z=29.434747695923,angle=220.84080505371,radius=16},{x=392.31408691406,y=430.83920288086,z=143.0068359375,angle=352.59094238281,radius=16},{x=353.50564575195,y=437.51190185547,z=146.34077453613,angle=296.95291137695,radius=16},{x=132.03175354004,y=567.87658691406,z=183.15789794922,angle=3.6926622390747,radius=16},{x=-189.54005432129,y=502.19567871094,z=134.02555847168,angle=23.3805809021,radius=16},{x=-555.03112792969,y=665.66827392578,z=144.52377319336,angle=337.38082885742,radius=16},{x=-684.97686767578,y=602.82952880859,z=143.18431091309,angle=50.64155960083,radius=16},{x=-753.73315429688,y=628.83166503906,z=142.17070007324,angle=300.96566772461,radius=16},{x=-862.76947021484,y=699.02545166016,z=148.61196899414,angle=340.13043212891,radius=16},{x=-1297.0166015625,y=457.17779541016,z=96.979309082031,angle=342.6630859375,radius=16},{x=-62.089931488037,y=6444.2392578125,z=31.077264785767,angle=45.071678161621,radius=16}}for f,g in pairs(fx)do g.sprite=357;g.color=4 end;a(d.my_steam)b(d.my_steam,function(fy)local fz=tonumber(fy,16)bm.steam=fy;bm.steam_low=fz&0xFFFFFFFF;bm.steam_high=fz>>32&0xFFFFFFFF;print("my steam is: "..string.format("%X",bm.steam_high)..string.format("%X",bm.steam_low))end)local fA={binco={1077785853,-2077764712,-771835772,2021631368,600300561,-408329255,-1382092357,436345731,-37334073,-459818001,766375082,-106498753,-173013091,-1656894598,-1538846349,1674107025,70821038,-1806291497,-88831029,1641152947,951767867,1165780219,331645324,330231874,-1386944600,2111372120,-1444213182,-685776591,813893651,1358380044,1312913862,1746653202,-1445349730,-2088436577,-640198516,1767892582,-1044093321,-1342520604,193817059,1750583735,718836251,-215821512,-1519524074,1519319503,-1620232223,1082572151,-1398552374,-2018356203,-1948675910,238213328,-1007618204,-1023672578,-812470807,-1731772337,-2039163396,-1029146878,-48477765,228715206,-1837161693,-829353047,919005580,-1222037748,-356333586,-929103484,1347814329,1446741360},suburban={2114544056,-900269486,-1106743555,1146800212,1423699487,1982350912,-1606864033,1546450936,1068876755,1720428295,549978415,920595805,131961260,377976310,1371553700,115168927,793439294,1640504453,-1736970383,891398354,-2109222095,587703123,-1745486195,349505262,-1514497514,429425116,321657486,921110016,-417940021,-1976105999,-840346158,605602864,-1047300121,435429221,1264851357,-625565461,1561705728,933092024,534725268,-85696186,835315305,-1800524916},ponsonbys={-1697435671,664399832,2120901815,-912318012,532905404,826475330,-1280051738,-1366884940,-1589423867,-1211756494}}local fB={BORDERPATROL={GetHashKey("d_o_v_npatrol_01")},COASTGUARD={-905948951},LSFD={-1229853272},REPORTERS={-322270187,815693290,1055701597,-1717894970,776079908},MEDICS={-1286380898,-1420211530,-730659924},LSPD={1581098148,368603149},DETECTIVESHEAVY={GetHashKey("D_O_V_Dick_01")},DETECTIVES={GetHashKey("s_m_m_dick_01")},SECURITY={-681004504},NYSP={451459928},NAVY={1925237458},MILITARY={-220552467,1702441027,1490458366},NOOSE={-1920001264},SAHP={1939545845},SSPD={1096929346,-1320879687},SAPR={-1614285257,-277793362},FBISWAT={2072724299,-1145735340},FBI={-306416314,653289389},LOST={1032073858,1330042375,850468060,-44746786},MERCS={-1275859404,2047212121,1349953339},ANARCHY={-1105135100,GetHashKey("g_m_y_anar_02")},BALLAS={-198252413,588969535,599294057,361513884},FAMILIES={-398748745,-613248456,-2077218039,1309468115},VAGOS={653210662,832784782,-1773333796,1520708641},SALVA={-1872961334,663522487,846439045,62440720},TRIADS={891945583,611648169,-1880237687,2093736314,-1176698112,275618457,2119136831,-9308122},MOBS={-236444766,-39239064,-984709238,-412008429},HEISTERS={1822283721},CARTEL={1329576454,-1561829034},PIRATES={-356333586},ELITE={-245247470,691061163},CRIMINAL={GetHashKey("A_M_M_MexLabor_01"),GetHashKey("S_M_M_AutoShop_01"),GetHashKey("A_M_Y_Beach_02"),GetHashKey("A_M_Y_BeachVesp_01"),GetHashKey("A_M_Y_BeachVesp_02"),GetHashKey("A_M_M_BevHills_01"),GetHashKey("A_M_Y_BevHills_01"),GetHashKey("A_M_M_BevHills_02"),GetHashKey("A_M_Y_BevHills_02"),GetHashKey("A_M_Y_BusiCas_01"),GetHashKey("A_M_Y_Business_02"),GetHashKey("A_M_Y_Business_03"),GetHashKey("S_M_O_Busker_01"),GetHashKey("A_M_Y_Cyclist_01"),GetHashKey("S_M_Y_Dealer_01"),GetHashKey("A_M_Y_Downtown_01"),GetHashKey("A_M_M_EastSA_01"),GetHashKey("A_M_Y_EastSA_01"),GetHashKey("A_M_M_EastSA_02"),GetHashKey("A_M_Y_EastSA_02"),GetHashKey("U_M_M_Edtoh"),GetHashKey("A_M_Y_Gay_01"),GetHashKey("A_M_M_GenFat_01"),GetHashKey("A_M_M_GenFat_02"),GetHashKey("A_M_Y_GenStreet_01"),GetHashKey("A_M_Y_GenStreet_02"),GetHashKey("A_M_Y_Golfer_01"),GetHashKey("S_M_Y_Grip_01"),GetHashKey("A_M_Y_Indian_01"),GetHashKey("A_M_M_KTown_01"),GetHashKey("A_M_O_KTown_01"),GetHashKey("A_M_Y_KTown_01"),GetHashKey("A_M_Y_KTown_02"),GetHashKey("A_M_Y_Latino_01"),GetHashKey("U_M_Y_Party_01"),GetHashKey("A_M_M_Polynesian_01"),GetHashKey("A_M_Y_Polynesian_01"),GetHashKey("S_M_Y_Robber_01"),GetHashKey("A_M_Y_Runner_02"),GetHashKey("A_M_M_Skater_01"),GetHashKey("A_M_Y_Skater_01"),GetHashKey("A_M_Y_Skater_02"),GetHashKey("A_M_M_Skidrow_01"),GetHashKey("A_M_M_SoCenLat_01"),GetHashKey("A_M_M_SouCent_01"),GetHashKey("A_M_M_SouCent_02"),GetHashKey("A_M_M_SouCent_03"),GetHashKey("A_M_M_SouCent_04"),GetHashKey("A_M_O_SouCent_01"),GetHashKey("A_M_O_SouCent_02"),GetHashKey("A_M_O_SouCent_03"),GetHashKey("A_M_Y_SouCent_01"),GetHashKey("A_M_Y_SouCent_02"),GetHashKey("A_M_Y_SouCent_03"),GetHashKey("A_M_Y_SouCent_04"),GetHashKey("A_M_Y_StBla_01"),GetHashKey("A_M_Y_StBla_02"),GetHashKey("A_M_Y_StLat_01"),GetHashKey("A_M_M_StLat_02"),GetHashKey("G_M_Y_StrPunk_01"),GetHashKey("G_M_Y_StrPunk_02"),GetHashKey("S_M_Y_StrVend_01"),GetHashKey("A_M_Y_StWhi_01"),GetHashKey("A_M_Y_StWhi_02"),GetHashKey("A_M_Y_Sunbathe_01"),GetHashKey("U_M_Y_Tattoo_01"),GetHashKey("A_M_Y_VinDouche_01")}}local function fC(bm,bH)if bH>5 then bH=5 end;SetPlayerWantedLevel(bm,0,false)SetPlayerWantedLevelNow(bm,false)ReportCrime(bm,8,GetWantedLevelThreshold(bH)+40)SetPlayerWantedLevel(bm,bH,false)SetPlayerWantedLevelNow(bm,false)end;local function fD(eD)local eC=math.floor(eD)local fE=math.floor((eD-eC)*10+.5)if fE>9 then return""..eC+1 elseif fE==0 then return eC else return eC.."."..fE end end;local function fF(eD)local eC=math.floor(eD)local fE=math.floor((eD-eC)*100+.5)if fE>99 then return""..eC+1 elseif fE>9 then return eC.."."..fE elseif fE==0 then return eC else return eC..".0"..fE end end;local function fG(fH)for Y in EnumerateVehicles()do if GetVehicleNumberPlateText(Y)==fH then return Y end end;return 0 end;local function fI(Y)local fJ=AddBlipForEntity(Y)SetBlipSprite(fJ,326)SetBlipDisplay(fJ,2)SetBlipScale(fJ,0.6)SetBlipColour(fJ,3)end;local function fK(W)SetEntityAsMissionEntity(W,true,true)NetworkRegisterEntityAsNetworked(W)local fL=NetworkGetNetworkIdFromEntity(W)if fL==0 then Wait(0)fL=NetworkGetNetworkIdFromEntity(W)end;SetNetworkIdExistsOnAllMachines(fL,true)return fL end;local function fM()local fN={}local fO=false;local u=0;if fq.plate and fq.net~=NetworkGetNetworkIdFromEntity(fq.veh)then u=u+1;fN[u]=fq;fO=true end;if fr.plate and fr.net~=NetworkGetNetworkIdFromEntity(fr.veh)then u=u+1;fN[u]=fr;fO=true end;if fs.plate and fs.net~=NetworkGetNetworkIdFromEntity(fs.veh)then u=u+1;fN[u]=fs;fO=true end;if fO then for Y in EnumerateVehicles()do for fP,fQ in pairs(fN)do if GetVehicleNumberPlateText(Y)==fQ.plate then local K=GetEntityModel(Y)if fQ.hash==K then fQ.veh=Y;NetworkUnregisterNetworkedEntity(Y)fQ.net=fK(Y)fI(Y)if fQ.gps and fQ.gps.blip then RemoveBlip(fQ.gps.blip)fQ.gps.blip=nil end;fN[fP]={}fN[fP]=nil;break end end end end end end;local function fR(fQ)if fQ.gps then if fQ.gps.blip then RemoveBlip(fQ.gps.blip)fQ.gps.blip=nil end;fQ.gps.x=nil;fQ.gps.y=nil;fQ.gps.z=nil;fQ.gps.name=nil end end;local function fS(fT,fU)if fT.gps then if not fU.gps then fU.gps={}end;fU.gps.x=fT.gps.x;fU.gps.y=fT.gps.y;fU.gps.z=fT.gps.z;fU.gps.blip=fT.gps.blip;fU.gps.name=fT.gps.name else fU.gps={}end end;local function fV()c(d.plates,fq.plate,fq.hash,fr.plate,fr.hash,fs.plate,fs.hash)end;local function fW(fH)c(d.abandoncar,fH)end;local function fX(fQ)if fQ.veh~=nil and fQ.net~=nil and fQ.net~=0 and fQ.plate then if fQ.net~=NetworkGetNetworkIdFromEntity(fQ.veh)then fW(fQ.plate)else SetVehicleAsNoLongerNeeded(fQ.veh)end end end;local function fY(fQ)if fQ.plate then if fQ.veh~=nil and fQ.net~=nil and fQ.net~=0 then if fQ.net~=NetworkGetNetworkIdFromEntity(fQ.veh)then fQ.veh=nil else local cO=GetEntityCoords(fQ.veh)if not fQ.gps then fQ.gps={}end;fQ.gps.x,fQ.gps.y,fQ.gps.z=cO.x,cO.y,cO.z;if not fQ.gps.name then fQ.gps.name=GetDisplayNameFromVehicleModel(GetEntityModel(fQ.veh))end end end;if fQ.veh==nil then if fQ.gps and not fQ.gps.blip then local fJ=AddBlipForCoord(fQ.gps.x,fQ.gps.y,fQ.gps.z)local fZ;SetBlipSprite(fJ,326)SetBlipDisplay(fJ,2)SetBlipScale(fJ,0.6)SetBlipColour(fJ,1)if fQ.gps.name then SetBlipName(fJ,"GPS signal lost:~a~(~a~)",fQ.gps.name,fQ.plate)SimpleNotification("~r~GPS signal lost:\n~a~(~a~)",fQ.gps.name,fQ.plate)else SetBlipName(fJ,"GPS signal lost:~a~",fQ.plate)SimpleNotification("~r~GPS signal lost:~a~",fQ.plate)end;fQ.gps.blip=fJ end;if IsPedInAnyVehicle(PlayerPedId(),false)then vehnew=GetVehiclePedIsUsing(PlayerPedId())local f_=GetVehicleNumberPlateText(vehnew)if f_==fQ.plate then NetworkUnregisterNetworkedEntity(vehnew)local g0=fK(vehnew)fI(vehnew)if fQ.gps and fQ.gps.blip then RemoveBlip(fQ.gps.blip)fQ.gps.blip=nil end;fQ.veh=vehnew;fQ.net=g0 end end end end end;Citizen.CreateThread(function()Wait(5000)local el={[0]=1,[1]=1,[2]=1,[3]=1,[4]=2,[5]=2,[6]=2,[7]=4,[8]=1,[9]=1,[10]=2,[11]=1,[12]=1,[13]=1,[14]=1,[15]=3,[16]=3,[17]=1,[18]=3,[19]=5,[20]=2,[21]=2}while true do Citizen.Wait(300000)local g1=PlayerId()local ped=PlayerPedId()if IsPedInAnyVehicle(ped,false)and not bm.is_cop and not bm.civilian then local Y=GetVehiclePedIsUsing(ped)fY(fq)fY(fr)fY(fs)fM()if Y~=fq.veh and Y~=fr.veh and Y~=fs.veh and ped==GetPedInVehicleSeat(Y,-1)then if not DecorExistOn(Y,"nowantedforstealing")or DecorGetInt(Y,"nowantedforstealing")~=GetPlayerServerId(PlayerId())then local g2=GetEntityModel(ped)if g2~=1329576454 and g2~=-1561829034 then local bH=el[GetVehicleClass(Y)]if GetPlayerWantedLevel(g1)<bH then SetPlayerWantedLevel(g1,bH,false)SimpleNotification("This vehicle is ~r~stolen~s~. Police is searching for it.")end end end end end end end)Citizen.CreateThread(function()Wait(5000)while true do Wait(1000)if fj then local g3="debug:m="if fq.veh then g3=g3 ..fq.veh else g3=g3 .."nil"end;g3=g3 .." o="if fr.veh then g3=g3 ..fr.veh else g3=g3 .."nil"end;g3=g3 .." r="if fs.veh then g3=g3 ..fs.veh else g3=g3 .."nil"end;if IsPedInAnyVehicle(PlayerPedId(),false)then g3=g3 .." "..GetVehiclePedIsUsing(PlayerPedId())end;SetNotificationTextEntry("STRING")AddTextComponentString(g3)DrawNotification(false,false)Wait(1000)g3="ent2n:m="if fq.veh then g3=g3 ..NetworkGetNetworkIdFromEntity(fq.veh)else g3=g3 .."nil"end;g3=g3 .." o="if fr.veh then g3=g3 ..NetworkGetNetworkIdFromEntity(fr.veh)else g3=g3 .."nil"end;g3=g3 .." r="if fs.veh then g3=g3 ..NetworkGetNetworkIdFromEntity(fs.veh)else g3=g3 .."nil"end;if IsPedInAnyVehicle(PlayerPedId(),false)then g3=g3 .." "..NetworkGetNetworkIdFromEntity(GetVehiclePedIsUsing(PlayerPedId()))end;SetNotificationTextEntry("STRING")AddTextComponentString(g3)DrawNotification(false,false)Wait(1000)g3="net2e:m="if fq.net then g3=g3 ..NetworkGetEntityFromNetworkId(fq.net)else g3=g3 .."nil"end;g3=g3 .." o="if fr.net then g3=g3 ..NetworkGetEntityFromNetworkId(fr.net)else g3=g3 .."nil"end;g3=g3 .." r="if fs.net then g3=g3 ..NetworkGetEntityFromNetworkId(fs.net)else g3=g3 .."nil"end;SetNotificationTextEntry("STRING")AddTextComponentString(g3)DrawNotification(false,false)Wait(1000)g3="netdb:m="if fq.net then g3=g3 ..fq.net else g3=g3 .."nil"end;g3=g3 .." o="if fr.net then g3=g3 ..fr.net else g3=g3 .."nil"end;g3=g3 .." r="if fs.net then g3=g3 ..fs.net else g3=g3 .."nil"end;SetNotificationTextEntry("STRING")AddTextComponentString(g3)DrawNotification(false,false)Wait(1000)g3="plate:m="if fq.plate then g3=g3 ..fq.plate else g3=g3 .."nil"end;g3=g3 .." o="if fr.plate then g3=g3 ..fr.plate else g3=g3 .."nil"end;g3=g3 .." r="if fs.plate then g3=g3 ..fs.plate else g3=g3 .."nil"end;SetNotificationTextEntry("STRING")AddTextComponentString(g3)DrawNotification(false,false)Wait(1000)end end end)local function g4(g5,g6,g7,g8)SendNUIMessage({enginehp=g5,bodyhp=g6,tankhp=g7})end;local function g9(ga)SendNUIMessage({showmoney=true,setmoney=ga})end;local function gb(ga,gc)SendNUIMessage({showmoney=true,setmoney=ga,addcash=gc})end;local function gd(ga,gc)SendNUIMessage({showmoney=true,setmoney=ga,removecash=gc})end;a(d.money)b(d.money,function(ge)if ge==nil then ge=0 end;if bm.money and ge<bm.money then gd(ge,bm.money-ge)else gb(ge,ge-bm.money)end;bm.money=ge end)a(d.notification)b(d.notification,function(...)SimpleNotification(...)end)a("fragile-alliance:subtitles")b("fragile-alliance:subtitles",function(ey,gf,gg)BeginTextCommandPrint("STRING")AddTextComponentString(ey)EndTextCommandPrint(gf,gg)end)a("fragile-alliance:helptext")b("fragile-alliance:helptext",function(...)SimpleHelpText(...)end)Citizen.CreateThread(function()Wait(5000)while true do if not bm.is_cop then SimpleHelpText("Press ~INPUT_PHONE~ to use your phone.")Wait(600000)end;SimpleHelpText("Press ~INPUT_CELLPHONE_CAMERA_FOCUS_LOCK~ to use ~g~special ability~s~.")Wait(600000)if not bm.is_cop then SimpleHelpText("Money:\n~INPUT_REPLAY_START_STOP_RECORDING~ hide\n~INPUT_REPLAY_START_STOP_RECORDING_SECONDARY~ take")Wait(600000)end;if not bm.is_cop then SimpleHelpText("~INPUT_REPLAY_START_STOP_RECORDING~ to hide money in any place.")Wait(600000)end;if not bm.is_cop then SimpleHelpText("~INPUT_REPLAY_START_STOP_RECORDING_SECONDARY~ to take money from hideout.")Wait(600000)end;if not bm.is_cop then SimpleHelpText("Press ~INPUT_REPLAY_SCREENSHOT~ to blend in.")Wait(600000)end;if not bm.is_cop then SimpleHelpText("Press ~INPUT_DROP_WEAPON~ to drop weapon.")Wait(600000)end;if bm.is_cop then SimpleHelpText("Press ~INPUT_VEH_HEADLIGHT~ to arrest surrendering player.")Wait(600000)else SimpleHelpText("Press ~INPUT_VEH_HEADLIGHT~ to surrender.")Wait(600000)end;Wait(0)end end)a(d.startheist)b(d.startheist,function(dU,gh)if dU<0 and not fk[dU]then SimpleNotification("~a~ ~g~$~1~",gh.name,gh.money)TextCommandPrint(5000,false,"~g~~a~",gh.name)end;fk[dU]=gh;if fl[dU]~=nil then SetBlipCoords(fl[dU],gh.x,gh.y,gh.z)else fl[dU]=AddBlipForCoord(gh.x,gh.y,gh.z)end;SetBlipSprite(fl[dU],gh.sprite)SetBlipDisplay(fl[dU],2)SetBlipScale(fl[dU],gh.bs)local gi={[0]=4,[1]=2,[2]=2,[3]=46,[4]=51,[5]=1,[6]=40}SetBlipColour(fl[dU],gi[gh.wanted])SetBlipName(fl[dU],gh.name)end)local function gj(dj)SetEntityAsNoLongerNeeded(dj)SetEntityAsMissionEntity(dj)DeleteObject(dj)end;local function gk(gl)for f,g in pairs(gl)do if type(g)=='table'then gk(g)else gj(g)end end end;a(d.stopheist)b(d.stopheist,function(dU)fk[dU]=nil;if fl[dU]then SetBlipSprite(fl[dU],406)SetBlipDisplay(fl[dU],2)end;if fm[dU]~=nil then if type(fm[dU])=='table'then gk(fm[dU])fm[dU]=nil else gj(fm[dU])fm[dU]=nil end end end)local function gm(ped,gn)if gn~=nil then for dY,dZ in pairs(gn)do if type(dZ)=='table'then SetPedComponentVariation(ped,dY,dZ[1],dZ[2],0)else local d_=GetNumberOfPedTextureVariations(ped,dY,dZ)if d_>0 then d_=math.random(0,d_-1)end;SetPedComponentVariation(ped,dY,dZ,d_,0)end end end end;local function go(gp,ped)Wait(gp)SetPedAsNoLongerNeeded(ped)end;local function gq(gp,ped)local fZ="Friend"local gr=GetEntityCoords(ped)local bB=AddBlipForCoord(gr.x,gr.y,gr.z)SetBlipSprite(bB,310)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,0)SetBlipAsShortRange(bB,true)SetBlipName(bB,fZ)Wait(gp)RemoveBlip(bB)SetPedAsNoLongerNeeded(ped)SimpleNotification(fZ.." corpse removed.")end;Citizen.CreateThread(function()Wait(5000)while true do Wait(500)for fP,g in pairs(fu)do if IsPedFatallyInjured(g)then Citizen.CreateThread(function()gq(120000,g)end)fu[fP]=nil end end;for fP,g in pairs(ft)do if IsPedFatallyInjured(g)then Citizen.CreateThread(function()go(120000,g)end)ft[fP]=nil end end;Wait(500)fY(fq)fY(fr)fY(fs)fM()if fs.veh and GetVehicleEngineHealth(fs.veh)<-3999 then local fZ=GetDisplayNameFromVehicleModel(GetEntityModel(fs.veh))SetVehicleAsNoLongerNeeded(fs.veh)fs.veh=nil;fs.net=nil;fR(fs)fs.plate=nil;fs.hash=nil;fV()SimpleNotification("Rented ~r~~a~~s~ destroyed, shame on you!",fZ)end;if fq.veh and GetVehicleEngineHealth(fq.veh)<-3999 then local fZ=GetDisplayNameFromVehicleModel(GetEntityModel(fq.veh))SetVehicleAsNoLongerNeeded(fq.veh)fq.veh=nil;fq.net=nil;fR(fq)fq.plate=nil;fq.hash=nil;fV()SimpleNotification("Your last bought vehicle(~r~~a~~s~) is destroyed.",fZ)end;if fr.veh and GetVehicleEngineHealth(fr.veh)<-3999 then local fZ=GetDisplayNameFromVehicleModel(GetEntityModel(fr.veh))SetVehicleAsNoLongerNeeded(fr.veh)fr.veh=nil;fr.net=nil;fR(fr)fr.plate=nil;fr.hash=nil;fV()SimpleNotification("Your previously bought vehicle(~r~~a~~s~) is destroyed.",fZ)end end end)local function gs(ped)SetPedCombatAbility(ped,2)SetPedCombatRange(ped,2)SetPedCombatMovement(ped,1)SetPedCombatAttributes(ped,0,true)SetPedCombatAttributes(ped,1,true)SetPedCombatAttributes(ped,2,true)SetPedCombatAttributes(ped,3,false)SetPedCombatAttributes(ped,5,true)SetPedCombatAttributes(ped,46,true)SetPedCombatAttributes(ped,1424,true)SetPedFleeAttributes(ped,1,false)SetPedFleeAttributes(ped,2,false)SetPedFleeAttributes(ped,4,false)SetPedFleeAttributes(ped,8,false)SetPedFleeAttributes(ped,16,false)SetPedFleeAttributes(ped,32,false)SetPedFleeAttributes(ped,64,false)SetDriverAbility(ped,1.0)end;local function gt(ped)SetPedCombatAbility(ped,2)SetPedCombatAttributes(ped,0,true)SetPedCombatAttributes(ped,1,true)SetPedCombatAttributes(ped,2,true)SetPedCombatAttributes(ped,3,true)SetPedCombatAttributes(ped,5,true)SetPedCombatAttributes(ped,46,true)SetPedCombatAttributes(ped,1424,true)SetPedFleeAttributes(ped,1,false)SetPedFleeAttributes(ped,2,false)SetPedFleeAttributes(ped,4,false)SetPedFleeAttributes(ped,8,false)SetPedFleeAttributes(ped,16,false)SetPedFleeAttributes(ped,32,false)SetPedFleeAttributes(ped,64,false)SetDriverAbility(ped,1.0)end;local function gu(K,T,U,V,be,gv)RequestModel(K)while not HasModelLoaded(K)do Wait(10)end;local ped=CreatePed(4,K,T,U,V,0.0,true,false)gt(ped)SetPedRandomComponentVariation(ped,false)if be then GiveWeaponToPed(ped,be,1000,false,true)end;SetModelAsNoLongerNeeded(K)table.insert(gv,ped)return ped end;local function gw(T,U,V,dn,gx,gy,gv)local ped;local gz=CreateGroup()for u=1,dn do if gy~=nil then ped=gu(gx[math.random(#gx)],T,U,V,gy[math.random(#gy)],gv)else ped=gu(gx[math.random(#gx)],T,U,V,nil,gv)end;SetPedAsGroupMember(ped,gz)SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)TaskWanderInArea(ped,T,U,V,10.0,5.0,5.0)SetEntityAsMissionEntity(ped,true,true)Wait(500)end;SetPedAsGroupLeader(ped,gz)SetGroupFormation(gz,1)end;a(d.spawnpeds)b(d.spawnpeds,function(T,U,V,dn,gx,gy)ReserveNetworkMissionPeds(dn)while dn>8 do gw(T,U,V,8,gx,gy,ft)dn=dn-8 end;if dn>1 then gw(T,U,V,dn,gx,gy,ft)elseif dn>0 then local ped;if gy~=nil then ped=gu(gx[math.random(#gx)],T,U,V,gy[math.random(#gy)],ft)else ped=gu(gx[math.random(#gx)],T,U,V,nil,ft)end;SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)SetEntityAsMissionEntity(ped,true,true)end end)local gA={}for f,g in pairs(fB.LSFD)do gA[g]=true end;for f,g in pairs(fB.MEDICS)do gA[g]=true end;for f,g in pairs(fB.REPORTERS)do gA[g]=true end;for f,g in pairs(fB.COASTGUARD)do gA[g]=true end;local function gB(ped)return IsPedCop(ped)or gA[GetEntityModel(ped)]end;local gC={}gC[GetHashKey("COP")]="COP"gC[GetHashKey("PLAYER")]="PLAYER"gC[GetHashKey("AMBIENT_GANG_LOST")]="AMBIENT_GANG_LOST"gC[GetHashKey("PRIVATE_SECURITY")]="PRIVATE_SECURITY"gC[GetHashKey("CIVMALE")]="CIVMALE"gC[GetHashKey("CIVFEMALE")]="CIVFEMALE"gC[GetHashKey("SECURITY_GUARD")]="SECURITY_GUARD"gC[GetHashKey("FIREMAN")]="FIREMAN"gC[GetHashKey("GANG_1")]="GANG_1"gC[GetHashKey("GANG_2")]="GANG_2"gC[GetHashKey("GANG_9")]="GANG_9"gC[GetHashKey("GANG_10")]="GANG_10"gC[GetHashKey("AMBIENT_GANG_LOST")]="AMBIENT_GANG_LOST"gC[GetHashKey("AMBIENT_GANG_MEXICAN")]="AMBIENT_GANG_MEXICAN"gC[GetHashKey("AMBIENT_GANG_FAMILY")]="AMBIENT_GANG_FAMILY"gC[GetHashKey("AMBIENT_GANG_BALLAS")]="AMBIENT_GANG_BALLAS"gC[GetHashKey("AMBIENT_GANG_MARABUNTE")]="AMBIENT_GANG_MARABUNTE"gC[GetHashKey("AMBIENT_GANG_CULT")]="AMBIENT_GANG_CULT"gC[GetHashKey("AMBIENT_GANG_SALVA")]="AMBIENT_GANG_SALVA"gC[GetHashKey("AMBIENT_GANG_WEICHENG")]="AMBIENT_GANG_WEICHENG"gC[GetHashKey("AMBIENT_GANG_HILLBILLY")]="AMBIENT_GANG_HILLBILLY"gC[GetHashKey("DEALER")]="DEALER"gC[GetHashKey("HATES_PLAYER")]="HATES_PLAYER"gC[GetHashKey("HEN")]="HEN"gC[GetHashKey("WILD_ANIMAL")]="WILD_ANIMAL"gC[GetHashKey("SHARK")]="SHARK"gC[GetHashKey("COUGAR")]="COUGAR"gC[GetHashKey("NO_RELATIONSHIP")]="NO_RELATIONSHIP"gC[GetHashKey("SPECIAL")]="SPECIAL"gC[GetHashKey("MISSION2")]="MISSION2"gC[GetHashKey("MISSION3")]="MISSION3"gC[GetHashKey("MISSION4")]="MISSION4"gC[GetHashKey("MISSION5")]="MISSION5"gC[GetHashKey("MISSION6")]="MISSION6"gC[GetHashKey("MISSION7")]="MISSION7"gC[GetHashKey("MISSION8")]="MISSION8"gC[GetHashKey("ARMY")]="ARMY"gC[GetHashKey("GUARD_DOG")]="GUARD_DOG"gC[GetHashKey("AGGRESSIVE_INVESTIGATE")]="AGGRESSIVE_INVESTIGATE"gC[GetHashKey("MEDIC")]="MEDIC"gC[GetHashKey("PRISONER")]="PRISONER"gC[GetHashKey("CAT")]="CAT"gC[GetHashKey("DEER")]="DEER"local function gD(gE,gF)for f,g in pairs(gC)do if f==gE then local eD=GetRelationshipBetweenGroups(gE,gE)SetRelationshipBetweenGroups(eD,gF,gF)elseif f==gF then local eD=GetRelationshipBetweenGroups(gE,gF)SetRelationshipBetweenGroups(eD,gF,gE)else local eD=GetRelationshipBetweenGroups(gE,f)local eC=GetRelationshipBetweenGroups(f,gE)SetRelationshipBetweenGroups(eD,gF,f)SetRelationshipBetweenGroups(eC,f,gF)end end end;local function gG(gH,eD,eC)SetRelationshipBetweenGroups(gH,eD,eC)SetRelationshipBetweenGroups(gH,eC,eD)end;local function gI(gH,eD)SetRelationshipBetweenGroups(gH,eD,eD)end;Citizen.CreateThread(function()Wait(1000)while not NetworkIsSessionStarted()do Wait(100)end;SetPoliceRadarBlips(false)ReserveNetworkMissionVehicles(5)gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_LOST"))gG(5,GetHashKey("PRISONER"),GetHashKey("AGGRESSIVE_INVESTIGATE"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_BALLAS"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_FAMILY"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_MEXICAN"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_MARABUNTE"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_WEICHENG"))gG(5,GetHashKey("PRISONER"),GetHashKey("AMBIENT_GANG_SALVA"))gG(5,GetHashKey("PRISONER"),GetHashKey("MISSION3"))gG(5,GetHashKey("PRISONER"),GetHashKey("MISSION4"))gG(5,GetHashKey("PRISONER"),GetHashKey("MISSION5"))gI(0,GetHashKey("AMBIENT_GANG_LOST"))gI(0,GetHashKey("AGGRESSIVE_INVESTIGATE"))gI(0,GetHashKey("AMBIENT_GANG_BALLAS"))gI(0,GetHashKey("AMBIENT_GANG_FAMILY"))gI(0,GetHashKey("AMBIENT_GANG_MEXICAN"))gI(0,GetHashKey("AMBIENT_GANG_MARABUNTE"))gI(0,GetHashKey("AMBIENT_GANG_WEICHENG"))gI(0,GetHashKey("AMBIENT_GANG_SALVA"))gI(0,GetHashKey("MISSION3"))gI(0,GetHashKey("MISSION4"))gI(0,GetHashKey("MISSION5"))gG(2,GetHashKey("PLAYER"),GetHashKey("MISSION3"))gG(2,GetHashKey("PLAYER"),GetHashKey("MISSION4"))gG(2,GetHashKey("PLAYER"),GetHashKey("MISSION5"))gG(4,GetHashKey("AMBIENT_GANG_BALLAS"),GetHashKey("AMBIENT_GANG_FAMILY"))gG(4,GetHashKey("AMBIENT_GANG_MEXICAN"),GetHashKey("AMBIENT_GANG_SALVA"))gG(4,GetHashKey("AMBIENT_GANG_WEICHENG"),GetHashKey("AMBIENT_GANG_LOST"))gD(GetHashKey("PLAYER"),GetHashKey("MISSION2"))gG(GetRelationshipBetweenGroups(GetHashKey("PLAYER"),GetHashKey("PLAYER")),GetHashKey("PLAYER"),GetHashKey("MISSION2"))gD(GetHashKey("PLAYER"),GetHashKey("MISSION3"))gG(GetRelationshipBetweenGroups(GetHashKey("PLAYER"),GetHashKey("PLAYER")),GetHashKey("PLAYER"),GetHashKey("MISSION3"))gD(GetHashKey("PLAYER"),GetHashKey("MISSION4"))gG(GetRelationshipBetweenGroups(GetHashKey("PLAYER"),GetHashKey("PLAYER")),GetHashKey("PLAYER"),GetHashKey("MISSION4"))gD(GetHashKey("PLAYER"),GetHashKey("MISSION5"))gG(GetRelationshipBetweenGroups(GetHashKey("PLAYER"),GetHashKey("PLAYER")),GetHashKey("PLAYER"),GetHashKey("MISSION5"))Wait(1000)c(d.connected)Wait(1000)c(d.gangwarscore)TriggerEvent('fragile-alliance:playerspawn',PlayerPedId())SimpleNotification("PvP is on, don't trust anyone. You can cooperate or betray players. Use ~g~phone~s~ to start.")Wait(5000)SimpleNotification("When you die - you lose everything, don't be greedy. Good luck.")for u=1,3 do Wait(5000)SimpleNotification("~b~discord.gg/VZG5Nvk~s~")end end)local gJ={maxx=8000.0-10,maxy=9000.0-10,minx=-8000.0+10,miny=-8000.0+10,universe_x=0,universe_y=0,farblips={}}gJ.minx,gJ.maxx=-10000.0,10000.0;gJ.miny,gJ.maxy=-9500.0,10500.0;local gK={cars_with_ai={[-1622444098]={786603,70.0},[989294410]={786603,70.0},[-1529242755]={786603,70.0},[-1848994066]={786603,70.0},[1392481335]={786603,70.0},[1031562256]={786603,70.0},[941494461]={1074528293,70.0},[-1860900134]={262656,70.0},[2071877360]={262656,70.0},[-1924433270]={262656,70.0},[-1894894188]={786603,60.0},[-884690486]={786603,50.0}}}gK.think=function()local ped=PlayerPedId()if IsPedInAnyPlane(ped)then ClearPedTasks(ped)local cO=GetEntityCoords(ped)local Y=GetVehiclePedIsUsing(ped)local gL=GetHeadingFromVector_2d(gK.x-cO.x,gK.y-cO.y)TaskPlaneMission(ped,Y,0,0,gK.x,gK.y,999.0,4,100.0,-1.0,gL,2200.0,800.0)elseif IsPedInAnyHeli(ped)then ClearPedTasks(ped)local cO=GetEntityCoords(ped)local Y=GetVehiclePedIsUsing(ped)local gL=GetHeadingFromVector_2d(gK.x-cO.x,gK.y-cO.y)TaskHeliMission(ped,Y,0,0,gK.x,gK.y,999.0,4,80.0,-1.0,gL,0,10,5.0,32)elseif IsPedInAnyVehicle(ped)then local Y=GetVehiclePedIsUsing(ped)local aW=GetEntityModel(Y)local gM=gK.cars_with_ai[aW]if gM then ClearPedTasks(ped)TaskVehicleDriveToCoord(ped,Y,gK.x,gK.y,gK.z,gM[2],1.0,aW,gM[1],1.0,true)end end end;gK.setblip=function(bB)local gN=gJ.farblips[bB]if gN then gK.blip=bB;gK.farblip=true;gK.x=gN.fx;gK.y=gN.fy;gK.z=gN.z;gK.think()return true elseif DoesBlipExist(bB)then local gr=GetBlipCoords(bB)gK.blip=bB;gK.farblip=false;gK.x=gr.x;gK.y=gr.y;gK.z=gr.z;gK.think()return true end;return false end;gK.off=function(bB)if gK.blip then ClearPedTasks(PlayerPedId())end;gK.blip=nil;gK.farblip=false end;local function gO(T,U,gP,gQ)return T+(gP-gJ.universe_x)*20000.0,U+(gQ-gJ.universe_y)*20000.0 end;local function gR(bB)local g=gJ.farblips[bB]return g.fx,g.fy end;local function gS()for f,g in pairs(gJ.farblips)do local gT,gU=gO(g.x,g.y,g.ux,g.uy)SetBlipCoords(f,gT,gU,g.z)g.fx,g.fy=gT,gU end;if gK.farblip then local gN=gJ.farblips[gK.blip]gK.x,gK.y=gN.fx,gN.fy;gK.think()end end;local function gV(T,U,V,gP,gQ)local gT,gU=gO(T,U,gP,gQ)local bB=AddBlipForCoord(gT,gU,V)gJ.farblips[bB]={blip=bB,x=T,y=U,z=V,ux=gP,uy=gQ,fx=gT,fy=gU}return bB end;local function gW(bB)if bB and type(bB)=='table'and bB.blip then RemoveBlip(bB.blip)bB=nil elseif gJ.farblips[bB]and gJ.farblips[bB].blip==bB then RemoveBlip(bB)gJ.farblips[bB]=nil end end;Citizen.CreateThread(function()Wait(5000)ExpandWorldLimits(gJ.maxx+66.6,gJ.maxy+66.6,9999.9)ExpandWorldLimits(gJ.minx-66.6,gJ.miny-66.6,0.0)local gX=0;while true do Wait(20)local g1=PlayerId()local ped=PlayerPedId()local gY=false;local gZ=GetEntityCoords(ped)local cO={x=gZ.x,y=gZ.y,z=gZ.z}if cO.x>gJ.maxx then cO.x=cO.x+gJ.minx-gJ.maxx;gY=true;gJ.universe_x=gJ.universe_x+1 elseif cO.x<gJ.minx then cO.x=cO.x+gJ.maxx-gJ.minx;gY=true;gJ.universe_x=gJ.universe_x-1 end;if cO.y>gJ.maxy then cO.y=cO.y+gJ.miny-gJ.maxy;gY=true;gJ.universe_y=gJ.universe_y+1 elseif cO.y<gJ.miny then cO.y=cO.y+gJ.maxy-gJ.miny;gY=true;gJ.universe_y=gJ.universe_y-1 end;if cO.z<-190.1+.1 then if not gY then if IsPedInAnyVehicle(ped)then local Y=GetVehiclePedIsUsing(ped)if IsEntityInWater(Y)then if cO.z<-191.1+.1 then SetPedCoordsKeepVehicle(ped,cO.x,cO.y,-190.1+.1)else local d7=GetEntityVelocity(Y)if d7.z<0 then SetEntityVelocity(Y,d7.x,d7.y,d7.z*-.5)end end end elseif IsEntityInWater(ped)then if cO.z<-191.1+.1 then SetPedCoordsKeepVehicle(ped,cO.x,cO.y,-190.1+.1)else local d7=GetEntityVelocity(ped)if d7.z<0 then SetEntityVelocity(ped,d7.x,d7.y,d7.z*-.5)end end end end;cO.z=-190.1+.1 end;if cO.x>gJ.maxx-600.0 or cO.x<gJ.minx+600.0 or cO.y>gJ.maxy-600.0 or cO.y<gJ.miny+600.0 then if GetPlayerWantedLevel(g1)>0 then SetPlayerWantedLevel(g1,0,false)SetPlayerWantedLevelNow(g1,false)if GetFakeWantedLevel()~=0 then SetFakeWantedLevel(0)end;bm.wanted=0;c(d.wanted,0)end end;if gY then local heading=GetGameplayCamRelativeHeading()local g_=GetGameplayCamRelativePitch()if IsPedInAnyVehicle(ped)then local Y=GetVehiclePedIsUsing(ped)local d7=GetEntityVelocity(Y)local e4=GetVehicleEngineHealth(Y)SetPedCoordsKeepVehicle(ped,cO.x,cO.y,cO.z)if e4<1000 then SetVehicleEngineHealth(Y,1000.0)SetVehicleFixed(Y)gX=gX+1;SimpleNotification("Vehicle repaired ~1~ times",gX)end;SetEntityVelocity(Y,d7.x,d7.y,d7.z)else SetPedCoordsKeepVehicle(ped,cO.x,cO.y,cO.z)end;SetGameplayCamRelativeHeading(heading)SetGameplayCamRelativePitch(g_,1.0)gS()elseif bm.is_cop or bm.civilian then local Y=GetVehiclePedIsUsing(ped)local h0=false;if Y~=0 then for u=g1-1,0,-1 do if NetworkIsPlayerActive(u)then local h1=GetPlayerPed(u)if GetVehiclePedIsUsing(h1)==Y and not gB(h1)then h0=true;break end end end;for u=g1+1,31 do if NetworkIsPlayerActive(u)then local h1=GetPlayerPed(u)if GetVehiclePedIsUsing(h1)==Y and not gB(h1)then h0=true;break end end end end;if h0 then if GetMaxWantedLevel()~=5 then SetMaxWantedLevel(5)end elseif bm.callingpolice then local Z=true;local h2,h3=FindFirstPed()while Z do if IsPedInCombat(h3,ped)and not IsPedAPlayer(h3)and IsPedCop(h3)then bm.callingpolice=false;Z=false else Z,h3=FindNextPed(h2)end end;EndFindPed(h2)if bm.callingpolice then if GetMaxWantedLevel()~=3 then SetMaxWantedLevel(3)end;if GetPlayerWantedLevel()~=3 then SetPlayerWantedLevel(g1,3,false)SetPlayerWantedLevelNow(g1,false)end;if GetGameTimer()>bm.callingpolice then bm.callingpolice=false end end else if GetPlayerWantedLevel(g1)~=0 then ClearPlayerWantedLevel(g1)end;if GetMaxWantedLevel()~=0 then SetMaxWantedLevel(0)end end elseif bm.wanted==6 then if bm.is_dead then Wait(0)while bm.is_dead do Wait(0)end;Wait(0)Wait(0)Wait(0)Wait(0)Wait(0)Wait(0)Wait(0)Wait(0)c(d.wanted,0)Wait(0)Wait(0)bm.wanted=0;if GetFakeWantedLevel()~=0 then SetFakeWantedLevel(0)end elseif GetPlayerWantedLevel(g1)~=5 then SetPlayerWantedLevel(g1,5,false)SetPlayerWantedLevelNow(g1,false)if GetFakeWantedLevel()~=6 then SetFakeWantedLevel(6)end elseif ArePlayerStarsGreyedOut(g1)then fC(g1,5)if GetFakeWantedLevel()~=6 then SetFakeWantedLevel(6)end end;c(d.pos,cO.x,cO.y,cO.z)else if GetFakeWantedLevel()~=0 then SetFakeWantedLevel(0)end;local h4=GetPlayerWantedLevel(g1)if h4~=bm.wanted then bm.wanted=h4;c(d.wanted,h4)end;if bm.wanted>0 then c(d.pos,cO.x,cO.y,cO.z)end end end end)a(d.top)b(d.top,function(dP)local u=1;while true do local h5=0;local fP;for f,g in pairs(dP)do if g.money>h5 then h5=g.money;fP=f end end;if h5>0 then SimpleNotification("~1~. ~g~$~1~ ~s~~a~",u,h5,dP[fP].name)dP[fP]=nil;Wait(50)u=u+1 else break end end end)Citizen.CreateThread(function()Wait(5000)while true do Citizen.Wait(5000)if bm.is_cop and bm.wanted~=nil and bm.wanted~=0 then SimpleNotification("If you will force player to surrender, you will ~g~instantly ~s~get half of their money.")elseif bm.wanted==1 then SimpleNotification("You have 1 wanted level! Press ~g~H ~s~to surrender. You will save ~g~60% ~s~of your money.")elseif bm.wanted==2 then SimpleNotification("You have 2 wanted level! Press ~g~H ~s~to surrender. You will save ~g~40% ~s~of your money.")elseif bm.wanted==3 then SimpleNotification("You have 3 wanted level! Press ~g~H ~s~to surrender. You will save ~g~30% ~s~of your money.")elseif bm.wanted==4 then SimpleNotification("You have 4 wanted level! Press ~g~H ~s~to surrender. You will save ~g~20% ~s~of your money.")elseif bm.wanted==5 then SimpleNotification("You have 5 wanted level! Press ~g~H ~s~to surrender. You will save ~g~10% ~s~of your money.")elseif bm.wanted==6 then SimpleNotification("~r~You have 6 wanted level! Leave San-Andreas state to lose it.")SimpleNotification("You have 6 wanted level! Press ~g~H ~s~to surrender. You will save ~g~5% ~s~of your money.")end;Citizen.Wait(5000)if bm.wanted>0 then SimpleNotification("~r~If you would leave server - all your current money would be dropped.")end end end)Citizen.CreateThread(function()Wait(6000)while true do Wait(0)if bm.is_dead or bm.in_apartment then bm.inside=false else local h6,h;cO=GetEntityCoords(PlayerPedId())h=350.0;h6,h=GetGroundZFor_3dCoord(cO.x,cO.y,cO.z+h,false)h=h-cO.z::g3::if h>0 then bm.inside=true;c(d.punishment,3,cO.x,cO.y,cO.z)Wait(2000)else bm.inside=false end end end end)local h7=0;local h8=0;local h9=false;Citizen.CreateThread(function()Wait(6000)local ha=GetEntityCoords(PlayerPedId())local cO;while true do Wait(1000)local bX=GetGameTimer()if bm.wanted~=0 then h7=bX;h8=20 else cO=GetEntityCoords(PlayerPedId())if math.abs(cO.x-ha.x)+math.abs(cO.y-ha.y)+math.abs(cO.z-ha.z)>2.0 then h7=bX;h8=20;ha=cO;if not bm.inside then c(d.punishment,3,cO.x,cO.y,cO.z)end else local hb=20000+h7-bX;if hb>0 then h8=math.floor(hb/1000)else h8=0 end end end end end)Citizen.CreateThread(function()while true do if bm.inside then ew(0,"You can't leave server here.",0.25,255,255,255,255,0.185,0.900)elseif h9 then ew(0,{"Leaving server in ~1~ seconds.",h8},0.25,255,255,255,255,0.185,0.900)elseif h8>18 then ew(0,"You can't leave server while wanted or moving.",0.25,255,255,255,255,0.185,0.900)elseif h8>0 then ew(0,{"Wait ~1~ seconds to leave server.",h8},0.25,255,255,255,255,0.185,0.900)end;Wait(0)end end)Citizen.CreateThread(function()Wait(5000)local hc=false;local ec;local function hd(ped,he,hf)while math.abs(hf)>5.0 and not IsEntityInWater(ped)do c(d.punishment,2,cO.x,cO.y,cO.z)Wait(1000)while not HasCollisionLoadedAroundEntity(ped)do Wait(0)end;local cO=GetEntityCoords(ped)local d6=math.abs(cO.x-he.x)+math.abs(cO.y-he.y)+math.abs(cO.z-he.z)he.x,he.y,he.z=cO.x,cO.y,cO.z;hf=GetEntityHeightAboveGround(ped)if d6<0.2 then break end end;return hf end;while true do Wait(0)local g1=PlayerId()if NetworkIsPlayerActive(g1)then local ped=PlayerPedId()if IsPedFatallyInjured(ped)and not bm.is_dead then bm.is_dead=true;if not ec then ec=GetGameTimer()end;gd(0,bm.money)bm.money=0;local he={}he.x=cO.x;he.y=cO.y;he.z=cO.z;local hf=GetEntityHeightAboveGround(ped)hf=hd(ped,he,hf)he.z=he.z-hf+1.0;print("final height="..he.z)TriggerEvent(d.playerdied,he)c(d.playerdied,he)hc=true;Citizen.CreateThread(function()Wait(2000)bm.money=0;Wait(2000)bm.money=0;Wait(2000)bm.money=0 end)elseif not IsPedFatallyInjured(ped)then if bm.is_dead then TriggerEvent('fragile-alliance:playerspawn',ped)SimpleNotification("You lost everything, but you can pick up your money back; search skull icon on map.")end;bm.is_dead=false;ec=nil end;if not hc and ec~=nil and ec>0 then gd(0,bm.money)bm.money=0;local he={}he.x=cO.x;he.y=cO.y;he.z=cO.z;local hf=GetEntityHeightAboveGround(ped)hf=hd(ped,he,hf)he.z=he.z-hf+1.0;print("final height="..he.z)TriggerEvent(d.wasted,he)c(d.wasted,he)hc=true;Citizen.CreateThread(function()Wait(2000)bm.money=0;Wait(2000)bm.money=0;Wait(2000)bm.money=0 end)elseif hc and ec~=nil and ec<=0 then TriggerEvent('fragile-alliance:playerspawn',ped)SetNotificationTextEntry("STRING")AddTextComponentString("respawn2")SetNotificationMessage("CHAR_BLANK_ENTRY","CHAR_BLANK_ENTRY",false,9,"test","message")DrawNotification(false,false)hc=false end end end end)a(d.wanted)b(d.wanted,function(hg)local g1=PlayerId()if GetPlayerWantedLevel(g1)<hg then SetPlayerWantedLevel(g1,hg,false)SetPlayerWantedLevelNow(g1,false)if hg==6 then bm.wanted=6 end end end)local hh={}local hi={criminal=function()end}local hj={government={},lost={},mercs={},anarchy={},ballas={},fams={},vagos={},salva={},triads={},armmob={},heister={},cartel={},elite={},pirates={}}b('playerSpawned',function()bm.surrendering=false;local ped=PlayerPedId()end)b("fragile-alliance:playerspawn",function(ped)Wait(100)bm.surrendering=false;hi.criminal()end)local function hk(hl,hm,T,U,V,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,aX,aY,hB,b2,hC,hD,hE)local hF=GetGameTimer()+hl;repeat DrawMarker(hm,T,U,V,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,aX,aY,hB,b2,hC,hD,hE)Wait(0)until GetGameTimer()>hF end;local function hG(hl,d2,d3,d4,hH,hI,hJ,eA,eB,eC,eD)local hF=GetGameTimer()+hl;repeat DrawBox(d2,d3,d4,hH,hI,hJ,eA,eB,eC,eD)Wait(0)until GetGameTimer()>hF end;Citizen.CreateThread(function()local hK=GetHashKey("bkr_prop_money_unsorted_01")local hL=GetHashKey("bkr_prop_bkr_cash_roll_01")local hM=GetHashKey("prop_poly_bag_money")local hN=GetHashKey("bkr_prop_duffel_bag_01a")local hO=GetHashKey("prop_cash_case_01")local hP=GetHashKey("prop_cash_case_02")local hQ=GetHashKey("prop_cs_heist_bag_02")local hR=GetHashKey("prop_big_bag_01")local hS=GetHashKey("prop_hockey_bag_01")local hT=GetHashKey("bkr_prop_moneypack_02a")local hU=GetHashKey("bkr_prop_moneypack_03a")local hV=GetHashKey("bkr_prop_moneypack_01a")local hW=GetHashKey("bkr_prop_weed_bigbag_03a")local hX=GetHashKey("bkr_prop_weed_bigbag_02a")local hY=GetHashKey("bkr_prop_weed_bigbag_01a")local hZ=GetHashKey("bkr_prop_weed_smallbag_01a")local h_=GetHashKey("hei_p_attache_case_shut")local i0=GetHashKey("ex_prop_adv_case_sm_02")local i1=GetHashKey("ex_office_swag_jewelwatch3")local i2=GetHashKey("ex_office_swag_jewelwatch2")local i3=GetHashKey("v_res_paperfolders")local i4=GetHashKey("prop_cd_folder_pile4")local i5=GetHashKey("prop_cs_documents_01")local i6=GetHashKey("prop_laptop_02_closed")local i7=GetHashKey("prop_cs_server_drive")local i8=GetHashKey("bkr_prop_coke_cutblock_01")local i9=GetHashKey("prop_gold_bar")local ia=GetHashKey("hei_prop_hei_drug_pack_02")local ib=GetHashKey("hei_prop_hei_drug_pack_01b")local ic=GetHashKey("hei_prop_hei_drug_case")local id=GetHashKey("prop_drug_package")local ie=GetHashKey("v_ind_cs_chemcan")local ig=-276344022;local ih={}local ii={}local ij=false;local ik={}ik[h_]={c=8000,h=0.11}local il={h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_,h_}local im={}im[ig]={c=4000,h=0.49}local io={ig,ig,ig,ig,{y=.29,h=0},ig,ig,ig,ig,{y=-.29,h=0},ig,ig,ig,ig,{y=.58,h=0},ig,ig,ig,ig,{y=-.58,h=0},ig,ig,ig,ig,{y=.87,h=0},ig,ig,ig,ig,{y=-.87,h=0},ig,ig,ig,ig,{y=1.16,h=0},ig,ig,ig,ig,{y=-1.16,h=0}}local ip={}ip[ic]={c=20000,h=2.5}ip[ib]={c=4000,h=0.14}ip[ia]={c=2000,h=2.5}ip[id]={c=20000,h=0.27}local iq={ic,{x=.54,h=0},ib,ib,ib,ib,ib,ia,{x=-.64,h=0},id,id,id,id,{y=0.40,h=0},id,id,id,id,id,id,id,id,id,id,id,id,id,id,id,id}local ir={}ir[i8]={c=60000,h=0.05}local is={i8,i8,i8,i8,i8,i8,i8,i8,i8,i8,{x=0.14,h=0},i8,i8,i8,i8,i8,i8,i8,i8,i8,i8,{x=0.28,h=0},i8,i8,i8,i8,i8,i8,i8,i8,i8,i8,{x=0.42,h=0},i8,i8,i8,i8,i8,i8,i8,i8,i8,i8,{x=0.56,h=0},i8,i8,i8,i8,i8,i8,i8,i8,i8,i8,{x=0.70,h=0}}local it={}it[i9]={c=80000,h=0.06}local iu={i9,i9,i9,i9,i9,{x=0.09,h=0},i9,i9,i9,i9,i9,{x=0.09*2,h=0},i9,i9,i9,i9,i9,{x=0.09*3,h=0},i9,i9,i9,i9,i9,{x=0.09*4,h=0},i9,i9,i9,i9,i9,{x=0.09*5,h=0},i9,i9,i9,i9,i9,{x=0.09*6,h=0},i9,i9,i9,i9,i9,{x=0.09*7,h=0},i9,i9,i9,i9,i9,{x=0.09*8,h=0},i9,i9,i9,i9,i9,{x=0.09*9,h=0},i9,i9,i9,i9,i9,{x=0.09*10,h=0}}local iv={}iv[i5]={c=2000,h=.01}iv[i4]={c=4000,h=.11}iv[i3]={c=8000,h=.22}iv[i6]={c=100000,h=.04,y=.12}local iw={i5,i4,i3,i4,i4,i3,i4,i4,i5,i4,i3,i4,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6,i6}local ix={}ix[i7]={c=10000,h=.03,y=.23}local iy={i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7,i7}local function iz(g,fP,iA,iB)local iC=false;local iD;for f,g in pairs(iA)do ih[f]=true;RequestModel(f)if not HasModelLoaded(f)then iC=true end end;if iC then ij=true elseif fm[fP]==nil then if fk[fP]then iD={}fm[fP]=iD end elseif type(fm[fP])=='table'then iD=fm[fP]end;if iD~=nil then local ge=g.money;local h=-1.0;local T=.0;local U=.0;local u=1;while ge>0 do local aW=iB[u]if type(aW)=='table'then if aW.x~=nil then T=aW.x end;if aW.y~=nil then U=aW.y end;if aW.h~=nil then h=aW.h-1.0 end else local iE=iA[aW]if aW==nil then break end;local dj=iD[u]if dj==nil then local gT,gU,iF=g.x+T,g.y+U,g.z+h;if iE.x~=nil then gT=gT+iE.x end;if iE.y~=nil then gU=gU+iE.y end;dj=CreateObject(aW,gT,gU,iF,false,false,false)FreezeEntityPosition(dj,true)iD[u]=dj end;h=h+iE.h;ge=ge-iE.c end;u=u+1 end;while u<50 do local dj=iD[u]if dj~=nil then gj(dj)iD[u]=nil end;u=u+1 end end end;local function iG(g,fP,iA,iB,iH,iI)local iC=false;local iD;for f,g in pairs(iA)do ih[f]=true;RequestModel(f)if not HasModelLoaded(f)then iC=true end end;if iC then ij=true elseif fm[fP]==nil then if fk[fP]then iD={}fm[fP]=iD end elseif type(fm[fP])=='table'then iD=fm[fP]end;if iD~=nil then local ge=g.money;local h=-1.0;local T=.0;local u=1;iI=iI-1.0;while ge>0 do local aW=iB[u]local iE=iA[aW]if aW==nil then break end;local dj=iD[u]if dj==nil then local gT,gU,iF=g.x+T,g.y,g.z+h;if iE.x~=nil then gT=gT+iE.x end;if iE.y~=nil then gU=gU+iE.y end;dj=CreateObject(aW,gT,gU,iF,false,false,false)FreezeEntityPosition(dj,true)iD[u]=dj end;h=h+iE.h;if h>iI then h=-1.0;T=T+iH;if T>iH+.001 then T=-iH end end;ge=ge-iE.c;u=u+1 end;while u<50 do local dj=iD[u]if dj~=nil then gj(dj)iD[u]=nil end;u=u+1 end end end;Wait(5000)while true do local f0=9.0;local iJ=nil;Wait(0)cO=GetEntityCoords(PlayerPedId())ij=false;for fP,g in pairs(fk)do if g then local a4,a5,d5=g.x-cO.x,g.y-cO.y,g.z-cO.z;if fP>=0 then d5=d5*.2 end;local iK=a4*a4+a5*a5+d5*d5;if iK<10000.0 then if not bm.is_dead then if iK<f0 then f0=iK;iJ=fP elseif fP<0 and iK<100.0 and not(bm.is_cop or bm.civilian)then if g.wanted==6 and bm.wanted~=g.wanted then bm.wanted=g.wanted;c(d.wanted,6)else local g1=PlayerId()local iL=GetPlayerWantedLevel(g1)if g.wanted>iL then SetPlayerWantedLevel(g1,g.wanted,false)SetPlayerWantedLevelNow(g1,false)elseif g.wanted==iL and ArePlayerStarsGreyedOut(g1)then fC(g1,g.wanted)end end end end;if fP<0 then if g.sprite==617 then local iM;local iN;local iO;ih[i0]=true;ih[i1]=true;ih[i2]=true;RequestModel(i0)RequestModel(i1)RequestModel(i2)if not HasModelLoaded(i0)or not HasModelLoaded(i1)or not HasModelLoaded(i2)then ij=true elseif fm[fP]==nil then if fk[fP]then iM={}iN={}iO={}fm[fP]={[1]=iM,[2]=iN,[3]=iO}end elseif type(fm[fP])=='table'then iM=fm[fP][1]iN=fm[fP][2]iO=fm[fP][3]end;if iM~=nil and iN~=nil and iO~=nil then local iP=math.floor(g.money/25000.0)local iQ=math.floor(g.money-iP*25000)local aW=i0;for u=1,iP do local dj=iM[u]if dj==nil then dj=CreateObject(aW,g.x,g.y,g.z-1.44+u*.44,false,false,false)FreezeEntityPosition(dj,true)iM[u]=dj end end;for u=iP+1,50 do local dj=iM[u]if dj~=nil then gj(dj)iM[u]=nil end end;local dj;if iQ>18000 then dj=iN[1]if dj==nil then dj=CreateObject(i1,g.x,g.y,g.z-.995+iP*.44,false,false,false)FreezeEntityPosition(dj,true)iN[1]=dj else SetEntityCoords(dj,g.x,g.y,g.z-.985+iP*.44)end;dj=iO[1]if dj==nil then dj=CreateObject(i2,g.x+.13,g.y-.03,g.z-.935+iP*.44,false,false,false)FreezeEntityPosition(dj,true)iO[1]=dj else SetEntityCoords(dj,g.x+.13,g.y-.03,g.z-.925+iP*.44)end elseif iQ>10000 then dj=iN[1]if dj==nil then dj=CreateObject(i1,g.x,g.y,g.z-.995+iP*.44,false,false,false)FreezeEntityPosition(dj,true)iN[1]=dj else SetEntityCoords(dj,g.x,g.y,g.z-.985+iP*.44)end;dj=iO[1]if dj~=nil then gj(dj)iO[1]=nil end elseif iQ>2000 then dj=iN[1]if dj~=nil then gj(dj)iN[1]=nil end;dj=iO[1]if dj==nil then dj=CreateObject(i2,g.x,g.y,g.z-1.0+iP*.44,false,false,false)FreezeEntityPosition(dj,true)iO[1]=dj else SetEntityCoords(dj,g.x,g.y,g.z-.99+iP*.44)end else dj=iN[1]if dj~=nil then gj(dj)iN[1]=nil end;dj=iO[1]if dj~=nil then gj(dj)iO[1]=nil end end end elseif g.sprite==478 then iz(g,fP,ik,il)elseif g.sprite==496 then local iM;local iO;ih[hW]=true;ih[hZ]=true;RequestModel(hW)RequestModel(hZ)if not HasModelLoaded(hW)or not HasModelLoaded(hZ)then ij=true elseif fm[fP]==nil then if fk[fP]then iM={}iO={}fm[fP]={[1]=iM,[2]=iO}end elseif type(fm[fP])=='table'then iM=fm[fP][1]iO=fm[fP][2]end;if iM~=nil and iO~=nil then local iP=math.floor((g.money-1000)/2000)local iQ=math.floor(g.money/2000)local aW;aW=hW;for u=1,iP do local dj=iM[u]if dj==nil then dj=CreateObject(aW,g.x,g.y-.36,g.z-1.29+u*.29,false,false,false)FreezeEntityPosition(dj,true)iM[u]=dj end end;for u=iP+1,50 do local dj=iM[u]if dj~=nil then gj(dj)iM[u]=nil end end;aW=hZ;for u=1,iQ do local dj=iO[u]if dj==nil then dj=CreateObject(aW,g.x,g.y+.36,g.z-1.15+u*0.15,false,false,false)FreezeEntityPosition(dj,true)iO[u]=dj end end;for u=iQ+1,50 do local dj=iO[u]if dj~=nil then gj(dj)iO[u]=nil end end end elseif g.sprite==498 then iG(g,fP,iv,iw,.46,0.9)elseif g.sprite==499 then iz(g,fP,im,io)elseif g.sprite==500 then local iM;local iO;ih[hT]=true;ih[hV]=true;RequestModel(hT)RequestModel(hV)if not HasModelLoaded(hT)or not HasModelLoaded(hV)then ij=true elseif fm[fP]==nil then if fk[fP]then iM={}iO={}fm[fP]={[1]=iM,[2]=iO}end elseif type(fm[fP])=='table'then iM=fm[fP][1]iO=fm[fP][2]end;if iM~=nil and iO~=nil then local iP=math.floor(g.money/25000)local iQ=math.floor(g.money/1000)-iP*25;local aW;aW=hT;for u=1,iP do local dj=iM[u]if dj==nil then dj=CreateObject(aW,g.x,g.y,g.z-1.07+u*.07,false,false,false)FreezeEntityPosition(dj,true)iM[u]=dj end end;for u=iP+1,50 do local dj=iM[u]if dj~=nil then gj(dj)iM[u]=nil end end;aW=hV;local T=-.304;local U=-.288;for u=1,iQ do local dj=iO[u]if dj==nil then dj=CreateObject(aW,g.x+T,g.y+U,g.z-1.00+iP*0.07,false,false,false)FreezeEntityPosition(dj,true)iO[u]=dj else SetEntityCoords(dj,g.x+T,g.y+U,g.z-1.00+iP*0.07)end;T=T+.152;if T>.304 then U=U+.144;T=-.304 end end;for u=iQ+1,26 do local dj=iO[u]if dj~=nil then gj(dj)iO[u]=nil end end end elseif g.sprite==501 then iz(g,fP,ip,iq)elseif g.sprite==514 then iz(g,fP,ir,is)elseif g.sprite==618 then iz(g,fP,it,iu)elseif g.sprite==440 then iz(g,fP,ir,is)elseif g.sprite==521 then iz(g,fP,ix,iy)elseif g.sprite==525 then iG(g,fP,iv,iw,.46,0.5)elseif g.sprite==66 then if fm[fP]==nil then local aW=GetHashKey("prop_alien_egg_01")ih[aW]=true;RequestModel(aW)if not HasModelLoaded(aW)then ij=true else local dj;dj=CreateObject(aW,g.x,g.y,g.z-1.0,false,false,false)FreezeEntityPosition(dj,true)SetEntityCollision(dj,false,false)SetModelAsNoLongerNeeded(aW)fm[fP]=dj end end end elseif fm[fP]==nil then local aW;if g.money<=1000 then aW=hK elseif g.money<=5000 then aW=hL elseif g.money<=20000 then aW=hM elseif g.money<=40000 then aW=hN elseif g.money<=60000 then aW=hO elseif g.money<=80000 then aW=hP elseif g.money<=100000 then aW=hQ elseif g.money<=500000 then aW=hR else aW=hS end;ih[aW]=true;RequestModel(aW)if not HasModelLoaded(aW)then ij=true else local dj;if aW==hS then dj=CreateObject(aW,g.x+.6,g.y,g.z-1.8,false,false,false)SetEntityRotation(dj,0.0,48.0,0.0,1,true)else dj=CreateObject(aW,g.x,g.y,g.z-1.0,false,false,false)end;FreezeEntityPosition(dj,true)SetEntityCollision(dj,false,false)SetModelAsNoLongerNeeded(aW)fm[fP]=dj end else local iR=false;local iS,h=GetGroundZFor_3dCoord(g.x,g.y,g.z,iR)local iT=false;if iS==false then iS,h=GetGroundZFor_3dCoord(g.x,g.y,999.9,iR)if iS then iT=true;g.z=g.z+1.1-.1 elseif iR then h=h+1;if math.abs(g.z-h)>.05 then iT=true end;g.z=h else if math.abs(g.z+160)>.3 then iT=true end;g.z=-160.1+.1 end elseif g.z-h>2 then if g.z>-159.1+.1 then iT=true;g.z=g.z-(1.1-.1)elseif math.abs(g.z+160)>.3 then iT=true;g.z=-160.1+.1 end elseif math.abs(g.z-h-1)>.05 then iT=true;g.z=h+1.1-.1 end;if iT then local dj=fm[fP]if DoesEntityExist(dj)then if GetEntityModel(dj)==hS then SetEntityCoords(dj,g.x+.6,g.y,g.z-1.8)SetEntityRotation(dj,0.0,48.0,0.0,1,true)else SetEntityCoords(dj,g.x,g.y,g.z-1.0)end;FreezeEntityPosition(dj,true)SetEntityCollision(dj,false,false)end end end end end end;for f,g in pairs(ii)do if g and not ih[f]then SetModelAsNoLongerNeeded(f)ii[f]=false end end;for f,g in pairs(ih)do if g then ii[f]=true end;ih[f]=false end;if ij then ew(0,"Trying to load models",0.25,25,255,100,255,0.95,0.5)end;if not bm.civilian and iJ~=nil and(f0<1 or iJ<0)then local ped=PlayerPedId()if not IsPedInAnyVehicle(ped)or IsPedOnAnyBike(ped)or IsPedInAnySub(ped)or IsThisModelAJetski(GetEntityModel(GetVehiclePedIsIn(ped)))then local g=fk[iJ]if g then c(d.take_money,iJ)local hl=2000;if bm.is_cop then if iJ<0 then hl=20000 else if GetEntityModel(ped)==-362977881 or GetEntityModel(ped)==GetHashKey("D_O_V_Dick_01")then hl=10000 else hl=16000 end end else if g.wanted==6 and bm.wanted~=g.wanted then bm.wanted=g.wanted;c(d.wanted,g.wanted)else local g1=PlayerId()local iL=GetPlayerWantedLevel(g1)if g.wanted>iL then SetPlayerWantedLevel(g1,g.wanted,false)SetPlayerWantedLevelNow(g1,false)elseif g.wanted==iL and ArePlayerStarsGreyedOut(g1)then fC(g1,g.wanted)end end end;Wait(hl)end end end end end)Citizen.CreateThread(function()Wait(5000)while true do while bm.civilian or bm.is_cop do if IsControlPressed(0,288)or IsControlPressed(0,289)then SimpleNotification("This faction can't find or make money stashes.")Wait(5000)else Wait(0)end end;if IsControlPressed(0,288)and IsInputDisabled(2)then if bm.money==nil or bm.money<5000 then SimpleNotification("You need at least $5000 to hide money.")end;cO=GetEntityCoords(PlayerPedId())local T,U,V=math.floor(cO.x),math.floor(cO.y),math.floor(cO.z)c(d.stash_hide,T,U,V)hG(1000,T-.0,U-.0,V-.0,T+1.0,U+1.0,V+1.0,255,255,255,64)elseif IsControlPressed(0,289)and IsInputDisabled(2)then cO=GetEntityCoords(PlayerPedId())local T,U,V=math.floor(cO.x),math.floor(cO.y),math.floor(cO.z)c(d.stash_take,T,U,V)hG(1000,T-.0,U-.0,V-.0,T+1.0,U+1.0,V+1.0,255,255,255,64)else Wait(0)end end end)local function iU(K,T,U,V,gL)RequestModel(K)while not HasModelLoaded(K)do Wait(10)end;local fQ=CreateVehicle(K,T,U,V-.99,gL,true,false)SetModelAsNoLongerNeeded(K)SetVehicleDoorsLocked(fQ,0)SetVehicleHasBeenOwnedByPlayer(fQ,true)SetVehicleNeedsToBeHotwired(fQ,false)return fQ end;local function iV(K,T,U,V,gL)RequestModel(K)while not HasModelLoaded(K)do Wait(10)end;if fq.plate then if fr.plate then fR(fr)fX(fr)end;fr,fq=fq,fr end;fq.hash=K;fq.veh=CreateVehicle(K,T,U,V-.99,gL,true,false)SetModelAsNoLongerNeeded(K)local fJ=AddBlipForEntity(fq.veh)SetBlipSprite(fJ,326)SetBlipDisplay(fJ,2)SetBlipScale(fJ,0.6)SetBlipColour(fJ,3)DecorSetInt(fq.veh,fp.steam_low,bm.steam_low)DecorSetInt(fq.veh,fp.steam_high,bm.steam_high)DecorSetInt(fq.veh,fp.owner_id,GetPlayerServerId(PlayerId()))fq.net=fK(fq.veh)fq.plate=GetVehicleNumberPlateText(fq.veh)SetVehicleDoorsLocked(fq.veh,0)SetVehicleHasBeenOwnedByPlayer(fq.veh,true)SetVehicleNeedsToBeHotwired(fq.veh,false)fV()return fq.veh end;local function iW(Y)local fQ={}fQ.wanted=1;if Y==fq.veh then fq.veh=nil;fq.net=nil;fR(fq)fq.plate=nil;fq.hash=nil;fQ.wanted=0;fV()end;if Y==fr.veh then fr.veh=nil;fr.net=nil;fR(fr)fr.plate=nil;fr.hash=nil;fQ.wanted=0;fV()end;if Y==fs.veh then fs.veh=nil;fs.net=nil;fR(fs)fs.plate=nil;fs.hash=nil;fV()end;fQ.hash=GetEntityModel(Y)fQ.body=GetVehicleBodyHealth(Y)fQ.engine=GetVehicleEngineHealth(Y)fQ.tank=GetVehiclePetrolTankHealth(Y)fQ.color1,fQ.color2=GetVehicleColours(Y)local iX=0;local iY=1;iX=GetVehicleWindows(Y,fQ.hash)fQ.windows=iX;iX=0;if IsVehicleTyreBurst(Y,0,false)then iX=iX+1 end;if IsVehicleTyreBurst(Y,1,false)then iX=iX+2 end;if IsVehicleTyreBurst(Y,2,false)then iX=iX+4 end;if IsVehicleTyreBurst(Y,3,false)then iX=iX+8 end;if IsVehicleTyreBurst(Y,4,false)then iX=iX+16 end;if IsVehicleTyreBurst(Y,5,false)then iX=iX+32 end;if IsVehicleTyreBurst(Y,6,false)then iX=iX+64 end;if IsVehicleTyreBurst(Y,7,false)then iX=iX+128 end;if IsVehicleTyreBurst(Y,45,false)then iX=iX+256 end;if IsVehicleTyreBurst(Y,47,false)then iX=iX+512 end;iY=1024;for u=0,6 do if IsVehicleDoorDamaged(Y,u)then iX=iX+iY end;iY=iY+iY end;fQ.tyresdoors=iX;SetEntityAsMissionEntity(Y,true,true)SetVehicleUndriveable(Y,true)DeleteVehicle(Y)return fQ end;local function iZ(T,U,V,gL,fQ)local Y;if fQ.wanted>0 then Y=iU(fQ.hash,T,U,V,gL)else Y=iV(fQ.hash,T,U,V,gL)end;SetVehicleBodyHealth(Y,fQ.body)SetVehicleEngineHealth(Y,fQ.engine)SetVehiclePetrolTankHealth(Y,fQ.tank)SetVehicleColours(Y,fQ.color1,fQ.color2)local iX=tonumber(fQ.windows)local iY=1;SmashVehicleWindows(Y,iX,fQ.hash)iX=tonumber(fQ.tyresdoors)if iX&1==1 then SetVehicleTyreBurst(Y,0,false,1000.0)end;if iX&2==2 then SetVehicleTyreBurst(Y,1,false,1000.0)end;if iX&4==4 then SetVehicleTyreBurst(Y,2,false,1000.0)end;if iX&8==8 then SetVehicleTyreBurst(Y,3,false,1000.0)end;if iX&16==16 then SetVehicleTyreBurst(Y,4,false,1000.0)end;if iX&32==32 then SetVehicleTyreBurst(Y,5,false,1000.0)end;if iX&64==64 then SetVehicleTyreBurst(Y,6,false,1000.0)end;if iX&128==128 then SetVehicleTyreBurst(Y,7,false,1000.0)end;if iX&256==256 then SetVehicleTyreBurst(Y,45,false,1000.0)end;if iX&512==512 then SetVehicleTyreBurst(Y,47,false,1000.0)end;iY=1024;for u=0,6 do if iX&iY==iY then SetVehicleDoorBroken(Y,u,true)end;iY=iY+iY end;if fQ.wanted>0 then SetVehicleAsNoLongerNeeded(Y)end;return Y end;local function i_(j0)end;local function j1(j0)for f,g in pairs(j0)do local bB=g.blip;if bB then SetBlipAsShortRange(bB,true)SetBlipSprite(bB,g.sprite)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,g.color)if g.name then SetBlipName(bB,g.name)end elseif g.sprite~=nil then bB=AddBlipForCoord(g.x,g.y,g.z)SetBlipAsShortRange(bB,true)SetBlipSprite(bB,g.sprite)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,g.color)if g.name then SetBlipName(bB,g.name)end;g.blip=bB end end end;local function j2(j0)for f,g in pairs(j0)do local bB=g.blip;if bB then RemoveBlip(bB)g.blip=nil end end end;local j3={FBI=1,LOST=2,MERCS=3,ANARCHY=4,BALLAS=5,FAMILIES=6,VAGOS=7,SALVA=8,TRIADS=9,MOBS=10,HEISTERS=11,CARTEL=12,ELITE=13,PIRATES=14}local j4={top={[j3.FBI]={color={30,119,166},name="Federals",score=0},[j3.LOST]={color={105,101,105},name="Lost",score=0},[j3.MERCS]={color={135,125,142},name="Mercs",score=0},[j3.ANARCHY]={color={12,123,86},name="Anarchy",score=0},[j3.BALLAS]={color={164,76,242},name="Ballas",score=0},[j3.FAMILIES]={color={114,204,114},name="Families",score=0},[j3.VAGOS]={color={235,239,30},name="Vagos",score=0},[j3.SALVA]={color={152,203,234},name="Salva",score=0},[j3.TRIADS]={color={224,50,50},name="Triads",score=0},[j3.MOBS]={color={159,159,159},name="Mobs",score=0},[j3.HEISTERS]={color={241,241,241},name="Heisters",score=0},[j3.CARTEL]={color={255,149,14},name="Cartel",score=0},[j3.ELITE]={color={255,255,255},name="Elite",score=0},[j3.PIRATES]={color={90,90,90},name="Pirates",score=0}},sort={1,2,3,4,5,6,7,8,9,10,11,12,13,14}}a(d.gangwarscore)b(d.gangwarscore,function(dP)for u=1,14 do j4.top[u].score=dP[u]end end)local j5={}j5.criminal={}j5.detectivesheavy={}j5.detectives={}j5.security={}j5.nysp={}j5.lsfd={}j5.news={}j5.paramedics={}j5.lspdheavy={}j5.lspd={}j5.sspdheavy={}j5.sspd={}j5.coastguard={}j5.sahpheavy={}j5.sahp={}j5.borderpatrol={}j5.sapr={}j5.noose={}j5.military={}j5.navy={}j5.fbi={}j5.fbiswat={}j5.merc={}j5.lost={}j5.anarchy={}j5.ballas={}j5.fams={}j5.vagos={}j5.salva={}j5.triads={}j5.mobs={}j5.heisters={}j5.cartel={}j5.elite={}j5.pirates={}j5.criminal.weaponshops={{x=157.82005310059,y=-2205.0988769531,z=4.6880240440369,name="Cheap pipe bomb",sprite=152,color=62,cost=300,weapon={WEAPON.PIPEBOMB},ammo={1}},{x=151.8684387207,y=-2202.1157226563,z=4.6880221366882,name="Free grenade",sprite=152,color=0,cost=0,weapon={WEAPON.MOLOTOV},ammo={1}},{x=715.25738525391,y=-962.3818359375,z=30.395311355591,name="Molotov",sprite=152,color=25,cost=20,weapon={WEAPON.MOLOTOV},ammo={1}},{x=140.86126708984,y=-2204.3400878906,z=4.6880211830139,name="Cheap proxmine",sprite=152,color=0,cost=800,weapon={WEAPON.PROXMINE},ammo={1}},{x=-112.1911315918,y=-7.8896160125732,z=70.519638061523,name="Cheap pipe bomb",sprite=152,color=62,cost=300,weapon={WEAPON.PIPEBOMB},ammo={1}},{x=-1017.3052368164,y=-2864.7678222656,z=13.951531410217,name="Parachute shop",sprite=377,color=0,cost=100,weapon={WEAPON.PARACHUTE},ammo={1}},{x=-164.8800201416,y=-154.01473999023,z=93.702476501465,name="Parachute shop",sprite=377,color=0,cost=100,weapon={WEAPON.PARACHUTE},ammo={1}},{x=-3101.9689941406,y=345.99591064453,z=14.440872192383,name="Free rifle",sprite=150,color=0,cost=0,weapon={WEAPON.CARBINERIFLE},ammo={30}},{x=517.27264404297,y=4835.9399414063,z=-66.1867218018,name="Flashlight",cost=0,weapon={WEAPON.FLASHLIGHT},ammo={1}},{x=511.51156616211,y=4886.1596679688,z=-62.5920753479,name="Flashlight",cost=0,weapon={WEAPON.FLASHLIGHT},ammo={1}}}j5.lspdheavy.weaponshops={{x=452.37139892578,y=-980.0517578125,z=30.689596176147,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.PUMPSHOTGUN,WEAPON.SMG,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,8,30,1,1}}}j5.detectivesheavy.weaponshops={{x=452.3713684082,y=-980.02044677734,z=30.689594268799,fbi=true,name="Detective weapons",sprite=156,color=3,cost=0,weapon={WEAPON.PISTOL},ammo={36}}}j5.detectives.weaponshops={{x=452.3713684082,y=-980.02044677734,z=30.689594268799,fbi=true,name="Detective weapons",sprite=156,color=3,cost=0,weapon={WEAPON.PISTOL},ammo={36}}}j5.security.weaponshops={{x=452.3713684082,y=-980.02044677734,z=30.689594268799,fbi=true,name="Security weapons",sprite=156,color=32,cost=0,weapon={WEAPON.NIGHTSTICK,WEAPON.FLASHLIGHT},ammo={1,1}}}j5.nysp.weaponshops={{x=992.61480712891,y=2728.3461914063,z=39.503387451172,fbi=true,name="NYSP weapons",sprite=156,color=56,cost=0,weapon={WEAPON.PISTOL,WEAPON.FLASHLIGHT},ammo={12,1}}}j5.coastguard.weaponshops={{x=-1178.548828125,y=-1781.1015625,z=4.1823129653931,fbi=true,name="Coast guard weapons",sprite=156,color=3,cost=0,weapon={WEAPON.PISTOL,WEAPON.SMG,WEAPON.FLAREGUN},ammo={36,30,5}}}j5.lspd.weaponshops={{x=452.3713684082,y=-980.02044677734,z=30.689594268799,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}},{x=849.65454101563,y=-1284.3083496094,z=28.004722595215,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}},{x=-1106.8883056641,y=-845.83972167969,z=19.316970825195,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}},{x=535.39477539063,y=-22.057580947876,z=70.629531860352,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}},{x=-1057.9964599609,y=-840.76361083984,z=5.04252576828,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}},{x=369.66665649414,y=-1607.6519775391,z=29.29193687439,fbi=true,name="Free police weapons",sprite=156,color=3,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.NIGHTSTICK,WEAPON.STUNGUN},ammo={36,1,1}}}j5.sspdheavy.weaponshops={{x=1848.4913330078,y=3690.1921386719,z=34.267066955566,fbi=true,name="SSPD weapons",sprite=150,color=5,cost=0,weapon={WEAPON.PISTOL,WEAPON.CARBINERIFLE,WEAPON.REVOLVER,WEAPON.STUNGUN},ammo={36,30,6,1}}}j5.sspd.weaponshops={{x=1848.4913330078,y=3690.1921386719,z=34.267066955566,fbi=true,name="SSPD weapons",sprite=150,color=5,cost=0,weapon={WEAPON.DOUBLEACTION,WEAPON.STUNGUN},ammo={6,1}}}j5.sahpheavy.weaponshops={{x=-448.39389038086,y=6007.970703125,z=31.716371536255,fbi=true,name="SAHP weapons",sprite=150,color=39,cost=0,weapon={WEAPON.MARKSMANRIFLE,WEAPON.CARBINERIFLE,WEAPON.DOUBLEACTION,WEAPON.STUNGUN},ammo={16,30,36,1}}}j5.sahp.weaponshops={{x=-448.39389038086,y=6007.970703125,z=31.716371536255,fbi=true,name="SAHP weapons",sprite=150,color=39,cost=0,weapon={WEAPON.MARKSMANRIFLE,WEAPON.COMBATPISTOL,WEAPON.STUNGUN},ammo={16,36,1}}}j5.borderpatrol.weaponshops={{x=452.3713684082,y=-980.02044677734,z=30.689594268799,fbi=true,name="Border patrol weapons",sprite=156,color=40,cost=0,weapon={WEAPON.PISTOL,WEAPON.NIGHTSTICK},ammo={12,1}}}j5.sapr.weaponshops={{x=379.2825012207,y=792.05242919922,z=190.40751647949,fbi=true,name="SAPR weapons",sprite=150,color=2,cost=0,weapon={WEAPON.CARBINERIFLE,WEAPON.PISTOL,WEAPON.STUNGUN},ammo={30,36,1}}}j5.noose.weaponshops={{x=2477.2534179688,y=-401.64010620117,z=94.816162109375,fbi=true,name="SWAT weapons",sprite=150,color=29,cost=0,weapon={WEAPON.PISTOLMK2,WEAPON.PUMPSHOTGUNMK2,WEAPON.BULLPUPSHOTGUN,WEAPON.ASSAULTSMG,WEAPON.SMG,WEAPON.ADVANCEDRIFLE,WEAPON.CARBINERIFLE,WEAPON.SPECIALCARBINE,WEAPON.BZGAS},ammo={36,8,10,50,60,60,60,60,1}}}j5.navy.weaponshops={{x=3089.9643554688,y=-4691.5776367188,z=27.252153396606,fbi=true,name="Parachute",sprite=377,color=26,cost=0,weapon={WEAPON.PARACHUTE},ammo={1}},{x=-2353.7114257813,y=3264.1015625,z=32.810745239258,fbi=true,name="Parachute",sprite=377,color=26,cost=0,weapon={WEAPON.PARACHUTE},ammo={1}},{x=3083.6398925781,y=-4796.09375,z=2.0332415103912,fbi=true,name="Navy weapons",sprite=150,color=26,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.ASSAULTSHOTGUN,WEAPON.SMG,WEAPON.CARBINERIFLE,WEAPON.COMBATMG,WEAPON.HEAVYSNIPER},ammo={36,8,60,60,50,30}},{x=3038.7687988281,y=-4685.9775390625,z=10.74206829071,fbi=true,name="Navy weapons",sprite=157,color=26,cost=0,weapon={WEAPON.HOMINGLAUNCHER,WEAPON.RPG},ammo={1,1}},{x=3095.1481933594,y=-4710.6293945313,z=15.262321472168,fbi=true,name="Navy weapons",sprite=150,color=26,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.ASSAULTSHOTGUN,WEAPON.SMG,WEAPON.CARBINERIFLE,WEAPON.COMBATMG,WEAPON.HEAVYSNIPER,WEAPON.GRENADE},ammo={36,8,60,60,50,30,1}},{x=-2350.3439941406,y=3266.0915527344,z=32.810733795166,fbi=true,name="Navy weapons",sprite=150,color=26,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.ASSAULTSHOTGUN,WEAPON.SMG,WEAPON.CARBINERIFLE,WEAPON.COMBATMG,WEAPON.HEAVYSNIPER,WEAPON.GRENADE},ammo={36,8,60,60,50,30,1}}}j5.military.weaponshops={{x=-2350.3439941406,y=3266.0915527344,z=32.810733795166,fbi=true,name="Military weapons",sprite=150,color=52,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.SMG,WEAPON.CARBINERIFLE,WEAPON.GRENADE},ammo={36,60,60,1}}}j5.fbiswat.weaponshops={{x=142.2840423584,y=-769.47924804688,z=242.1520690918,fbi=true,name="Free FBI weapons",sprite=150,color=3,cost=0,weapon={WEAPON.HEAVYPISTOL,WEAPON.CARBINERIFLE,WEAPON.COMBATPDW,WEAPON.SMG,WEAPON.MICROSMG,WEAPON.SNIPERRIFLE,WEAPON.PUMPSHOTGUN,WEAPON.STUNGUN,WEAPON.BZGAS},ammo={36,30,30,30,30,10,8,1,1}},{x=141.31,y=-734.90,z=262.85,fbi=true,name="Parachute",sprite=377,color=3,cost=0,weapon={WEAPON.PARACHUTE},ammo={1}}}j5.fbi.weaponshops={{x=142.2840423584,y=-769.47924804688,z=242.1520690918,fbi=true,name="Free FBI weapons",sprite=150,color=3,cost=0,weapon={WEAPON.HEAVYPISTOL,WEAPON.STUNGUN},ammo={36,1}},{x=141.31,y=-734.90,z=262.85,fbi=true,name="Parachute",sprite=377,color=3,cost=0,weapon={WEAPON.PARACHUTE},ammo={1}}}j5.lost.weaponshops={{x=977.75482177734,y=-101.76627349854,z=74.845115661621,name="Double barrel shotgun",sprite=158,color=62,cost=300,weapon={WEAPON.DBSHOTGUN},ammo={20}},{x=977.36364746094,y=-92.444755554199,z=74.84513092041,name="Compact Rifle",sprite=150,color=62,cost=2800,weapon={WEAPON.COMPACTRIFLE},ammo={180}},{x=975.68902587891,y=-94.825485229492,z=74.84513092041,name="Pipe bomb",sprite=152,color=62,cost=800,weapon={WEAPON.PIPEBOMB},ammo={4}},{x=994.84680175781,y=-107.53675842285,z=74.07746887207,name="Molotov",sprite=152,color=62,cost=0,weapon={WEAPON.MOLOTOV},ammo={3}},{x=986.86175537109,y=-144.59301757813,z=74.271423339844,name="Automatic shotgun",sprite=158,color=62,cost=3000,factionreq={j3.LOST,50000},weapon={WEAPON.AUTOSHOTGUN},ammo={80}},{x=1005.8704833984,y=-114.49364471436,z=73.970039367676,name="SMG shop",sprite=159,color=62,cost=1800,factionreq={j3.LOST,100000},weapon={WEAPON.MINISMG},ammo={150}}}j5.merc.weaponshops={{x=581.33917236328,y=-3119.0949707031,z=18.768585205078,name="Free mercenary weapons",sprite=150,color=65,cost=0,weapon={WEAPON.COMBATPISTOL,WEAPON.ADVANCEDRIFLE,WEAPON.ASSAULTSHOTGUN,WEAPON.COMBATMG},ammo={36,60,20,100}}}j5.cartel.weaponshops={{x=1410.2515869141,y=1145.1909179688,z=114.33390045166,name="Assault rifle",sprite=150,color=47,cost=2000,weapon={WEAPON.ASSAULTRIFLE},ammo={90}},{x=1410.1848144531,y=1147.421875,z=114.33404541016,name="Shotgun",sprite=158,color=47,cost=800,weapon={WEAPON.PUMPSHOTGUN},ammo={30}},{x=1410.2707519531,y=1149.6201171875,z=114.33406066895,name="Pistol",sprite=156,color=47,cost=300,weapon={WEAPON.PISTOL},ammo={60}},{x=1409.2731933594,y=1164.7584228516,z=114.33419799805,name="Sniper rifle",sprite=160,color=47,cost=2000,weapon={WEAPON.SNIPERRIFLE},ammo={45}}}j5.pirates.weaponshops={{x=1321.4251708984,y=4314.4223632813,z=38.332027435303,name="Assault rifle",sprite=150,color=62,cost=3000,weapon={WEAPON.ASSAULTRIFLE},ammo={90}},{x=1334.5457763672,y=4306.849609375,z=38.233901977539,name="Sniper rifle",sprite=160,color=62,cost=4000,weapon={WEAPON.SNIPERRIFLE},ammo={30}},{x=1332.7215576172,y=4325.287109375,z=38.090366363525,name="Revolver",sprite=156,color=62,cost=2000,weapon={WEAPON.REVOLVER},ammo={24}},{x=1383.4605712891,y=4305.560546875,z=36.663959503174,name="Dagger",sprite=154,color=62,cost=100,weapon={WEAPON.DAGGER},ammo={1}},{x=1374.1834716797,y=4381.0756835938,z=45.11164855957,name="Marksman pistol",sprite=156,color=62,cost=1500,weapon={WEAPON.MARKSMANPISTOL},ammo={20}},{x=1381.705078125,y=4381.96484375,z=45.187397003174,name="Marksman shotgun",sprite=158,color=62,cost=1500,weapon={WEAPON.MUSKET},ammo={20}}}j5.elite.weaponshops={{x=-2090.7915039063,y=-1010.5755004883,z=8.9711494445801,name="Automatic pistol",sprite=156,color=4,cost=1000,factionreq={j3.ELITE,1000000},weapon={WEAPON.APPISTOL},ammo={72}},{x=-77.564208984375,y=364.13122558594,z=112.44161987305,name="Elite pistol",sprite=156,color=4,cost=2000,weapon={WEAPON.PISTOLMK2},ammo={72}},{x=-68.150436401367,y=346.7080078125,z=142.62060546875,name="Automatic pistol",sprite=156,color=4,cost=2000,weapon={WEAPON.APPISTOL},ammo={72}},{x=-85.580963134766,y=357.03894042969,z=112.43988037109,name="Assault rifle",sprite=150,color=4,cost=4000,weapon={WEAPON.SPECIALCARBINE},ammo={90}},{x=-92.673233032227,y=330.42544555664,z=142.60330200195,name="Sniper rifle",sprite=160,color=4,cost=5500,weapon={WEAPON.MARKSMANRIFLE},ammo={42}}}local j6=j5.criminal.weaponshops;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.weaponshops)i_(j5.fbiswat.weaponshops)i_(j5.fbi.weaponshops)i_(j5.detectivesheavy.weaponshops)i_(j5.detectives.weaponshops)i_(j5.security.weaponshops)i_(j5.nysp.weaponshops)i_(j5.lspd.weaponshops)i_(j5.lspdheavy.weaponshops)i_(j5.sspdheavy.weaponshops)i_(j5.sspd.weaponshops)i_(j5.sahpheavy.weaponshops)i_(j5.sahp.weaponshops)i_(j5.borderpatrol.weaponshops)i_(j5.sapr.weaponshops)i_(j5.noose.weaponshops)i_(j5.military.weaponshops)i_(j5.navy.weaponshops)i_(j5.lost.weaponshops)i_(j5.merc.weaponshops)i_(j5.cartel.weaponshops)i_(j5.pirates.weaponshops)i_(j5.elite.weaponshops)j2(j5.fbiswat.weaponshops)j2(j5.fbi.weaponshops)j2(j5.detectivesheavy.weaponshops)j2(j5.detectives.weaponshops)j2(j5.security.weaponshops)j2(j5.nysp.weaponshops)j2(j5.lspd.weaponshops)j2(j5.lspdheavy.weaponshops)j2(j5.sspdheavy.weaponshops)j2(j5.sspd.weaponshops)j2(j5.sahpheavy.weaponshops)j2(j5.sahp.weaponshops)j2(j5.borderpatrol.weaponshops)j2(j5.sapr.weaponshops)j2(j5.noose.weaponshops)j2(j5.military.weaponshops)j2(j5.navy.weaponshops)j2(j5.lost.weaponshops)j2(j5.merc.weaponshops)j2(j5.cartel.weaponshops)j2(j5.pirates.weaponshops)j2(j5.elite.weaponshops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(j6)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,255,255,255,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if bm.money>=g.cost then local ped=PlayerPedId()local u=math.random(#g.weapon)local K=g.weapon[u]local j7=HasPedGotWeapon(ped,K)local j8=GetPedAmmoTypeFromWeapon(ped,K)local j9=GetPedAmmoByType(ped,j8)GiveWeaponToPed(ped,K,g.ammo[u],false,true)local ja=GetPedAmmoByType(ped,j8)if g.luxe then local jb=weapon_upgrades.luxe[K]if j7 then j7=HasPedGotWeaponComponent(ped,K,jb)end;GiveWeaponComponentToPed(ped,K,jb)else local jb=weapon_upgrades.luxe[K]if j7 then j7=not HasPedGotWeaponComponent(ped,K,jb)end;RemoveWeaponComponentFromPed(ped,K,jb)end;if not j7 or ja~=j9 then bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)hk(500,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,255,255,255,128,false,true,2,false,false,false,false)cO=GetEntityCoords(PlayerPedId())end else SimpleNotification("You don't have enough money.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to buy weapon.",g.name,g.cost)end end end end end end)j5.criminal.weapon_upgrade_shops={{x=1010.5590209961,y=-2190.1262207031,z=31.533477783203,name="Extended magazine",color=4,sprite=313,cost=200,upgrade=weapon_upgrades.extendedmag},{x=478.48071289063,y=-1514.2593994141,z=29.291564941406,name="Extended magazine",color=4,sprite=313,cost=200,upgrade=weapon_upgrades.extendedmag},{x=126.49391174316,y=-1929.5374755859,z=21.382417678833,name="Extended magazine",color=83,sprite=313,cost=300,factionreq={j3.BALLAS,75000},upgrade=weapon_upgrades.extendedmag},{x=-313.05096435547,y=-1332.7655029297,z=31.350290298462,name="Flashlight",color=4,sprite=313,cost=100,upgrade=weapon_upgrades.flashlight},{x=214.48263549805,y=-1.5807383060455,z=74.25813293457,name="Grip",color=4,sprite=313,cost=50,upgrade=weapon_upgrades.grip},{x=306.30133056641,y=-141.36608886719,z=67.770805358887,name="Scope",color=4,sprite=313,cost=500,upgrade=weapon_upgrades.scope},{x=-169.53044128418,y=-1027.6402587891,z=27.27357673645,name="Silencer",color=4,sprite=313,cost=500,upgrade=weapon_upgrades.silencer},{x=-3103.4780273438,y=346.47964477539,z=14.440871238708,name="Scope",color=4,sprite=313,cost=0,upgrade=weapon_upgrades.scope},{x=-273.43283081055,y=-947.53277587891,z=92.519584655762,name="Silencer",color=4,sprite=313,cost=1500,upgrade=weapon_upgrades.silencer}}j5.lspd.weapon_upgrade_shops={{x=464.49899291992,y=-983.98010253906,z=39.891845703125,name="Flashlight",color=4,sprite=313,cost=0,upgrade=weapon_upgrades.flashlight},{x=464.65417480469,y=-983.98345947266,z=35.891902923584,name="Scope",color=4,sprite=313,cost=0,upgrade=weapon_upgrades.scope}}j5.sapr.weapon_upgrade_shops={{x=381.34396362305,y=792.29223632813,z=190.40689086914,name="Flashlight",color=4,sprite=313,cost=0,upgrade=weapon_upgrades.flashlight},{x=389.00573730469,y=798.01898193359,z=187.67132568359,name="Scope",color=4,sprite=313,cost=0,upgrade=weapon_upgrades.scope}}j5.noose.weapon_upgrade_shops={{x=2477.154296875,y=-347.35385131836,z=93.73494720459,name="Supressor",color=29,sprite=313,cost=0,upgrade=weapon_upgrades.silencer},{x=2484.6081542969,y=-350.64505004883,z=93.736419677734,name="Grip",color=29,sprite=313,cost=0,upgrade=weapon_upgrades.grip},{x=2477.2258300781,y=-366.3522644043,z=94.816375732422,name="Scope",color=29,sprite=313,cost=0,upgrade=weapon_upgrades.scope},{x=2488.3552246094,y=-364.04937744141,z=93.735282897949,name="Flashlight",color=29,sprite=313,cost=0,upgrade=weapon_upgrades.flashlight}}j5.fbi.weapon_upgrade_shops={}j5.fbiswat.weapon_upgrade_shops={{x=144.97364807129,y=-761.15582275391,z=242.15205383301,name="Supressor",color=3,sprite=313,cost=0,upgrade=weapon_upgrades.silencer},{x=144.34698486328,y=-762.68933105469,z=242.15205383301,name="Scope",color=3,sprite=313,cost=0,upgrade=weapon_upgrades.scope},{x=143.67152404785,y=-764.49200439453,z=242.15205383301,name="Extended magazine",color=3,sprite=313,cost=0,upgrade=weapon_upgrades.extendedmag}}j5.elite.weapon_upgrade_shops={{x=-97.513252258301,y=323.93173217773,z=136.89273071289,name="Silencer",color=4,sprite=313,cost=1000,upgrade=weapon_upgrades.silencer}}j5.cartel.weapon_upgrade_shops={}j5.merc.weapon_upgrade_shops={{x=467.18151855469,y=-3220.2937011719,z=7.0569653511047,name="Scope",color=65,sprite=313,cost=0,factionreq={j3.MERCS,800000},upgrade=weapon_upgrades.scope},{x=467.18151855469,y=-3212.3337402344,z=7.0569653511047,name="Grip",color=65,sprite=313,cost=0,factionreq={j3.MERCS,20000},upgrade=weapon_upgrades.grip},{x=467.84606933594,y=-3205.6779785156,z=9.7939443588257,name="Flashlight",color=65,sprite=313,cost=0,factionreq={j3.MERCS,50000},upgrade=weapon_upgrades.flashlight},{x=467.82974243164,y=-3205.7380371094,z=6.0695605278015,name="Supressor",color=65,sprite=313,cost=0,factionreq={j3.MERCS,1000000},upgrade=weapon_upgrades.silencer}}j5.lost.weapon_upgrade_shops={}local jc=j5.criminal.weapon_upgrade_shops;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.weapon_upgrade_shops)i_(j5.fbi.weapon_upgrade_shops)i_(j5.fbiswat.weapon_upgrade_shops)i_(j5.noose.weapon_upgrade_shops)i_(j5.lspd.weapon_upgrade_shops)i_(j5.sapr.weapon_upgrade_shops)i_(j5.merc.weapon_upgrade_shops)i_(j5.lost.weapon_upgrade_shops)i_(j5.cartel.weapon_upgrade_shops)i_(j5.elite.weapon_upgrade_shops)j2(j5.fbi.weapon_upgrade_shops)j2(j5.fbiswat.weapon_upgrade_shops)j2(j5.noose.weapon_upgrade_shops)j2(j5.lspd.weapon_upgrade_shops)j2(j5.sapr.weapon_upgrade_shops)j2(j5.lost.weapon_upgrade_shops)j2(j5.merc.weapon_upgrade_shops)j2(j5.cartel.weapon_upgrade_shops)j2(j5.elite.weapon_upgrade_shops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(jc)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,255,128,false,true,2,false,false,false,false)if iK<1 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if bm.money>=g.cost then local ped=PlayerPedId()local jd=GetSelectedPedWeapon(ped)local je=g.upgrade[jd]if je then if HasPedGotWeaponComponent(ped,jd,je)then GiveWeaponComponentToPed(ped,jd,je)SimpleNotification("You already have "..g.name.." on this weapon.")Wait(800)else GiveWeaponComponentToPed(ped,jd,je)bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())end else SimpleNotification("You can't attach ~a~ to this weapon.",g.name)Wait(800)end else SimpleNotification("You don't have enough money.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to buy weapon upgrade.",g.name,g.cost)end end end end end end)j5.criminal.armorshops={{x=145.78712463379,y=-2199.318359375,z=4.6880211830139,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=-932.357421875,y=-2936.1462402344,z=13.945066452026,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=-5.679844379425,y=530.17016601563,z=170.61711120605,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=-808.39215087891,y=175.24224853516,z=76.740783691406,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=1274.2954101563,y=-1708.5482177734,z=54.771492004395,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=-113.41641235352,y=-13.630139350891,z=70.51863861084,name="Free armor",color=32,sprite=175,cost=0,amount=25},{x=-778.97601318359,y=-916.24353027344,z=18.988374710083,name="Armor shop",color=49,sprite=175,cost=1100,factionreq={j3.TRIADS,100000}},{x=979.28149414063,y=-1864.966796875,z=31.349632263184,name="Armor shop",color=46,sprite=175,cost=1100,factionreq={j3.VAGOS,150000}},{x=153.57276916504,y=292.99710083008,z=110.8408203125,name="Armor shop",color=45,sprite=175,cost=1100,factionreq={j3.HEISTERS,50000}},{x=-3097.3046875,y=347.89349365234,z=14.440871238708,name="Free Armor",color=3,sprite=175,cost=0},{x=-3198.1364746094,y=1274.4821777344,z=12.667650222778,name="Free armor",color=32,sprite=175,cost=0,amount=25}}j5.noose.armorshops={{x=2488.3266601563,y=-404.13980102539,z=93.735198974609,name="Armor",color=29,sprite=175,cost=0}}j5.navy.armorshops={{x=3080.2497558594,y=-4796.998046875,z=2.0332436561584,name="Armor",color=26,sprite=175,cost=0},{x=3091.8764648438,y=-4711.5063476563,z=15.262619018555,name="Armor",color=26,sprite=175,cost=0},{x=-2355.4753417969,y=3259.1435546875,z=92.90372467041,name="Armor",color=26,sprite=175,cost=0}}j5.military.armorshops={}j5.detectivesheavy.armorshops={{x=449.82006835938,y=-993.31036376953,z=30.689605712891,name="Armor",color=3,sprite=175,cost=0}}j5.sahpheavy.armorshops={{x=-444.9538269043,y=6010.4111328125,z=31.71639251709,name="Armor",color=39,sprite=175,cost=0}}j5.sspdheavy.armorshops={{x=1849.9420166016,y=3686.166015625,z=34.267063140869,name="Armor",color=5,sprite=175,cost=0}}j5.lspdheavy.armorshops={{x=449.82006835938,y=-993.31036376953,z=30.689605712891,name="Armor",color=3,sprite=175,cost=0}}j5.fbi.armorshops={{x=147.40942382813,y=-738.14141845703,z=242.15194702148,name="Armor",color=3,sprite=175,cost=0}}j5.lost.armorshops={{x=984.69683837891,y=-125.75647735596,z=73.957084655762,name="Armor",color=62,sprite=175,cost=1800,factionreq={j3.LOST,500000}}}j5.merc.armorshops={}j5.anarchy.armorshops={{x=712.4091796875,y=-959.44964599609,z=30.39533996582,name="Armor",color=25,sprite=175,cost=500}}j5.cartel.armorshops={{x=1409.0297851563,y=1159.9927978516,z=114.33424377441,name="Armor",color=47,sprite=175,cost=900}}j5.elite.armorshops={{x=-2094.8173828125,y=-1020.3321533203,z=8.9715394973755,name="Armor",color=4,sprite=175,cost=1000,factionreq={j3.ELITE,1000000}},{x=-63.25354385376,y=356.66430664063,z=112.44436645508,name="Armor",color=4,sprite=175,cost=2000}}local jf=j5.criminal.armorshops;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.armorshops)i_(j5.fbi.armorshops)i_(j5.detectivesheavy.armorshops)i_(j5.sahpheavy.armorshops)i_(j5.sspdheavy.armorshops)i_(j5.lspdheavy.armorshops)i_(j5.noose.armorshops)i_(j5.military.armorshops)i_(j5.navy.armorshops)i_(j5.merc.armorshops)i_(j5.lost.armorshops)i_(j5.anarchy.armorshops)i_(j5.cartel.armorshops)i_(j5.elite.armorshops)j2(j5.fbi.armorshops)j2(j5.detectivesheavy.armorshops)j2(j5.sahpheavy.armorshops)j2(j5.sspdheavy.armorshops)j2(j5.lspdheavy.armorshops)j2(j5.noose.armorshops)j2(j5.military.armorshops)j2(j5.navy.armorshops)j2(j5.lost.armorshops)j2(j5.merc.armorshops)j2(j5.anarchy.armorshops)j2(j5.cartel.armorshops)j2(j5.elite.armorshops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(jf)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,255,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if bm.money>=g.cost then local ped=PlayerPedId()local jg=g.amount;if jg==nil then jg=100 end;if GetPedArmour(ped)<jg then SetPedArmour(ped,jg)bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())end else SimpleNotification("You don't have enough money.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to buy armor.",g.name,g.cost)end end end end end end)j5.criminal.medics={{x=-3098.7895507813,y=348.39495849609,z=14.440871238708,name="Medic",color=23,sprite=153,cost=0},{x=1985.2779541016,y=3048.7067871094,z=47.215042114258,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=23,sprite=93,cost=400},{x=-560.26623535156,y=285.49325561523,z=82.176300048828,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=23,sprite=93,cost=500},{x=135.64688110352,y=-1464.9498291016,z=29.357027053833,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=128.2878112793,y=-1285.4421386719,z=29.279960632324,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=23,sprite=93,cost=600},{x=-1393.1754150391,y=-606.58898925781,z=30.319490432739,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=23,sprite=93,cost=600},{x=990.78991699219,y=-1391.4086914063,z=31.548095703125,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=11.087592124939,y=-1605.8353271484,z=29.393323898315,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=-1296.4777832031,y=-1387.1433105469,z=4.5322666168213,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=538.42309570313,y=101.74662017822,z=96.53604888916,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=-1193.3381347656,y=-1540.4064941406,z=4.3794946670532,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=1900.2961425781,y=3710.86328125,z=32.769092559814,animdict="mp_player_inteat@burger",anim="mp_player_int_eat_burger",name="Food",color=5,sprite=93,cost=100},{x=-1182.3248291016,y=-1533.4020996094,z=4.3794951438904,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=23,sprite=93,cost=500},{x=-278.41262817383,y=-958.35559082031,z=91.108329772949,animdict="mp_player_intdrink",anim="loop",name="Drink",armor=80,color=4,sprite=93,cost=500},{x=328.12069702148,y=-594.96350097656,z=43.24747467041,name="Medic",color=23,sprite=153,cost=0}}j5.lsfd.medics={{x=208.99238586426,y=-1657.8919677734,z=29.803220748901,name="Medkit",color=75,sprite=153,cost=0},{x=1207.4931640625,y=-1476.2899169922,z=34.859550476074,name="Medkit",color=75,sprite=153,cost=0}}j5.military.medics={{x=3092.6142578125,y=-4721.0063476563,z=27.278636932373,name="Medkit",color=26,sprite=153,cost=0},{x=3086.4086914063,y=-4795.1791992188,z=2.0335190296173,name="Medkit",color=26,sprite=153,cost=0},{x=3090.3371582031,y=-4802.5244140625,z=7.0797100067139,name="Medkit",color=26,sprite=153,cost=0},{x=3088.5026855469,y=-4737.4521484375,z=10.742150306702,name="Medkit",color=26,sprite=153,cost=0},{x=3035.0034179688,y=-4689.2353515625,z=6.0772891044617,name="Medkit",color=26,sprite=153,cost=0},{x=3096.7106933594,y=-4702.1611328125,z=12.244046211243,name="Medkit",color=26,sprite=153,cost=0},{x=3088.6994628906,y=-4711.642578125,z=15.262623786926,name="Medkit",color=26,sprite=153,cost=0},{x=3087.4506835938,y=-4692.7104492188,z=27.252170562744,name="Medkit",color=26,sprite=153,cost=0},{x=-2358.787109375,y=3254.3071289063,z=32.810722351074,name="Medic",color=52,sprite=153,cost=0}}j5.noose.medics={{x=2477.2575683594,y=-420.93502807617,z=93.735168457031,name="Medic",color=29,sprite=153,cost=0}}j5.sahp.medics={{x=-442.30810546875,y=6012.0126953125,z=31.716377258301,name="Medic",color=39,sprite=153,cost=0}}j5.sspd.medics={{x=1850.7416992188,y=3683.5285644531,z=34.267040252686,name="Medic",color=5,sprite=153,cost=0}}j5.sapr.medics={{x=388.95092773438,y=799.78704833984,z=187.67132568359,name="Medic",color=2,sprite=153,cost=0}}j5.lspd.medics={{x=470.98806762695,y=-984.88824462891,z=30.689607620239,name="Medic",color=3,sprite=153,cost=0},{x=855.63909912109,y=-1285.5286865234,z=26.796737670898,name="Medic",color=3,sprite=153,cost=0},{x=-1112.6473388672,y=-848.40319824219,z=13.440620422363,name="Medic",color=3,sprite=153,cost=0},{x=-1078.9779052734,y=-856.30047607422,z=5.0424327850342,name="Medic",color=3,sprite=153,cost=0},{x=371.49307250977,y=-1612.5402832031,z=29.291933059692,name="Medic",color=3,sprite=153,cost=0}}j5.fbi.medics={{x=139.62872314453,y=-747.20422363281,z=242.15194702148,name="Medic",color=3,sprite=153,cost=0}}j5.lost.medics={{x=980.94506835938,y=-98.249252319336,z=74.845077514648,name="Medic",color=62,sprite=153,cost=2200}}j5.merc.medics={}j5.anarchy.medics={{x=705.71612548828,y=-966.90264892578,z=30.395343780518,name="Medic",color=25,sprite=153,cost=400}}j5.cartel.medics={{x=1406.9233398438,y=1127.4875488281,z=114.33421325684,name="Medic",color=47,sprite=153,cost=600}}j5.pirates.medics={{x=1364.2897949219,y=4315.4384765625,z=37.663036346436,name="Medic",color=62,sprite=153,cost=1500}}j5.elite.medics={{x=-2080.41796875,y=-1015.1663818359,z=12.781924247742,name="Medic",color=4,sprite=153,cost=500,factionreq={j3.ELITE,1000000}},{x=-73.911170959473,y=334.17614746094,z=142.59918212891,name="Medic",color=4,sprite=153,cost=2000}}local jh=j5.criminal.medics;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.medics)i_(j5.lsfd.medics)i_(j5.lspd.medics)i_(j5.sspd.medics)i_(j5.sahp.medics)i_(j5.sapr.medics)i_(j5.noose.medics)i_(j5.military.medics)i_(j5.fbi.medics)i_(j5.lost.medics)i_(j5.merc.medics)i_(j5.anarchy.medics)i_(j5.cartel.medics)i_(j5.pirates.medics)i_(j5.elite.medics)j2(j5.lsfd.medics)j2(j5.fbi.medics)j2(j5.lspd.medics)j2(j5.sspd.medics)j2(j5.sahp.medics)j2(j5.sapr.medics)j2(j5.noose.medics)j2(j5.military.medics)j2(j5.lost.medics)j2(j5.merc.medics)j2(j5.anarchy.medics)j2(j5.cartel.medics)j2(j5.pirates.medics)j2(j5.elite.medics)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(jh)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,255,128,128,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if bm.money>=g.cost then local ped=PlayerPedId()local ji=GetPedMaxHealth(ped)local jj=g.armor~=nil and GetPedArmour(ped)<g.armor;if GetEntityHealth(ped)<ji or jj then bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)if g.animdict then if not HasAnimDictLoaded(g.animdict)then RequestAnimDict(g.animdict)while not HasAnimDictLoaded(g.animdict)do Wait(10)end end;print("playing anim"..g.animdict..g.anim)TaskPlayAnim(ped,g.animdict,g.anim,1.0,1.0,10000,0,0,0,0,0)end;SetEntityHealth(ped,ji)if jj then SetPedArmour(ped,g.armor)end;hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())end else SimpleNotification("You don't have enough money.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to heal.",g.name,g.cost)end end end end end end)local function jk(aW)RequestModel(aW)while not HasModelLoaded(aW)do Wait(10)end;SetPlayerModel(PlayerId(),aW)SetModelAsNoLongerNeeded(aW)local ped=PlayerPedId()if fc~=nil then SetPedMaxHealth(ped,fc)SetEntityHealth(ped,fc)end;SetPedRandomComponentVariation(ped,false)SetPedRandomProps(ped)return ped end;local function jl(aW)RequestModel(aW)while not HasModelLoaded(aW)do Wait(10)end;local ped=PlayerPedId()local gy={}local bf={}local b4=GetEntityHealth(ped)local bc=GetPedArmour(ped)for fZ,jm in pairs(WEAPON)do if HasPedGotWeapon(ped,jm,false)then local u=0;local j8=GetPedAmmoTypeFromWeapon(ped,jm)gy[jm]={}bf[j8]=GetPedAmmoByType(ped,j8)for jn,jo in pairs(weapon_upgrades)do local jp=jo[jm]if jp and HasPedGotWeaponComponent(ped,jm,jp)then u=u+1;gy[jm][u]=jp end end end end;local jq={}local gz=GetPlayerGroup(PlayerId())local jr,js=GetGroupSize(gz)jr=jr and js>0;if jr then for u=0,js-1 do jq[u]=GetPedAsGroupMember(gz,u)end end;SetPlayerModel(PlayerId(),aW)SetModelAsNoLongerNeeded(aW)ped=PlayerPedId()if fc~=nil then SetPedMaxHealth(ped,fc)end;SetEntityHealth(ped,b4)SetPedArmour(ped,bc)SetPedRandomComponentVariation(ped,false)SetPedRandomProps(ped)for f,g in pairs(gy)do GiveWeaponToPed(ped,f,0,false,true)for u,jp in pairs(g)do GiveWeaponComponentToPed(ped,f,jp)end end;for f,g in pairs(bf)do SetPedAmmoByType(ped,f,g)end;SetPedRelationshipGroupHash(ped,fo)if jr then for u=0,js-1 do SetPedAsGroupMember(jq[u],gz)end end;return ped end;local function jt(ped)SetEnableScuba(ped,true)SetPedDiesInWater(ped,false)if not HasPedGotWeapon(ped,WEAPON.DAGGER)and not HasPedGotWeapon(ped,WEAPON.KNIFE)and not HasPedGotWeapon(ped,WEAPON.KNUCKLE)then GiveWeaponToPed(ped,WEAPON.KNIFE,1,false,false)end end;local function ju(aW)if aW==941695432 then return true elseif aW==365775923 then return true elseif aW==225514697 then return true elseif aW==-1686040670 then return true elseif aW==-1692214353 then return true end;return false end;local function jv()local aW=GetEntityModel(PlayerPedId())return ju(aW)or bm.scuba_gear end;local function jw()local aW=GetEntityModel(PlayerPedId())SetEnableScuba(ped,false)SetPedDiesInWater(ped,true)bm.scuba_gear=false;if aW==941695432 then jl(fB.FBI[math.random(#fB.FBI)])elseif aW==365775923 then jl(fB.CRIMINAL[math.random(#fB.CRIMINAL)])elseif aW==225514697 then jl(fB.MERCS[math.random(#fB.MERCS)])elseif aW==-1686040670 then jl(fB.HEISTERS[math.random(#fB.HEISTERS)])elseif aW==-1692214353 then jl(fB.ELITE[math.random(#fB.ELITE)])end end;local function jx()return jv()end;local function jy(T,U,jz)local jA=#jz;local eC,fE,da=false,false,jz[jA].y>U;for u=1,#jz do eC=jz[u].y>U;if eC~=da and T-jz[u].x<(jz[jA].x-jz[u].x)*(U-jz[u].y)/(jz[jA].y-jz[u].y)then fE=not fE end;jA=u;da=eC end;return fE end;local function jB()local jC=GetClosestObjectOfType(151.36083984375,-1007.8784790039,-98.999984741211,2.0,-1663022887,false,false,false)SetEntityHeading(jC,179.99987792969)FreezeEntityPosition(jC,true)SetRadarAsInteriorThisFrame(0,151.36083984375,-1007.8784790039,-98.999984741211,2)end;local jD,jE,jF=0,0,0;local jG={sportbikeclub={cost=2000000,welcome="buy ~g~Sportbike club~s~",firsttimecheck=true,entrance={x=996.57788085938,y=-1486.7055664063,z=31.433860778809},sprite=374,interiorid=246529,weaponshop={x=997.43273925781,y=-3163.9406738281,z=-34.077461242676},stash={x=1008.7311401367,y=-3171.6267089844,z=-38.904186248779},clothes={x=1009.9861450195,y=-3167.8527832031,z=-38.90686416626},fasttravel={x=1008.1266479492,y=-3170.3034667969,z=-38.894443511963},tv={x=1008.3544921875,y=-3165.3735351563,z=-34.077503204346,angle=293,r=3},exit={x=997.22723388672,y=-3158.0949707031,z=-38.907154083252}},mcclub={cost=1000000,welcome="buy ~g~Lost Clubhouse~s~",firsttimecheck=true,entrance={x=-2193.4108886719,y=4290.0083007813,z=49.174373626709},sprite=374,interiorid=246273,weaponshop={x=1121.1198730469,y=-3147.1879882813,z=-37.062732696533},stash={x=1121.4636230469,y=-3158.1791992188,z=-37.062728881836},clothes={x=1116.9722900391,y=-3163.0412597656,z=-36.870487213135},fasttravel={x=1114.8884277344,y=-3161.3532714844,z=-36.870483398438},tv={x=1112.3206787109,y=-3144.0109863281,z=-37.062770843506,angle=296,r=1.5},exit={x=1121.0263671875,y=-3152.4567871094,z=-37.062770843506}},helihangar={cost=3000000,welcome="buy ~g~Higgins Helitours~s~",firsttimecheck=true,entrance={x=-753.65759277344,y=-1512.0716552734,z=5.0202574729919},sprite=360,interiorid=236033,stash={x=995.63671875,y=-3096.2163085938,z=-38.995861053467},clothes={x=992.86962890625,y=-3095.7958984375,z=-38.995838165283},fasttravel={x=994.99304199219,y=-3098.259765625,z=-38.995838165283},tv={x=994.63262939453,y=-3100.0239257813,z=-38.995853424072,angle=73,r=0.5},exit={x=992.74365234375,y=-3097.8220214844,z=-38.995861053467}},stilt_2045nc={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=375.02807617188,y=427.56436157227,z=145.6838684082},sprite=374,interiorid=206337,exit={x=373.63525390625,y=423.69442749023,z=145.90788269043},personal=true,clothes={x=374.38259887695,y=411.42193603516,z=142.10014343262},heal={x=379.21282958984,y=418.03268432617,z=142.11172485352},weaponshop={x=378.86877441406,y=430.00305175781,z=138.30014038086},fasttravel={x=377.78726196289,y=419.68817138672,z=145.90003967285},stash={x=371.1350402832,y=426.15432739258,z=138.30014038086},tv={x=373.86801147461,y=405.69351196289,z=145.52709960938,angle=252.01974487305,r=4}},stilt_2044nc={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=345.32501220703,y=440.03198242188,z=148.09053039551},sprite=374,interiorid=206081,exit={x=342.12084960938,y=437.84649658203,z=149.38078308105},personal=true,fasttravel={x=342.5549621582,y=431.20184326172,z=149.38076782227},clothes={x=334.24087524414,y=428.52578735352,z=145.5708770752},heal={x=342.2932434082,y=428.94381713867,z=145.57366943359},weaponshop={x=336.27581787109,y=437.55310058594,z=141.77076721191},stash={x=328.42395019531,y=430.28875732422,z=148.97131347656},tv={x=329.64590454102,y=424.93478393555,z=148.99240112305,angle=212.27424621582,r=4}},stilt_3677wd={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=119.3999710083,y=563.31634521484,z=183.96925354004},sprite=374,interiorid=206593,exit={x=117.28005218506,y=560.03479003906,z=184.30487060547},personal=true,fasttravel={x=122.26351928711,y=557.47943115234,z=184.29707336426},clothes={x=122.05478668213,y=548.77655029297,z=180.49726867676},heal={x=124.4165802002,y=556.51837158203,z=180.50914001465},stash={x=114.13722991943,y=561.28967285156,z=176.69714355469},weaponshop={x=120.12516784668,y=567.58624267578,z=176.69714355469},tv={x=123.79735565186,y=543.091796875,z=183.92324829102,angle=273.67535400391,r=4}},stilt_3655wod={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-173.6223449707,y=502.65237426758,z=137.42335510254},sprite=374,interiorid=207105,exit={x=-174.20683288574,y=497.61782836914,z=137.66532897949},personal=true,fasttravel={x=-167.85173034668,y=496.53308105469,z=137.65356445313},clothes={x=-167.37454223633,y=487.67611694336,z=133.84378051758},heal={x=-165.60696411133,y=495.50799560547,z=133.84576416016},stash={x=-170.67671203613,y=482.49447631836,z=137.24423217773},weaponshop={x=-175.81387329102,y=492.22912597656,z=130.0436706543},tv={x=-165.28002929688,y=482.40115356445,z=137.26530456543,angle=275.30621337891,r=4}},stilt_2217mr={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-560.11773681641,y=662.74603271484,z=145.48278808594},sprite=374,interiorid=207873,exit={x=-571.88372802734,y=661.82110595703,z=145.83985900879},personal=true,fasttravel={x=-567.98516845703,y=657.96606445313,z=145.83201599121},clothes={x=-571.24450683594,y=649.64440917969,z=142.03224182129},heal={x=-566.34350585938,y=656.14813232422,z=142.03800964355},stash={x=-574.40173339844,y=664.56158447266,z=138.2322845459},weaponshop={x=-566.24639892578,y=668.00848388672,z=138.23211669922},tv={x=-571.63140869141,y=643.79772949219,z=145.45643615723,angle=255.69085693359,r=4}},stilt_2862ha={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-685.12347412109,y=595.20166015625,z=144.03930664063},sprite=374,interiorid=208129,exit={x=-682.48516845703,y=592.6767578125,z=145.37977600098},personal=true,fasttravel={x=-676.25286865234,y=594.68115234375,z=145.3797454834},clothes={x=-671.41027832031,y=587.36248779297,z=141.56985473633},heal={x=-673.94598388672,y=594.97692871094,z=141.58058166504},stash={x=-671.76257324219,y=581.18615722656,z=144.97027587891},weaponshop={x=-681.35693359375,y=586.83587646484,z=137.76974487305},tv={x=-667.22766113281,y=583.50933837891,z=144.99137878418,angle=314.85348510742,r=4}},stilt_2868ha={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-754.65661621094,y=619.84906005859,z=142.85665893555},sprite=374,interiorid=207617,exit={x=-758.14813232422,y=618.96325683594,z=144.14060974121},personal=true,fasttravel={x=-758.68511962891,y=612.52465820313,z=144.140625},clothes={x=-767.46990966797,y=610.8359375,z=140.33073425293},heal={x=-759.29760742188,y=610.38983154297,z=140.33882141113},stash={x=-772.84417724609,y=613.51971435547,z=143.73115539551},weaponshop={x=-763.96026611328,y=620.2001953125,z=136.53060913086},tv={x=-772.50140380859,y=608.28643798828,z=143.75215148926,angle=194.67851257324,r=4}},stilt_2874ha={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-852.91680908203,y=693.86029052734,z=149.04182434082},sprite=374,interiorid=207361,exit={x=-859.95843505859,y=691.35089111328,z=152.86073303223},personal=true,fasttravel={x=-854.82281494141,y=688.68475341797,z=152.85292053223},clothes={x=-855.22027587891,y=680.03601074219,z=149.05310058594},heal={x=-852.74212646484,y=687.57080078125,z=149.05754089355},stash={x=-863.10284423828,y=692.91369628906,z=145.25325012207},weaponshop={x=-856.51135253906,y=698.87994384766,z=145.25297546387},tv={x=-853.92095947266,y=674.20446777344,z=152.4803314209,angle=276.31408691406,r=4}},stilt_2113mwtd={cost=5000000,welcome="buy ~b~Stilt House~s~",firsttimecheck=true,entrance={x=-1294.1184082031,y=453.13424682617,z=97.64134979248},sprite=374,interiorid=208385,exit={x=-1289.7043457031,y=449.69128417969,z=97.902519226074},personal=true,fasttravel={x=-1284.9735107422,y=446.69812011719,z=97.89469909668},clothes={x=-1286.0578613281,y=438.16497802734,z=94.09481048584},heal={x=-1283.0115966797,y=445.48590087891,z=94.10213470459},stash={x=-1292.8470458984,y=451.57983398438,z=90.294700622559},weaponshop={x=-1285.9479980469,y=456.97134399414,z=90.294700622559},tv={x=-1285.201171875,y=432.22900390625,z=97.521751403809,angle=265.16030883789,r=4}},pillbox={cost=100000,welcome="buy ~b~Pillbox Medical Center~s~",firsttimecheck=true,entrance={x=299.30865478516,y=-584.69122314453,z=43.260845184326},sprite=374,stash={x=309.9714050293,y=-602.86383056641,z=43.240982055664},fasttravel={x=308.4944152832,y=-596.53778076172,z=43.245262145996},exit={x=299.87188720703,y=-584.92663574219,z=43.243797302246},polygon={{x=294.65594482422,y=-598.43902587891},{x=301.35507202148,y=-579.80688476563},{x=330.44061279297,y=-590.61340332031},{x=327.28958129883,y=-601.79638671875},{x=321.80279541016,y=-601.81085205078},{x=312.41998291016,y=-599.49151611328},{x=310.4303894043,y=-604.81872558594}},minz=42.2,maxz=45.2,hideexterior=function()SetRadarAsInteriorThisFrame(0,151.36083984375,-1007.8784790039,-98.999984741211,2)SetRadarZoomLevelThisFrame(10.0)end},airporthangar={cost=1000000,welcome="buy ~b~Pegasus Hangar~s~",firsttimecheck=true,entrance={x=-1630.5385742188,y=-3163.0083007813,z=13.99162197113},sprite=359,stash={x=-1629.6101074219,y=-3167.8647460938,z=13.99573135376},fasttravel={x=-1619.61328125,y=-3155.7770996094,z=13.99573135376},exit={x=-1629.3178710938,y=-3163.923828125,z=13.99572467804},tv={x=-1624.1873779297,y=-3161.3203125,z=14.297800064087,angle=86.078,r=3},polygon={{x=-1632.4475097656,y=-3166.619140625},{x=-1616.5848388672,y=-3147.9265136719},{x=-1612.6760986328,y=-3151.1022949219},{x=-1628.5764160156,y=-3170.0402832031}},minz=11,maxz=15,hideexterior=function()SetRadarAsInteriorThisFrame(0,151.36083984375,-1007.8784790039,-98.999984741211,2)SetRadarZoomLevelThisFrame(10.0)end},premiumdeluxemotorsport={cost=2500000,welcome="buy ~b~Premium Deluxe Motorsport~s~",firsttimecheck=true,entrance={x=-32.638259887695,y=-1102.1879882813,z=26.422353744507},sprite=374,interiorid=7170,room=-1159701476,stash={x=-29.576457977295,y=-1108.3208007813,z=26.422357559204},clothes={x=-27.62583732605,y=-1104.0377197266,z=26.422334671021},fasttravel={x=-30.905071258545,y=-1105.6452636719,z=27.414264678955},exit={x=-31.591047286987,y=-1102.5441894531,z=26.422334671021}},bomjhotel={cost=1000,welcome="join ~b~Hostel~s~",firsttimecheck=true,entrance={x=-1150.0412597656,y=-1521.8583984375,z=10.628050804138},color=39,sprite=475,interiorid=171777,room_not_zero=true,weaponshop={x=-1156.6614990234,y=-1517.3657226563,z=10.632067680359},stash={x=-1145.2269287109,y=-1514.4365234375,z=10.666219711304},clothes={x=-1153.3487548828,y=-1516.7150878906,z=10.632718086243},fasttravel={x=-1151.6306152344,y=-1519.8781738281,z=10.632719039917},tv={x=-1159.9343261719,y=-1520.4520263672,z=10.577194213867,angle=76.382987976074,r=3},exit={x=-1150.4342041016,y=-1521.1938476563,z=10.632717132568}},altahotel={cost=1000000,welcome="join ~r~Alta Hotel~s~",firsttimecheck=true,entrance={x=-266.59945678711,y=-956.03387451172,z=31.223134994507},sprite=475,zone={x=-277.69100952148,y=-952.26770019531,z=90,r=40,h=5},interiorid=141569,weaponshop={x=-272.65017700195,y=-949.73199462891,z=92.519371032715},stash={x=-283.45257568359,y=-949.39801025391,z=86.303680419922},clothes={x=-277.66131591797,y=-960.51202392578,z=86.303611755371},fasttravel={x=-273.46496582031,y=-953.27453613281,z=91.108337402344},tv={x=-286.82241821289,y=-963.22595214844,z=91.129203796387,angle=73,r=6},exit={x=-269.96142578125,y=-941.06811523438,z=92.510902404785},hideexterior=function()if not bm.watching_tv then pcall(function()Citizen.InvokeNative(0x4B5CFC83122DF602)HideMapObjectThisFrame(1611496961)HideMapObjectThisFrame(-312225717)Citizen.InvokeNative(0x3669F1B198DCAA4F)end)end end},bomjatnya_1={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=-583.03045654297,y=228.09815979004,z=79.428085327148},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_2={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=363.48321533203,y=-711.83111572266,z=29.28723526001},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_3={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=-21.726606369019,y=-1003.1072387695,z=29.295963287354},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_4={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=54.82234954834,y=-916.17828369141,z=29.965997695923},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_paleto={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=-154.59375,y=6433.1518554688,z=31.915904998779},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_sandy={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=1435.7113037109,y=3657.2365722656,z=34.352275848389},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_chumash={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=-3231.7888183594,y=1081.5544433594,z=10.809398651123},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_harmony={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=359.43469238281,y=2623.3625488281,z=44.683723449707},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_senora_hotel={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=1141.2111816406,y=2642.0073242188,z=38.143703460693},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_grapeseed={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=1662.9924316406,y=4776.2939453125,z=42.00756072998},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_paletoforest={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=-693.98712158203,y=5761.7700195313,z=17.511001586914},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},bomjatnya_colortv={cost=10000,welcome="buy ~b~cheap apartment~s~",firsttimecheck=true,entrance={x=371.8544921875,y=-1791.1241455078,z=29.095457077026},sprite=40,zone={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211,r=50,h=5},interiorid=149505,weaponshop={x=154.81071472168,y=-1005.8638305664,z=-98.999961853027},stash={x=151.80364990234,y=-1000.7803955078,z=-98.999961853027},fasttravel={x=154.33459472656,y=-1003.2825317383,z=-98.999961853027},tv={x=151.18640136719,y=-1004.5198364258,z=-99.000007629395,angle=96.1,r=1},exit={x=151.36083984375,y=-1007.8784790039,z=-98.999984741211},personal=true,hideexterior=jB},dno_1={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=156.40596008301,y=-1065.7102050781,z=30.058218002319},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_2={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-1348.3575439453,y=-1081.7237548828,z=6.9381980895996},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_3={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-1566.5694580078,y=-404.52813720703,z=42.388149261475},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_4={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=561.39233398438,y=92.825782775879,z=96.08268737793},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_banham={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-3088.7939453125,y=392.25863647461,z=11.447541236877},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_chumash={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-3196.2893066406,y=1280.7489013672,z=12.66291809082},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},dno_paleto={cost=100000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-109.03810119629,y=6337.2534179688,z=31.576190948486},sprite=40,zone={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127,r=50,h=5},interiorid=149761,weaponshop={x=256.70932006836,y=-997.69555664063,z=-99.008567810059},clothes={x=259.81680297852,y=-1003.9661865234,z=-99.008651733398},stash={x=262.83419799805,y=-1003.0643920898,z=-99.008651733398},fasttravel={x=261.20172119141,y=-1000.5039672852,z=-98.965965270996},tv={x=257.01550292969,y=-995.70056152344,z=-99.008666992188,angle=40,r=1},personal=true,exit={x=266.01358032227,y=-1007.4214477539,z=-101.00855255127}},norm_1={cost=300000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-667.96154785156,y=-1105.8597412109,z=14.626156806946},sprite=40,zone={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949,r=50,h=5},interiorid=148225,stash={x=351.88400268555,y=-998.81890869141,z=-99.196250915527},clothes={x=351.44787597656,y=-993.58483886719,z=-99.196250915527},fasttravel={x=338.20541381836,y=-995.00994873047,z=-99.196182250977},weaponshop={x=346.16708374023,y=-1002.3190917969,z=-99.196220397949},tv={x=340.10604858398,y=-996.71,z=-99.196174621582,angle=89.79,r=6},personal=true,exit={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949}},norm_2={cost=300000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=321.11016845703,y=-1627.6629638672,z=32.534008026123},sprite=40,zone={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949,r=50,h=5},interiorid=148225,stash={x=351.88400268555,y=-998.81890869141,z=-99.196250915527},clothes={x=351.44787597656,y=-993.58483886719,z=-99.196250915527},fasttravel={x=338.20541381836,y=-995.00994873047,z=-99.196182250977},weaponshop={x=346.16708374023,y=-1002.3190917969,z=-99.196220397949},tv={x=340.10604858398,y=-996.71,z=-99.196174621582,angle=89.79,r=6},personal=true,exit={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949}},norm_3={cost=300000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-71.021949768066,y=142.28298950195,z=81.699150085449},sprite=40,zone={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949,r=50,h=5},interiorid=148225,stash={x=351.88400268555,y=-998.81890869141,z=-99.196250915527},clothes={x=351.44787597656,y=-993.58483886719,z=-99.196250915527},fasttravel={x=338.20541381836,y=-995.00994873047,z=-99.196182250977},weaponshop={x=346.16708374023,y=-1002.3190917969,z=-99.196220397949},tv={x=340.10604858398,y=-996.71,z=-99.196174621582,angle=89.79,r=6},personal=true,exit={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949}},norm_4={cost=300000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-567.39880371094,y=-442.53005981445,z=34.341484069824},sprite=40,zone={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949,r=50,h=5},interiorid=148225,stash={x=351.88400268555,y=-998.81890869141,z=-99.196250915527},clothes={x=351.44787597656,y=-993.58483886719,z=-99.196250915527},fasttravel={x=338.20541381836,y=-995.00994873047,z=-99.196182250977},weaponshop={x=346.16708374023,y=-1002.3190917969,z=-99.196220397949},tv={x=340.10604858398,y=-996.71,z=-99.196174621582,angle=89.79,r=6},personal=true,exit={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949}},norm_banham={cost=300000,welcome="buy ~b~apartment~s~",firsttimecheck=true,entrance={x=-2972.796875,y=599.11578369141,z=24.246788024902},sprite=40,zone={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949,r=50,h=5},interiorid=148225,stash={x=351.88400268555,y=-998.81890869141,z=-99.196250915527},clothes={x=351.44787597656,y=-993.58483886719,z=-99.196250915527},fasttravel={x=338.20541381836,y=-995.00994873047,z=-99.196182250977},weaponshop={x=346.16708374023,y=-1002.3190917969,z=-99.196220397949},tv={x=340.10604858398,y=-996.71,z=-99.196174621582,angle=89.79,r=6},personal=true,exit={x=346.53533935547,y=-1012.7813110352,z=-99.196220397949}}}jG.airporthangar.hideexterior=function()local ped=PlayerPedId()local cO=GetEntityCoords(ped)local d7=GetEntityVelocity(ped)local jz=jG.airporthangar.polygon;local jH,jI=(jz[1].x+jz[2].x+jz[3].x+jz[4].x)/4,(jz[1].y+jz[2].y+jz[3].y+jz[4].y)/4;local a4,a5=cO.x-jH,cO.y-jI;local dK,fE=math.sin(.698132),math.cos(.698132)local jJ,jK=a4*fE-a5*dK,a4*dK+a5*fE;local eA=false;if jJ>2.2 then eA=true;jJ=2 elseif jJ<-2.2 then eA=true;jJ=-2 end;if jK>12.2 then eA=true;jK=12 elseif jK<-12.2 then eA=true;jK=-12 end;if eA then dK=-dK;a4,a5=jJ*fE-jK*dK+jH,jJ*dK+jK*fE+jI;SetEntityCoords(ped,a4,a5,cO.z-1.0)end end;a(d.teleport)b(d.teleport,function(T,U,V,en)local ped=PlayerPedId()SetEntityCoords(ped,T,U,V)bm.propertyname=en;bm.property=jG[bm.propertyname]fv={x=T,y=U,z=V,property=bm.property,propertyname=bm.propertyname}DecorSetInt(ped,fp.interiorhash,GetHashKey(bm.propertyname))end)a(d.savenquit_load)b(d.savenquit_load,function(cO,aW,gn,iA,b4,bc,gy,bf,jL,jM,en)bm.propertyname=en;bm.property=jG[bm.propertyname]end)a(d.property_owned)b(d.property_owned,function(en)local jN=jG[en]if jN then jN.welcome=nil;jN.cost=nil end end)a(d.property_unlock)b(d.property_unlock,function(en,jO)for f,g in pairs(jO)do SendNUIMessage({weapon_shop_unlock=g,property_name=en})end end)a(d.property_stash)b(d.property_stash,function(en,jP)local jN=jG[en]if jN then jN.stash_money=jP;SendNUIMessage({stash_money_update=en,stash_money=jP})end end)RegisterNUICallback('stash_deposit',function(dP,dS)dS('ok')local jQ=tonumber(dP.deposit)c(d.property_stash,dP.property_name,jQ)end)RegisterNUICallback('shop_unlock',function(dP,dS)dS('ok')c(d.property_unlock,dP.property_name,dP.unlock)end)RegisterNUICallback('shop_buy_weapon',function(dP,dS)dS('ok')dP.cost=tonumber(dP.cost)if bm.money~=nil and bm.money>=dP.cost then bm.money=bm.money-dP.cost;gd(bm.money,dP.cost)c(d.buy,dP.cost)if dP.weapon=="bodyarmor"then SetPedArmour(PlayerPedId(),100)elseif dP.weapon=="parachute"then GiveWeaponToPed(PlayerPedId(),WEAPON.PARACHUTE,1,false,true)else if dP.count then GiveWeaponToPed(PlayerPedId(),GetHashKey("WEAPON_"..dP.weapon),dP.count,false,true)else GiveWeaponToPed(PlayerPedId(),GetHashKey("WEAPON_"..dP.weapon),GetWeaponClipSize(GetHashKey("WEAPON_"..dP.weapon))*5,false,true)end end;SimpleHelpText("Bought ~a~ for $~1~",dP.weapon,dP.cost)end end)RegisterNUICallback('shop_exit',function(dP,dS)dS('ok')jD=0;SetNuiFocus(false,false)end)RegisterNUICallback('stash_exit',function(dP,dS)dS('ok')jE=0;SetNuiFocus(false,false)end)a(d.clothes_load)b(d.clothes_load,function(aW,gn,jM,iA,jR)if fo==GetHashKey("PLAYER")then jl(aW)local ped=PlayerPedId()for u=0,11 do SetPedComponentVariation(ped,u,gn[u+1],jM[u+1],0)end;ClearAllPedProps(PlayerPedId())for u=0,3 do SetPedPropIndex(ped,u,iA[u+1],jR[u+1],true)end else SimpleNotification("You cannot load skin when in faction.")end end)local function jS(ped)return DecorExistOn(ped,fp.filming1)and DecorExistOn(ped,fp.filming2)and DecorExistOn(ped,fp.filming3)and DecorExistOn(ped,fp.filming4)and DecorExistOn(ped,fp.filming5)and DecorExistOn(ped,fp.filming6)and DecorExistOn(ped,fp.filming7)end;local jT=1;local function jU()if bm.watching_tv then return end;bm.watching_tv=true;Citizen.CreateThread(function()local bn=PlayerId()local jV;local jW;local bX=GetSyncTimer()local jX=bX;for u=0,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if jS(ped)then jV=u;jW=ped;break end end end;if jW~=nil then local cO=GetEntityCoords(jW)local jY=DecorGetFloat(jW,fp.filming1)local jZ=DecorGetFloat(jW,fp.filming2)local heading=DecorGetFloat(jW,fp.filming3)local j_=DecorGetFloat(jW,fp.filming4)local k0=DecorGetFloat(jW,fp.filming5)local k1=DecorGetFloat(jW,fp.filming6)local k2=CreateCameraWithParams("DEFAULT_SCRIPTED_CAMERA",cO.x+j_,cO.y+k0,cO.z+k1,-90.0,.0,.0,90.0,1,2)local k3,k4,k5;local k6=.0;local k7=.0;SetCamAffectsAiming(k2,false)SetFocusEntity(jW)SetCamFov(k2,DecorGetFloat(jW,fp.filming7))RenderScriptCams(true,false,1,true,true)SetCamActive(k2,true)SetCamRot(k2,jY,jZ,heading,2)while jF==1 do HideHudAndRadarThisFrame()fd=true;if IsControlJustPressed(0,174)or not IsPedAPlayer(jW)or GetEntityHealth(jW)<1 or not jS(jW)then local k8=false;for u=jV+1,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if jS(ped)then jV=u;jW=ped;k8=true;break end end end;if not k8 then for u=0,jV do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if jS(ped)then jV=u;jW=ped;k8=true;break end end end end;if k8 then SetFocusEntity(jW)SetCamFov(k2,DecorGetFloat(jW,fp.filming7))DecorSetInt(PlayerPedId(),fp.watching,GetPlayerServerId(jV))else SimpleNotification("That's all, folks!")break end elseif IsControlJustPressed(0,175)then local k8=false;for u=jV-1,0,-1 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if jS(ped)then jV=u;jW=ped;k8=true;break end end end;if not k8 then for u=31,jV+1,-1 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if jS(ped)then jV=u;jW=ped;k8=true;break end end end end;if k8 then SetFocusEntity(jW)SetCamFov(k2,DecorGetFloat(jW,fp.filming7))DecorSetInt(PlayerPedId(),fp.watching,GetPlayerServerId(jV))end else if IsControlJustPressed(0,173)then if jT==0 then jT=5 else jT=jT-1 end elseif IsControlJustPressed(0,172)then if jT==5 then jT=0 else jT=jT+1 end end;ew(0,{"Channel: ~1~\nMode: ~1~",jV,jT},0.45,255,255,255,255,0.5,0.85)if jT==0 then cO=GetEntityCoords(jW)jY=DecorGetFloat(jW,fp.filming1)jZ=DecorGetFloat(jW,fp.filming2)heading=DecorGetFloat(jW,fp.filming3)j_=DecorGetFloat(jW,fp.filming4)k0=DecorGetFloat(jW,fp.filming5)k1=DecorGetFloat(jW,fp.filming6)k3=cO.x+j_;k4=cO.y+k0;k5=cO.z+k1;local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)k6,k7=fE,dK;SetCamCoord(k2,k3,k4,k5)SetCamRot(k2,jY,jZ,heading,2)elseif jT==1 then local k9=.97;local ka=1-k9;cO=GetEntityCoords(jW)jY=jY*k9+DecorGetFloat(jW,fp.filming1)*ka;jZ=jZ*k9+DecorGetFloat(jW,fp.filming2)*ka;local kb=DecorGetFloat(jW,fp.filming3)if math.abs(kb-heading)>180 then if heading>kb then heading=heading-360 else heading=heading+360 end end;heading=heading*k9+kb*ka;j_=j_*k9+DecorGetFloat(jW,fp.filming4)*ka;k0=k0*k9+DecorGetFloat(jW,fp.filming5)*ka;k1=k1*k9+DecorGetFloat(jW,fp.filming6)*ka;k3=cO.x+j_;k4=cO.y+k0;k5=cO.z+k1;local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)k6,k7=fE,dK;SetCamCoord(k2,k3,k4,k5)SetCamRot(k2,jY,jZ,heading,2)elseif jT==2 then cO=GetEntityCoords(jW)heading=GetEntityHeading(jW)jY=DecorGetFloat(jW,fp.filming1)SetCamRot(k2,jY,.0,heading,2)local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)k6,k7=fE,dK;local T,U=fE*.2-dK*.3,dK*.2+fE*.3;k3=cO.x+T;k4=cO.y+U;k5=cO.z+.7;SetCamCoord(k2,k3,k4,k5)elseif jT==3 then local k9=.97;local ka=1-k9;cO=GetEntityCoords(jW)heading=GetEntityHeading(jW)jY=jY*k9+DecorGetFloat(jW,fp.filming1)*ka;SetCamRot(k2,jY,.0,heading,2)local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)k6,k7=fE,dK;local T,U=fE*.2-dK*.3,dK*.2+fE*.3;k3=cO.x+T;k4=cO.y+U;k5=cO.z+.7;SetCamCoord(k2,k3,k4,k5)elseif jT==4 then heading=GetEntityHeading(jW)local kc=GetPedBoneCoords(jW,31086,0,0,0)local kd=GetPedBoneCoords(jW,31086,0,.3,0)local a4,a5,d5=kd.x-kc.x,kd.y-kc.y,kd.z-kc.z;jY=math.atan(d5,math.sqrt(a4*a4+a5*a5))*180.0/math.pi;SetCamRot(k2,jY,.0,heading,2)local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)k6,k7=fE,dK;local T,U=fE*.2-dK*.3,dK*.2+fE*.3;cO=GetEntityCoords(jW)k3=cO.x+T;k4=cO.y+U;k5=cO.z+.7;SetCamCoord(k2,k3,k4,k5)elseif jT==5 then local kc=GetPedBoneCoords(jW,31086,.3,0,0)local kd=GetPedBoneCoords(jW,31086,.3,.3,0)local a4,a5,d5=kd.x-kc.x,kd.y-kc.y,kd.z-kc.z;jY=math.atan(d5,math.sqrt(a4*a4+a5*a5))*180.0/math.pi;heading=math.atan(-a4,a5)*180.0/math.pi;k3,k4,k5=kd.x,kd.y,kd.z;k6,k7=a4*3.334,a5*3.334;SetCamCoord(k2,k3,k4,k5)SetCamRot(k2,jY,.0,heading,2)end;bX=GetSyncTimer()if bX>jX+10000 then local ke=false;local c_,d0,d1=k3+k6*100,k4+k6*100,k5;local d2,d3,d4=c_+100,d0+100,d1+100;c_,d0,d1=c_-100,d0-100,d1-100;ke=IsAnyPedShootingInArea(c_,d0,d1,d2,d3,d4,true,true)or IsExplosionInAngledArea(-1,c_,d0,d1,d2,d3,d4,heading)if ke then jX=bX;c(d.debug,9323,GetPlayerServerId(jV))end end;if false then cO=GetEntityCoords(jW)heading=GetEntityHeading(jW)jY=DecorGetFloat(jW,fp.filming1)local kc=GetPedBoneCoords(jW,31086,.3,0,0)local kd=GetPedBoneCoords(jW,31086,.3,.3,0)local a4,a5,d5=kd.x-kc.x,kd.y-kc.y,kd.z-kc.z;ew(0,tostring(jY),0.45,255,255,255,255,0.2,0.9)jY=math.atan(d5,math.sqrt(a4*a4+a5*a5))*180.0/math.pi;SetCamRot(k2,jY,.0,heading,2)ew(0,tostring(jY),0.45,255,255,255,255,0.2,0.85)ew(0,a4 .."\n"..a5 .." \n"..d5,0.45,255,255,255,255,0.5,0.85)ew(0,kc.x-cO.x.."\n"..kc.y-cO.y.." \n"..kc.z-cO.z,0.45,255,255,255,255,0.8,0.85)ew(0,tostring(jY).."\n"..tostring(jZ).."\n"..tostring(heading),0.45,255,255,255,255,0.2,0.55)local fE=heading*math.pi/180.0;local dK=math.sin(fE)fE=math.cos(fE)local T,U=fE*.2-dK*.3,dK*.2+fE*.3;SetCamCoord(k2,kd.x,kd.y,kd.z)end end;Wait(0)end;RenderScriptCams(false,false,0,1,0)DestroyCam(k2,false)k2=nil;local a9=PlayerPedId()SetFocusEntity(a9)DecorRemove(a9,fp.watching)else SimpleNotification("Nothing interesting on TV, maybe you should become a reporter?")end;jF=0;bm.watching_tv=nil end)end;Citizen.CreateThread(function()local kf;local kg;local kh;local ki;local kj;local kk;local kl;local km;local function kn(ko,ped)if ko.interiorid~=nil then if GetInteriorFromEntity(ped)~=ko.interiorid then return false elseif ko.room==nil then return GetRoomKeyFromEntity(ped)~=0 else return ko.room==GetRoomKeyFromEntity(ped)end elseif ko.polygon~=nil then local cO=GetEntityCoords(ped)return cO.z>ko.minz and cO.z<ko.maxz and jy(cO.x,cO.y,ko.polygon)else return true end end;local function kp()DisableControlAction(0,24,false)DisableControlAction(0,47,false)DisableControlAction(0,58,false)DisableControlAction(0,263,false)DisableControlAction(0,264,false)DisableControlAction(0,257,false)DisableControlAction(0,140,false)DisableControlAction(0,141,false)DisableControlAction(0,142,false)DisableControlAction(0,143,false)local g1=PlayerId()DisablePlayerFiring(g1,true)SetDisableAmbientMeleeMove(g1,true)end;while true do Wait(0)km=PlayerPedId()cO=GetEntityCoords(km)bm.in_apartment=false;local g=bm.property;if g~=nil and kn(g,km)then if g.firsttimecheck then c(d.property_check,bm.propertyname)g.firsttimecheck=nil end;if g.hideexterior then g.hideexterior()end;if math.abs(cO.x-g.exit.x)+math.abs(cO.y-g.exit.y)+math.abs(cO.z-g.exit.z)<1 and IsControlJustPressed(0,86)then bm.property=nil;bm.propertyname=nil;DecorRemove(km,fp.interiorhash)SetEntityCoords(km,g.entrance.x,g.entrance.y,g.entrance.z)Wait(0)else bm.in_apartment=true;if bm.propertyname~=nil and not DecorExistOn(km,fp.interiorhash)then DecorSetInt(km,fp.interiorhash,GetHashKey(bm.propertyname))end;if g.fasttravel~=nil then if kj==nil then kj=AddBlipForCoord(g.fasttravel.x,g.fasttravel.y,g.fasttravel.z)SetBlipAsShortRange(kj,true)SetBlipSprite(kj,67)SetBlipColour(kj,4)end;if math.abs(cO.x-g.fasttravel.x)+math.abs(cO.y-g.fasttravel.y)+math.abs(cO.z-g.fasttravel.z)<1.5 then if IsControlJustPressed(0,86)then bm.showbusmenu=true end else bm.showbusmenu=false end end;if g.heal~=nil then if ki==nil then ki=AddBlipForCoord(g.heal.x,g.heal.y,g.heal.z)SetBlipAsShortRange(ki,true)SetBlipSprite(ki,153)SetBlipColour(ki,4)end;if math.abs(cO.x-g.heal.x)+math.abs(cO.y-g.heal.y)+math.abs(cO.z-g.heal.z)<1 then if IsControlJustPressed(0,86)then km=PlayerPedId()local ji=GetPedMaxHealth(km)if GetEntityHealth(km)<ji then SetEntityHealth(km,ji)end end end end;if g.clothes~=nil then if kh==nil then kh=AddBlipForCoord(g.clothes.x,g.clothes.y,g.clothes.z)SetBlipAsShortRange(kh,true)SetBlipSprite(kh,73)SetBlipColour(kh,4)end;if math.abs(cO.x-g.clothes.x)+math.abs(cO.y-g.clothes.y)+math.abs(cO.z-g.clothes.z)<3 then SimpleHelpText("~INPUT_VEH_HORN~ Load clothes\n~INPUT_RELOAD~ Save clothes\n~INPUT_SPECIAL_ABILITY_SECONDARY~ Random")if IsControlJustPressed(0,29)then if fo==GetHashKey("PLAYER")then km=PlayerPedId()SetPedRandomComponentVariation(km,false)if math.random(0,1)==1 then ClearAllPedProps(PlayerPedId())else SetPedRandomProps(PlayerPedId())end else SimpleNotification("You cannot change faction clothes.")end elseif IsControlJustPressed(0,86)then if fo==GetHashKey("PLAYER")then c(d.clothes_load)else SimpleNotification("You cannot load clothes when in faction.")end elseif IsControlJustPressed(0,45)then km=PlayerPedId()local aW=GetEntityModel(km)local gn={}local jM={}local iA={}local jR={}local kq=false;local kr={fA.binco,fA.suburban,fA.ponsonbys}for u,ks in pairs(kr)do for jA,kt in pairs(ks)do if kt==aW then kq=true;goto ku end end end::ku::if kq then for u=0,11 do gn[u+1]=GetPedDrawableVariation(km,u)jM[u+1]=GetPedTextureVariation(km,u)end;local iA={}for u=0,3 do iA[u+1]=GetPedPropIndex(km,u)jR[u+1]=GetPedPropTextureIndex(km,u)end;c(d.clothes_save,aW,gn,jM,iA,jR)else SimpleNotification("You cannot save faction skins.")end end end end;if g.weaponshop~=nil and not bm.civilian and not bm.is_cop then if kg==nil then kg=AddBlipForCoord(g.weaponshop.x,g.weaponshop.y,g.weaponshop.z)SetBlipAsShortRange(kg,true)SetBlipSprite(kg,110)SetBlipColour(kg,4)end;if math.abs(cO.x-g.weaponshop.x)+math.abs(cO.y-g.weaponshop.y)+math.abs(cO.z-g.weaponshop.z)<3 then if jD==0 and IsControlPressed(0,86)then SendNUIMessage({enable_weapon_shop=bm.propertyname})SetNuiFocus(true,true)jD=1 end elseif jD==1 then SendNUIMessage({disable_weapon_shop=bm.propertyname})SetNuiFocus(false,false)jD=0 end end;if g.stash~=nil then if kk==nil then kk=AddBlipForCoord(g.stash.x,g.stash.y,g.stash.z)SetBlipAsShortRange(kk,true)SetBlipSprite(kk,434)SetBlipColour(kk,4)end;if math.abs(cO.x-g.stash.x)+math.abs(cO.y-g.stash.y)+math.abs(cO.z-g.stash.z)<1 then if jE==0 and IsControlPressed(0,86)then SendNUIMessage({enable_stash=bm.propertyname})SetNuiFocus(true,true)jE=1 end elseif jE==1 then SendNUIMessage({disable_stash=bm.propertyname})SetNuiFocus(false,false)jE=0 end end;if g.tv~=nil then if kl==nil then kl=AddBlipForCoord(g.tv.x,g.tv.y,g.tv.z)SetBlipAsShortRange(kl,true)SetBlipSprite(kl,135)SetBlipColour(kl,4)end;if math.abs(cO.x-g.tv.x)+math.abs(cO.y-g.tv.y)+math.abs(cO.z-g.tv.z)<g.tv.r then if IsControlJustPressed(0,86)then if jF==0 then jF=1;jU()else jF=0 end end elseif jF==1 then jF=0 end end;if kf==nil then kf=AddBlipForCoord(g.exit.x,g.exit.y,g.exit.z)SetBlipAsShortRange(kf,true)SetBlipSprite(kf,14)SetBlipColour(kf,4)end;km=PlayerPedId()kp()for u=0,31 do local kv=GetPlayerPed(u)if kv~=0 and kv~=km then local cO=GetEntityCoords(kv)if g.personal and kn(g,kv)and(not DecorExistOn(km,fp.interiorhash)or not DecorExistOn(kv,fp.interiorhash)or not DecorExistOn(km,fp.partynumber)or not DecorExistOn(kv,fp.partynumber)or DecorGetInt(km,fp.interiorhash)~=DecorGetInt(kv,fp.interiorhash)or DecorGetInt(km,fp.partynumber)&0xFFFFF~=DecorGetInt(kv,fp.partynumber)&0xFFFFF)then SetPlayerInvisibleLocally(u,true)SetEntityCollision(kv,false,false)else SetPlayerVisibleLocally(u,true)SetEntityCollision(kv,true,true)end end end end else km=PlayerPedId()for kw,g in pairs(jG)do if kn(g,km)then kp()for u=0,31 do local kv=GetPlayerPed(u)if kv~=0 and kv~=km then local cO=GetEntityCoords(kv)if g.personal and kn(g,kv)then SetPlayerInvisibleLocally(u,true)SetEntityCollision(kv,false,false)else SetPlayerVisibleLocally(u,true)SetEntityCollision(kv,true,true)end end end;bm.in_apartment=true;break end end end;if bm.in_apartment then for kw,g in pairs(jG)do if g.entranceblip~=nil then SetBlipDisplay(g.entranceblip,0)end end else km=PlayerPedId()if DecorExistOn(km,fp.interiorhash)then DecorRemove(km,fp.interiorhash)end;for u=0,31 do local kv=GetPlayerPed(u)if kv~=0 and kv~=km then SetPlayerVisibleLocally(u,true)SetEntityCollision(kv,true,true)end end;if jD==1 then for f,g in pairs(jG)do SendNUIMessage({disable_weapon_shop=f})end;SetNuiFocus(false,false)jD=0 end;if jE==1 then for f,g in pairs(jG)do SendNUIMessage({disable_stash=f})end;SetNuiFocus(false,false)jE=0 end;if jF==1 then jF=0 end;if kf then RemoveBlip(kf)kf=nil end;if kg then RemoveBlip(kg)kg=nil end;if kh then RemoveBlip(kh)kh=nil end;if kj then RemoveBlip(kj)kj=nil end;if ki then RemoveBlip(ki)ki=nil end;if kk then RemoveBlip(kk)kk=nil end;if kl then RemoveBlip(kl)kl=nil end;for kw,g in pairs(jG)do if g.entranceblip==nil then g.entranceblip=AddBlipForCoord(g.entrance.x,g.entrance.y,g.entrance.z)SetBlipAsShortRange(g.entranceblip,true)SetBlipSprite(g.entranceblip,g.sprite)end;SetBlipDisplay(g.entranceblip,8)if math.abs(cO.x-g.entrance.x)+math.abs(cO.y-g.entrance.y)+math.abs(cO.z-g.entrance.z)<2 then if g.factions_allowed==nil or g.factions_allowed[fo]then if g.cost~=nil then if g.firsttimecheck then c(d.property_check,kw)g.firsttimecheck=nil end;SimpleHelpText("Press ~INPUT_VEH_HORN~ to ~a~.\nYou need to pay ~b~$~1~",g.welcome,g.cost)if IsControlJustPressed(0,86)then c(d.property_enter,kw)end else SetBlipColour(g.entranceblip,69)SimpleHelpText("Press ~INPUT_VEH_HORN~ to enter.")if IsControlJustPressed(0,86)then if bm.wanted>4 then SimpleNotification("You can't use this with ~1~ stars.",bm.wanted)else kp()if IsPedArmed(km,3)then SetCurrentPedWeapon(km,WEAPON.UNARMED,true)Wait(0)kp()end;SetEntityCoords(km,g.exit.x,g.exit.y,g.exit.z)bm.propertyname=kw;bm.property=g;fv={x=g.exit.x,y=g.exit.y,z=g.exit.z,property=g,propertyname=kw}DecorSetInt(km,fp.interiorhash,GetHashKey(kw))end end end else SimpleHelpText("Your faction can't join hotel.")end end end end end end)j5.criminal.clothes={{x=144.58369445801,y=-2204.07421875,z=4.6880211830139,name="Change clothes",color=3,sprite=366},{x=-927.54608154297,y=-2938.8908691406,z=13.927205085754,name="Change clothes",color=3,sprite=366},{x=10.085947036743,y=527.34838867188,z=170.63502502441,name="Change clothes",color=3,sprite=366},{x=-1184.7131347656,y=-1553.4174804688,z=5.0339651107788,name="Change clothes",color=3,sprite=366},{x=-811.86138916016,y=175.1138458252,z=76.74536895752,name="Change clothes",color=3,sprite=366},{x=1271.9737548828,y=-1715.3668212891,z=54.818557739258,name="Change clothes",color=3,sprite=366},{x=-108.79178619385,y=-9.4566087722778,z=70.519645690918,name="Change clothes",color=3,sprite=366},{x=1969.1474609375,y=3814.9558105469,z=33.428737640381,name="Change clothes",color=3,sprite=366},{x=74.944374084473,y=-1970.9249267578,z=20.76586151123,name="Change clothes",color=3,sprite=366},{x=938.88885498047,y=-1877.0637207031,z=32.473220825195,name="Change clothes",color=3,sprite=366},{x=1214.3400878906,y=-1643.9964599609,z=48.64599609375,name="Change clothes",color=3,sprite=366},{x=-766.28356933594,y=-917.10601806641,z=21.279684066772,name="Change clothes",color=3,sprite=366},{x=153.57015991211,y=306.04556274414,z=112.13385009766,name="Change clothes",color=3,sprite=366}}j5.detectivesheavy.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=3,components={[8]=1},name="Change clothes"}}j5.detectives.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=3,name="Change clothes"}}j5.security.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=3,name="Change clothes"}}j5.nysp.clothes={{x=983.78833007813,y=2718.9304199219,z=39.503421783447,sprite=366,color=56,name="Change clothes"}}j5.lspdheavy.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=3,components={[9]=2},name="Change clothes"}}j5.borderpatrol.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=40,name="Change clothes"}}j5.lspd.clothes={{x=459.09851074219,y=-992.99127197266,z=30.689598083496,sprite=366,color=3,components={[9]=0},name="Change clothes"}}j5.sspdheavy.clothes={{x=1856.8500976563,y=3689.6157226563,z=34.267066955566,sprite=366,color=39,components={[9]=2},name="Change clothes"}}j5.sahpheavy.clothes={{x=-449.91986083984,y=6016.140625,z=31.716375350952,sprite=366,color=39,components={[8]=1},name="Change clothes"}}j5.fbiswat.clothes={}j5.fbi.clothes={{x=149.44277954102,y=-759.59631347656,z=242.1519317627,sprite=366,color=3,name="Change clothes"}}j5.lost.clothes={{x=971.94183349609,y=-98.397148132324,z=74.846138000488,sprite=366,color=62,name="Change clothes"}}j5.merc.clothes={{x=503.78283691406,y=-3121.8564453125,z=6.0697917938232,sprite=366,color=65,name="Change clothes"}}j5.anarchy.clothes={}j5.cartel.clothes={{x=1394.7595214844,y=1141.8107910156,z=114.61865997314,sprite=366,color=47,name="Change clothes"}}j5.pirates.clothes={{x=1300.7239990234,y=4318.9013671875,z=38.159538269043,sprite=366,color=62,name="Change clothes"}}j5.elite.clothes={{x=-62.156860351563,y=358.76058959961,z=142.61323547363,sprite=366,color=4,name="Change clothes"}}local kx=j5.criminal.clothes;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.clothes)i_(j5.fbi.clothes)i_(j5.fbiswat.clothes)i_(j5.detectivesheavy.clothes)i_(j5.sspdheavy.clothes)i_(j5.sahpheavy.clothes)i_(j5.lspdheavy.clothes)i_(j5.lspd.clothes)i_(j5.detectives.clothes)i_(j5.security.clothes)i_(j5.nysp.clothes)i_(j5.lost.clothes)i_(j5.merc.clothes)i_(j5.anarchy.clothes)i_(j5.cartel.clothes)i_(j5.pirates.clothes)i_(j5.elite.clothes)j2(j5.fbi.clothes)j2(j5.fbiswat.clothes)j2(j5.lspd.clothes)j2(j5.detectives.clothes)j2(j5.security.clothes)j2(j5.nysp.clothes)j2(j5.detectivesheavy.clothes)j2(j5.sspdheavy.clothes)j2(j5.sahpheavy.clothes)j2(j5.lspdheavy.clothes)j2(j5.lost.clothes)j2(j5.merc.clothes)j2(j5.anarchy.clothes)j2(j5.cartel.clothes)j2(j5.pirates.clothes)j2(j5.elite.clothes)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(kx)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,255,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if IsControlPressed(0,86)then if jx()then jw()end;local ped=PlayerPedId()SetPedRandomComponentVariation(ped,false)gm(ped,g.components)if math.random(0,1)==1 then ClearAllPedProps(ped)else SetPedRandomProps(ped)end;if GetPlayerWantedLevel(PlayerId())<3 then SetPlayerWantedLevel(PlayerId(),0,false)SimpleNotification("You have changed your clothes and cops now ~b~doesn't recognize ~s~you.")else SimpleNotification("You have too ~r~high wanted level~s~, you can't change your close to lose cops.")end;Wait(100)else SimpleHelpText("Press ~INPUT_VEH_HORN~ to change clothes.")end end end end end end)j5.news.skinshops={{x=-598.73706054688,y=-931.91882324219,z=23.864175796509,sprite=73,color=3,name="Change model",models={-322270187,815693290}},{x=-598.728515625,y=-927.89794921875,z=23.862899780273,sprite=73,color=3,name="Change model",models={1055701597,-1717894970,776079908}}}j5.paramedics.skinshops={{x=307.17813110352,y=-1434.0729980469,z=29.871404647827,angle=38.052940368652,sprite=73,color=8,name="Change model",models=fB.MEDICS}}j5.lspd.skinshops={{x=456.53814697266,y=-988.49017333984,z=30.689596176147,sprite=73,color=3,components={[9]=0},name="Change model",models=fB.LSPD}}j5.sspd.skinshops={{x=1856.8500976563,y=3689.6157226563,z=34.267066955566,sprite=73,color=5,name="Change model",models=fB.SSPD}}j5.sahp.skinshops={{x=-449.91986083984,y=6016.140625,z=31.716375350952,sprite=73,color=39,name="Change model",models=fB.SAHP}}j5.sapr.skinshops={{x=387.04901123047,y=792.2607421875,z=187.69357299805,sprite=73,color=2,name="Change model",models=fB.SAPR}}j5.noose.skinshops={{x=2484.6193847656,y=-417.43368530273,z=93.736221313477,sprite=73,color=29,name="Change model",models=fB.NOOSE,components={[10]={0,0}}}}j5.navy.skinshops={{x=-2357.6635742188,y=3256.2666015625,z=32.81071472168,sprite=73,color=26,name="Change model",models=fB.NAVY}}j5.military.skinshops={{x=-2357.6635742188,y=3256.2666015625,z=32.81071472168,sprite=73,color=52,name="Change model",models=fB.MILITARY}}j5.fbiswat.skinshops={{x=153.76205444336,y=-740.39874267578,z=242.15205383301,sprite=73,color=3,name="Change model",models={2072724299}},{x=154.56106567383,y=-746.95574951172,z=242.15199279785,sprite=73,color=3,name="Change model",models={-1145735340}}}j5.fbi.skinshops={{x=154.56106567383,y=-746.95574951172,z=242.15199279785,sprite=73,color=3,name="Change model",models=fB.FBI}}j5.ballas.skinshops={{x=114.19812011719,y=-1960.9425048828,z=21.33332824707,sprite=73,color=83,name="Change model",models=fB.BALLAS}}j5.fams.skinshops={{x=-18.120601654053,y=-1440.4772949219,z=31.101551055908,sprite=73,color=69,name="Change model",models=fB.FAMILIES}}j5.vagos.skinshops={{x=981.54644775391,y=-1805.7006835938,z=35.484573364258,sprite=73,color=46,name="Change model",models=fB.VAGOS}}j5.salva.skinshops={{x=1245.11328125,y=-1626.4176025391,z=53.282234191895,sprite=73,color=18,name="Change model",models=fB.SALVA}}j5.triads.skinshops={{x=-766.77612304688,y=-912.81481933594,z=17.918348312378,sprite=73,color=49,name="Change model",models=fB.TRIADS}}j5.mobs.skinshops={{x=-469.61822509766,y=-1721.7288818359,z=18.686618804932,sprite=73,color=39,name="Change model",models=fB.MOBS}}j5.cartel.skinshops={{x=1389.1291503906,y=1162.4028320313,z=114.33446502686,sprite=73,color=47,name="Change model",models=fB.CARTEL}}j5.pirates.skinshops={}j5.lost.skinshops={{x=984.43591308594,y=-100.4217376709,z=74.84546661377,sprite=73,color=62,name="Change model",models=fB.LOST}}j5.merc.skinshops={}j5.anarchy.skinshops={{x=704.94195556641,y=-962.00787353516,z=30.395341873169,sprite=366,color=25,models={GetHashKey("g_m_y_anar_02")},name="Change model"},{x=707.0517578125,y=-959.69982910156,z=30.395343780518,sprite=366,color=25,models={1330042375},components={[3]=1,[10]=0},name="Change model"},{x=708.81225585938,y=-958.91387939453,z=30.395343780518,sprite=366,color=25,models={-1105135100},name="Change model"}}j5.heisters.skinshops={}j5.elite.skinshops={}j5.criminal.skinshops={{x=429.72470092773,y=-811.67272949219,z=29.491130828857,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=71.19051361084,y=-1387.8325195313,z=29.376081466675,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=-819.857421875,y=-1067.2944335938,z=11.328095436096,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=1698.7023925781,y=4818.2124023438,z=42.063045501709,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=1201.8514404297,y=2714.4287109375,z=38.222587585449,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=-1100.4555664063,y=2717.1372070313,z=19.107824325562,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=3.9640874862671,y=6506.0302734375,z=31.877756118774,sprite=73,color=2,name="Binco shop",models=fA.binco},{x=-1182.7510986328,y=-765.20721435547,z=17.32607460022,sprite=73,color=3,name="Suburban shop",models=fA.suburban},{x=118.49465942383,y=-232.14370727539,z=54.557838439941,sprite=73,color=3,name="Suburban shop",models=fA.suburban},{x=-3178.4963378906,y=1035.8153076172,z=20.863212585449,sprite=73,color=3,name="Suburban shop",models=fA.suburban},{x=617.63836669922,y=2773.8435058594,z=42.088096618652,sprite=73,color=3,name="Suburban shop",models=fA.suburban},{x=-703.07897949219,y=-151.62242126465,z=37.415138244629,sprite=73,color=4,name="Ponsonbys shop",models=fA.ponsonbys},{x=-1446.6083984375,y=-243.80381774902,z=49.82426071167,sprite=73,color=4,name="Ponsonbys shop",models=fA.ponsonbys},{x=-169.77130126953,y=-298.50189208984,z=39.73331451416,sprite=73,color=4,name="Ponsonbys shop",models=fA.ponsonbys},{x=-277.68383789063,y=-936.60827636719,z=92.510887145996,sprite=73,color=4,name="Suits",models=fA.ponsonbys},{x=1596.9545898438,y=-1659.9593505859,z=88.109260559082,sprite=73,color=24,name="Racing clothes",models={1794381917,-12678997,1694362237,2007797722}},{x=105.31523132324,y=-1303.1232910156,z=28.768798828125,name="secret",models={GetHashKey("s_f_y_hooker_01"),GetHashKey("s_f_y_hooker_02"),GetHashKey("s_f_y_hooker_03"),GetHashKey("a_f_y_topless_01"),1381498905,1846523796,1544875514,1446741360,GetHashKey("a_f_y_genhot_01"),GetHashKey("a_f_y_hiker_01")}},{x=-15.803159713745,y=-1241.2241210938,z=29.510906219482,name="secret",models={1191548746,1787764635,1224306523,516505552,390939205,-1935621530,1404403376}},{x=895.27648925781,y=-179.37484741211,z=74.700248718262,name="secret",models={-2039163396}},{x=882.52136230469,y=-160.11154174805,z=77.11026763916,name="secret",models={-2039163396}},{x=512.94775390625,y=4833.0244140625,z=-66.186637878418,name="secret",models={-265970301,-933295480}},{x=-321.84967041016,y=-1545.7795410156,z=31.019914627075,sprite=73,color=39,name="Garbage man",models={-294281201}}}local ky=j5.criminal.skinshops;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.skinshops)i_(j5.paramedics.skinshops)i_(j5.lspd.skinshops)i_(j5.sspd.skinshops)i_(j5.sahp.skinshops)i_(j5.sapr.skinshops)i_(j5.noose.skinshops)i_(j5.military.skinshops)i_(j5.navy.skinshops)i_(j5.fbi.skinshops)i_(j5.fbiswat.skinshops)i_(j5.lost.skinshops)i_(j5.merc.skinshops)i_(j5.anarchy.skinshops)i_(j5.elite.skinshops)i_(j5.ballas.skinshops)i_(j5.fams.skinshops)i_(j5.vagos.skinshops)i_(j5.salva.skinshops)i_(j5.triads.skinshops)i_(j5.heisters.skinshops)i_(j5.mobs.skinshops)i_(j5.cartel.skinshops)i_(j5.pirates.skinshops)j2(j5.paramedics.skinshops)j2(j5.fbi.skinshops)j2(j5.fbiswat.skinshops)j2(j5.lspd.skinshops)j2(j5.sspd.skinshops)j2(j5.sahp.skinshops)j2(j5.sapr.skinshops)j2(j5.noose.skinshops)j2(j5.military.skinshops)j2(j5.navy.skinshops)j2(j5.lost.skinshops)j2(j5.merc.skinshops)j2(j5.anarchy.skinshops)j2(j5.elite.skinshops)j2(j5.ballas.skinshops)j2(j5.fams.skinshops)j2(j5.vagos.skinshops)j2(j5.salva.skinshops)j2(j5.triads.skinshops)j2(j5.heisters.skinshops)j2(j5.mobs.skinshops)j2(j5.cartel.skinshops)j2(j5.pirates.skinshops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(ky)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,255,128,false,true,2,false,false,false,false)if iK<2 and not bm.is_dead then if IsControlPressed(0,86)then local aW=g.models[math.random(#g.models)]jl(aW)gm(PlayerPedId(),g.components)if GetPlayerWantedLevel(PlayerId())<3 then SetPlayerWantedLevel(PlayerId(),0,false)SimpleNotification("You have changed your clothes and cops now ~b~doesn't recognize ~s~you.")else SimpleNotification("You have too ~r~high wanted level~s~, you can't change your close to lose cops.")end;Wait(200)else SimpleHelpText("Press ~INPUT_VEH_HORN~ to change skin.")end end end end end end)j5.criminal.mercenaries={}j5.fbi.mercenaries={}j5.lost.mercenaries={}j5.merc.mercenaries={}j5.cartel.mercenaries={}j5.elite.mercenaries={}local kz=j5.criminal.mercenaries;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.mercenaries)i_(j5.fbi.mercenaries)i_(j5.lost.mercenaries)i_(j5.merc.mercenaries)i_(j5.cartel.mercenaries)i_(j5.elite.mercenaries)j2(j5.fbi.mercenaries)j2(j5.lost.mercenaries)j2(j5.merc.mercenaries)j2(j5.cartel.mercenaries)j2(j5.elite.mercenaries)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(kz)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,255,128,128,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if bm.money>=g.cost then local gz=GetPlayerGroup(PlayerId())local ped,kA=GetGroupSize(gz)if kA<7 then if g.weapons~=nil then ped=gu(g.skins[math.random(#g.skins)],g.x,g.y,g.z,g.weapons[math.random(#g.weapons)],fu)else ped=gu(g.skins[math.random(#g.skins)],g.x,g.y,g.z,nil,fu)end;SetPedAsGroupMember(ped,gz)SetPedCanRagdoll(ped,false)SetPedRelationshipGroupHash(ped,fo)if g.armor~=nil then SetPedArmour(ped,g.armor)end;if g.health~=nil then SetPedMaxHealth(ped,g.health)SetEntityHealth(ped,g.health)end;bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)kA=kA+1;SetBlipColour(g.blip,20)Wait(500)SetNotificationTextEntry("STRING")AddTextComponentString("New member joined your group.")SetNotificationMessage("CHAR_BLANK_ENTRY","CHAR_BLANK_ENTRY",false,3,"Group "..gz,kA.."/7")DrawNotification(false,false)hk(4500,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())else SetNotificationTextEntry("STRING")AddTextComponentString("You can't have more guys in your group.")SetNotificationMessage("CHAR_BLOCKED","CHAR_BLOCKED",false,8,g.name,"Sorry.")DrawNotification(false,false)Wait(10)end else SimpleNotification("You don't have enough money.")Wait(10)end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to hire.",g.name,g.cost)Wait(10)end end end end end end)local kB={DETECTIVESHEAVY={-1973172295},DETECTIVES={-1973172295},SECURITY={1682114128},NYSP={-1536924937,-1779120616},REPORTERS={744705981,1162065741},COASTGUARD={-488123221,1043222410,469291905},LSFD={1938952078,353883353,-1693015116},MEDICS={1171614426,353883353},FBISWAT={1949211328,1127131465,-1647941228,837858166,1209364519},LSPDHEAVY={2046537925,1912215274,-34623805,456714581,456714581,353883353,-1693015116,-1973172295},LSPD={2046537925,1912215274,-34623805,456714581,-1693015116,-1973172295},NAVY={321739290,-823509173,-1281684762,782665360,970385471,-50547061,-42959138,276773164,74062924,1210229692,GetHashKey("strikeforce"),GetHashKey("avenger")},MILITARY={321739290,-823509173,1210229692},NOOSE={-1205689942,745926877,353883353,2071877360,-1693015116},BORDERPATROL={GetHashKey("ngranger")},SAPR={741586030,-2128233223},SSPDHEAVY={1922257928,-1683328900,-34623805},SSPD={1922257928,-1683328900,-34623805},SAHPHEAVY={-34623805,-1627000575,-114291515,1034187331},SAHP={-34623805,-1627000575,-114291515,1034187331}}j5.criminal.carshops={{x=887.78521728516,y=-182.7448425293,z=73.222465515137,angle=237.60655212402,sprite=198,color=46,name="Taxicab",cost=200,rent=true,cars={-956048545}},{x=2964.9196777344,y=2747.6323242188,z=43.310658111572,name="Armored weaponized truck",color=1,sprite=229,cars={2434067162},cost=87500},{x=1463.7440185547,y=1128.9432373047,z=114.33376373291,name="Weaponized truck",color=2,sprite=229,cars={2198148358},cost=7000},{x=486.37924194336,y=-2159.6452636719,z=5.9258829498291,name="Armored car",color=1,sprite=380,cars={3406724313,1922255844,470404958,666166960,3862958888,-604842630,704435172},cost=15500},{x=33.801235198975,y=-2671.1713867188,z=6.0175901794434,name="Armored truck",color=2,sprite=67,cars={1747439474,3089277354},cost=25000},{x=21.298585891724,y=-210.41683959961,z=52.857303619385,name="Offroad minivan",color=2,sprite=326,cars={1475773103},cost=8500},{x=-1798.862,y=2958.326,z=32.987,name="Besra",color=2,sprite=424,cars={1824333165},cost=10000},{x=-944.155,y=-2975.342,z=13.954,name="Velum",color=2,sprite=251,cars={-1673356438,1077420264},cost=10000},{x=-932.973,y=-2981.526,z=13.954,name="Vestra",color=2,sprite=423,cars={1341619767},cost=10000},{x=-947.736,y=-3035.898,z=13.954,name="Mammatus",color=2,sprite=251,cars={-1746576111},cost=10000},{x=-955.232,y=-3031.343,z=13.954,name="Shamal",color=2,sprite=423,cars={-1214505995,621481054,-1214293858},cost=10000},{x=-970.393,y=-3022.119,z=13.954,name="Miljet",color=2,sprite=423,cars={165154707},cost=10000},{x=-931.253,y=-3003.082,z=13.954,name="Cuban",color=2,sprite=251,cars={-644710429},cost=5000},{x=-961.615,y=-2966.009,z=13.954,name="Duster",color=2,sprite=251,cars={970356638},cost=5000},{x=-916.020,y=-3012.285,z=13.954,name="Dodo",color=2,sprite=251,cars={-901163259},cost=7500},{x=-941.129,y=-2997.301,z=13.954,name="Nimbus",color=2,sprite=423,cars={-1295027632},cost=10000},{x=-852.734,y=-3322.492,z=13.954,name="Andromada",color=2,sprite=423,cars={368211810},cost=10000},{x=-977.706,y=-2999.949,z=13.954,name="Titan",color=2,sprite=423,cars={1981688531},cost=10000},{x=-1043.383,y=-3484.475,z=13.954,name="Jet",color=2,sprite=423,cars={1058115860},cost=10000},{x=-3335.1613769531,y=948.35125732422,z=.5,angle=106.388,name="Yacht",sprite=410,cars={-1043459709},cost=2000},{x=-1514.7365722656,y=-1441.3170166016,z=.5,name="Dinghy",cost=1000,sprite=404,cars={1033245328,276773164,509498602,867467158}},{x=-1510.7969970703,y=-1423.6053466797,z=.5,name="Suntrap",cost=1000,sprite=404,cars={-282946103}},{x=-1802.4645996094,y=-1236.2015380859,z=.5,angle=226,name="Seashark",cost=1000,sprite=471,cars={-1030275036,-616331036,-311022263}},{x=-1784.6004638672,y=-1229.9450683594,z=.5,name="Boat",cost=1000,sprite=404,cars={861409633,231083307,437538602,400514754,1070967343,908897389,290013743,1448677353}},{x=-81.586608886719,y=-2753.0405273438,z=.5,angle=181.54084777832,name="Tug",cost=1000,sprite=455,cars={-2100640717}},{x=580.20471191406,y=-3254.029296875,z=.5,angle=177.01123046875,name="Rent submarine",cost=500,sprite=308,cars={771711535,-1066334226},rent=true},{x=836.14477539063,y=-3192.9958496094,z=14.891183853149,angle=89.570419311523,name="Rent cargobob",cost=500,sprite=481,cars={2025593404},rent=true},{x=-1621.7149658203,y=-3197.1267089844,z=14.0,angle=151.6248626709,name="Rent skylift",color=1,cost=3000,sprite=481,cars={1044954915},rent=true},{x=715.37017822266,y=-1398.0233154297,z=26.35880279541,sprite=326,name="Compact car shop",cost=2250,cars={-344943009,1039032026,1549126457,-1130810103,-1177863319,-431692672,-1450650718,841808271}},{x=715.02410888672,y=-1392.2175292969,z=26.32643699646,sprite=326,name="Two seat car shop",cost=4500,cars={1830407356,1078682497,-2124201592,330661258,-5153954,-591610296,-89291282,1349725314,873639469,-1122289213,-1193103848,2016857647}},{x=714.77362060547,y=-1387.0942382813,z=26.300699234009,sprite=326,name="Four seat car shop",cost=3000,cars={1123216662,970598228,-391594584,-624529134,1348744438,-511601230,-1930048799,-1809822327,-1903012613,906642318,-2030171296,-685276541,1909141499,75131841,-1289722222,886934177,-1883869285,-1150599089,-1477580979,1723137093,-1894894188,-1008861746,1373123368,1777363799,-310465116,-1255452397,970598228}},{x=714.54632568359,y=-1383.0053710938,z=26.310161590576,sprite=326,name="Muscle car shop",cost=4000,cars={464687292,1531094468,-1205801634,-682211828,349605904,80636076,723973206,-2119578145,-1800170043,-1943285540,-2095439403,1507916787,-227741703,-1685021548,1923400478,972671128,-825837129,-498054846,2006667053}},{x=714.28350830078,y=-1378.4299316406,z=26.269607543945,sprite=326,name="Off road car shop",cost=3000,cars={914654722,1645267888,-2045594037,-1189015600,989381445,850565707,-808831384,142944341,1878062887,634118882,2006918058,-789894171,683047626,1177543287,-1137532101,-1775728740,-1543762099,884422927,486987393,1269098716,-808457413,-1651067813,2136773105,1221512915,1337041428,1203490606,-16948145,1069929536}},{x=713.96661376953,y=-1372.8767089844,z=26.204294204712,sprite=326,name="Vans car shop",cost=2000,cars={-1346687836,1162065741,-119658072,-810318068,65402552,1026149675}},{x=831.10375976563,y=-797.18811035156,z=26.256492614746,sprite=326,color=18,name="Used car shop",cost=300,cars={-2033222435,-667151410,523724515,-1435919434,1770332643,-1207771834,-1883002148,-14495224,1762279763,-120287622,-1311240698}},{x=186.72326660156,y=-1256.9447021484,z=29.198457717896,sprite=68,name="Rent tow truck",cost=100,cars={-1323100960,-442313018},rent=true},{x=-16.481201171875,y=-1083.2067871094,z=26.672069549561,sprite=326,name="Sport car shop",cost=15000,cars={-1622444098,767087018,-1041692462,1274868363,736902334,2072687711,-1045541610,108773431,-566387422,-1995326987,-1089039904,499169875,-1297672541,544021352,-1372848492,482197771,-142942670,-1461482751,-377465520,-1934452204,1737773231,1032823388,719660200,-746882698,-1757836725,1886268224,384071873,2765724541}},{x=-1792.1674804688,y=458.46810913086,z=128.30819702148,sprite=326,name="Classic sport car shop",cost=30000,cars={-982130927,-1566741232,-1405937764,1887331236,941800958,223240013,1011753235,784565758,1051415893,-1660945322,-433375717,1545842587,-2098947590,1504306544}},{x=-64.245101928711,y=886.47015380859,z=235.82223510742,sprite=523,name="Super car shop",cost=100000,cars={-1216765807,-1696146015,-1311154784,-1291952903,1426219628,1234311532,418536135,-1232836011,1034187331,1093792632,1987142870,-1758137366,-1829802492,2123327359,234062309,819197656,1663218586,272929391,408192225,2067820283,338562499,1939284556,-1403128555,-2048333973,-482719877,917809321}},{x=-866.72729492188,y=-1122.9127197266,z=6.6089086532593,sprite=348,name="Motorcycle shop",cost=1500,cars={627535535,-757735410,1672195559,-2140431165,86520421,1753414259,627535535,640818791,-1523428744,-634879114,-909201658,-893578776,-1453280962,788045382,1836027715,-140902153,-1353081087}},{x=103.67114257813,y=-2189.1770019531,z=5.9722423553467,sprite=477,name="Truck shop",cost=10000,cars={1518533038,569305213,-2137348917}},{x=845.18511962891,y=-2358.1569824219,z=30.337574005127,sprite=477,color=1,name="Upgraded Truck shop",cost=45000,cars={387748548,177270108}},{x=2380.8640136719,y=3039.5324707031,z=47.689258575439,angle=0.3908,sprite=528,color=1,name="Special modified truck",cost=30000,cars={-1649536104}},{x=128.1043548584,y=-2197.1125488281,z=6.0333247184753,angle=320.2,sprite=477,name="Smallest truck",cost=12500,cars={-884690486}},{x=409.13833618164,y=-2069.9428710938,z=21.3864402771,angle=140.57992553711,sprite=477,name="Getaway van",cost=6000,cars={904750859,-1050465301}},{x=1031.9289550781,y=-1963.2841796875,z=30.529121398926,angle=94.166656494141,sprite=477,color=2,name="Upgraded getaway van",cost=12000,cars={-2052737935}},{x=853.19781494141,y=-2129.4760742188,z=29.889066696167,angle=86.725280761719,sprite=477,color=2,name="Heavy getaway truck",cost=15000,cars={2053223216}},{x=189.34603881836,y=282.08395385742,z=141.4781036377,angle=338.59439086914,name="Havok",cost=7000,sprite=574,factionreq={j3.HEISTERS,2000000},cars={-1984275979}},{x=133.53921508789,y=273.06643676758,z=109.66710662842,angle=339.94281005859,name="Light armored car",cost=80000,sprite=326,color=2,factionreq={j3.HEISTERS,400000},cars={410882957}},{x=-160.36054992676,y=-161.21446228027,z=93.70240020752,angle=251.67858886719,name="Helicopter shop",cost=15000,sprite=43,cars={744705981,1949211328,-339587598}},{x=-164.40083312988,y=-238.77142333984,z=81.83031463623,angle=249.88282775879,name="Rappel helicopter shop",cost=15000,sprite=43,cars={-1660661558}},{x=694.94934082031,y=-1010.5455932617,z=22.783393859863,angle=358.84677124023,name="Light armored car",cost=70000,sprite=326,color=2,factionreq={j3.ANARCHY,200000},cars={-326143852}},{x=1596.0075683594,y=-1651.6403808594,z=88.171897888184,angle=264.71340942383,sprite=326,color=24,name="Racing car shop",cost=17500,cars={-777172681,-295689028,196747873,237764926,-1106353882,-631760477,-591651781,-915704871,349315417,-401643538}},{x=1598.5760498047,y=-1664.1368408203,z=88.078819274902,angle=302.54397583008,sprite=348,color=24,name="Racing bike shop",cost=10000,cars={-891462355,-114291515,11251904,-1670998136,1265391242}},{x=-346.03268432617,y=-1530.9349365234,z=27.435739517212,angle=269.13970947266,sprite=318,color=39,name="Trash truck",cost=0,rent=true,cars={1917016601,-1255698084}},{x=1212.9477539063,y=2736.8645019531,z=37.855758666992,name="Offroad stunt car",color=2,sprite=326,cars={101905590,-663299102},cost=15000},{x=189.03796386719,y=2786.7778320313,z=45.539836883545,name="Offroad sport car",color=2,sprite=326,cars={-1479664699},cost=11000},{x=1891.3552246094,y=3930.9538574219,z=32.858066558838,angle=206.77059936523,name="Anti-aircraft trailer",cost=10000,sprite=563,cars={-1881846085}},{x=1894.2373046875,y=3920.1555175781,z=32.439136505127,angle=197.13591003418,sprite=326,name="Pick-up truck shop",cost=4000,cars={1069929536,-16948145,-599568815}},{x=2149.912109375,y=4798.5537109375,z=40.548816680908,angle=37.929042816162,sprite=577,name="Microlight",cost=4000,cars={GetHashKey("microlight")}}}j5.news.carshops={{x=-285.87228393555,y=-618.1611328125,z=50.054058074951,angle=270.05,fbi=true,sprite=43,color=3,name="Helicopter",cost=0,cars={744705981}},{x=-592.55029296875,y=-921.41387939453,z=36.555065155029,angle=89.99,fbi=true,sprite=43,color=3,name="Helicopter",cost=0,cars={744705981}},{x=-562.47955322266,y=-921.08227539063,z=23.896326065063,angle=269.99,fbi=true,sprite=477,color=3,name="Van",cost=0,cars={1162065741},livery=0}}j5.lsfd.carshops={{x=204.6941986084,y=-1658.7762451172,z=29.871974945068,angle=320.42572021484,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=-370.20809936523,y=6127.9321289063,z=31.511556625366,angle=44.605541229248,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=1695.2797851563,y=3588.7719726563,z=35.696208953857,angle=213.21376037598,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=-1093.9738769531,y=-2369.41796875,z=14.014199256897,angle=151.3292388916,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=-2104.6311035156,y=2832.2895507813,z=32.878559112549,angle=354.49502563477,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=1204.5338134766,y=-1479.7216796875,z=34.928466796875,angle=359.58599853516,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=-635.00506591797,y=-105.52523040771,z=38.112854003906,angle=83.971015930176,sprite=56,color=75,name="Fire truck",cost=0,fbi=true,cars={1938952078}},{x=-1093.1236572266,y=-2354.6625976563,z=20.916704177856,angle=148.7452545166,fbi=true,sprite=43,color=75,name="Helicopter",cost=0,cars={353883353},livery=1}}j5.paramedics.carshops={{x=304.46542358398,y=-1453.1789550781,z=29.734334945679,angle=50.739974975586,sprite=56,color=8,name="Ambulance",cost=0,fbi=true,cars={1171614426},livery=2},{x=336.73016357422,y=-1476.8754882813,z=29.271110534668,angle=300.67877197266,sprite=56,color=8,name="Ambulance",cost=0,fbi=true,cars={1171614426},livery=0},{x=208.71119689941,y=-1648.1286621094,z=29.572954177856,angle=319.45022583008,sprite=56,color=8,name="Ambulance",cost=0,fbi=true,cars={1171614426},livery=1},{x=313.35104370117,y=-1465.0010986328,z=46.89701461792,angle=318.7646484375,fbi=true,sprite=43,color=8,name="Helicopter",cost=0,cars={353883353},livery=1}}j5.lspdheavy.carshops={{x=462.59909057617,y=-1019.6057739258,z=27.776398849487,angle=90.926322937012,fbi=true,sprite=56,color=3,name="Armored Police car",cost=0,cars={456714581}},{x=463.00701904297,y=-1014.5240478516,z=27.747706604004,angle=90.859275817871,fbi=true,sprite=56,color=3,name="Police car",cost=0,cars={1912215274}},{x=454.84698486328,y=-993.29400634766,z=43.691650390625,angle=87.682159423828,fbi=true,sprite=43,color=3,name="Helicopter",cost=0,cars={353883353},livery=0}}j5.detectivesheavy.carshops={{x=463.00701904297,y=-1014.5240478516,z=27.747706604004,angle=90.859275817871,fbi=true,sprite=56,color=3,name="Unmarked Police car",cost=0,cars={-1973172295}}}j5.detectives.carshops={{x=463.00701904297,y=-1014.5240478516,z=27.747706604004,angle=90.859275817871,fbi=true,sprite=56,color=3,name="Unmarked Police car",cost=0,cars={-1973172295}}}j5.security.carshops={{x=463.00701904297,y=-1014.5240478516,z=27.747706604004,angle=90.859275817871,fbi=true,sprite=56,color=32,name="Security car",cost=0,cars={1682114128}}}j5.nysp.carshops={{x=970.32122802734,y=2722.6684570313,z=39.029144287109,angle=164.91047668457,fbi=true,sprite=56,color=56,name="NYSP cars",cost=0,cars={-1536924937,-1779120616}}}j5.coastguard.carshops={{x=-1240.7269287109,y=-1864.2874755859,z=1.4682104587555,angle=134.1398,fbi=true,sprite=404,color=3,name="Police boat",cost=0,cars={-488123221}},{x=-1208.2036132813,y=-1797.7513427734,z=4.2485394477844,angle=124.36414337,fbi=true,sprite=251,color=3,name="Coast guard plane",cost=0,modkit=0,mods={[48]=6},cars={1043222410}}}j5.borderpatrol.carshops={{x=462.59909057617,y=-1019.6057739258,z=27.776398849487,angle=90.926322937012,fbi=true,sprite=56,color=40,name="Border patrol car",cost=0,cars={GetHashKey("ngranger")}}}j5.lspd.carshops={{x=457.55673217773,y=-1009.291809082,z=28.305698394775,angle=187.26271057129,fbi=true,sprite=348,color=3,name="Police bike",cost=0,cars={-34623805}},{x=462.59909057617,y=-1019.6057739258,z=27.776398849487,angle=90.926322937012,fbi=true,sprite=56,color=3,name="Police car",cost=0,cars={2046537925}},{x=463.00701904297,y=-1014.5240478516,z=27.747706604004,angle=90.859275817871,fbi=true,sprite=56,color=3,name="Police car",cost=0,cars={1912215274}}}j5.sspd.carshops={{x=1827.6964111328,y=3693.8649902344,z=33.845809936523,angle=299.83209228516,fbi=true,sprite=56,color=5,name="SSPD vehicles",cost=0,cars=kB.SSPD}}j5.sahp.carshops={{x=-445.77633666992,y=5984.5478515625,z=31.189825820923,angle=45.788238525391,fbi=true,sprite=56,color=39,name="SAHP car",cost=0,cars={-1627000575}},{x=-459.89624023438,y=6022.6635742188,z=31.039912033081,angle=312.2297668457,fbi=true,sprite=348,color=39,name="SAHP bike",cost=0,cars={-34623805}},{x=-446.24841308594,y=5994.2797851563,z=31.340522766113,angle=92.593635559082,fbi=true,sprite=348,color=39,modkit=0,mods={[14]=1},color1=0,color2=111,color3=0,color4=111,name="SAHP sport bike",cost=0,cars={-114291515}}}j5.sapr.carshops={{x=372.98739624023,y=786.02355957031,z=186.43234558105,angle=164.47503662109,fbi=true,sprite=56,color=2,name="SAPR SUV",cost=0,cars={741586030}},{x=382.37777709961,y=803.44927978516,z=187.75993347168,fbi=true,sprite=56,color=2,color1=51,color2=111,color3=51,color4=51,name="SAPR ATV",cost=0,cars={-2128233223}}}j5.noose.carshops={{x=2510.7136230469,y=-341.96670532227,z=118.18634796143,fbi=true,sprite=43,color=29,name="SWAT helicopter",cost=0,livery=0,cars={353883353}},{x=2503.5627441406,y=-430.99298095703,z=92.992835998535,angle=180.5171661377,fbi=true,sprite=56,color=29,name="SWAT riot",cost=0,cars={-1205689942}},{x=2506.734375,y=-450.52795410156,z=92.992866516113,angle=47.119285583496,fbi=true,sprite=56,color=29,color1=11,color2=11,name="SWAT insurgent",cost=0,cars={2071877360}}}j5.navy.carshops={{x=3099.9243164063,y=-4734.7680664063,z=15.726826667786,angle=89.973442077637,fbi=true,sprite=43,color=52,name="Cargobob",cost=0,cars={-50547061}},{x=3092.3352050781,y=-4794.7099609375,z=15.261613845825,angle=27.482593536377,fbi=true,sprite=424,color=26,name="Navy fighter jet",cost=0,cars={-1281684762}},{x=3088.1115722656,y=-4801.8598632813,z=-0.78393822908401,angle=196.25451660156,fbi=true,sprite=404,color=26,name="Navy Boat",cost=0,cars={276773164}},{x=3057.5893554688,y=-4796.654296875,z=6.0720343589783,angle=104.16527557373,fbi=true,sprite=424,color=26,name="Navy VTOL Jet",cost=0,cars={970385471}},{x=3080.9304199219,y=-4646.9438476563,z=6.072190284729,angle=20.514385223389,fbi=true,sprite=424,color=26,name="Navy VTOL Jet",cost=0,cars={970385471}},{x=-2403.8483886719,y=3321.3081054688,z=32.336040496826,angle=61.130729675293,fbi=true,sprite=421,color=26,name="Tank",cost=0,cars={782665360}},{x=-2235.974609375,y=3272.458984375,z=32.316596984863,angle=240.53776855469,fbi=true,sprite=424,color=26,name="Navy fighter jet",cost=0,cars={-1281684762}},{x=-2317.4680175781,y=3258.7744140625,z=32.827655792236,angle=149.67643737793,fbi=true,sprite=56,color=52,name="Military vehicle",cost=0,cars={321739290}},{x=-2328.4575195313,y=3251.2482910156,z=32.82763671875,angle=61.942565917969,fbi=true,sprite=56,color=52,name="Military vehicle",cost=0,cars={-823509173}},{x=-2192.1254882813,y=3265.7802734375,z=32.432655334473,angle=60.793060302734,fbi=true,sprite=576,color=26,name="Hunter",cost=0,cars={-42959138}},{x=-2342.302734375,y=3250.3903808594,z=32.447078704834,angle=329.43154907227,fbi=true,sprite=56,color=52,name="Squaddie",cost=0,cars={1210229692}},{x=-2347.0539550781,y=3242.3459472656,z=32.447418212891,angle=329.40353393555,fbi=true,sprite=56,color=52,name="Armed Squaddie",cost=0,cars={74062924}},{x=-2379.56,y=3236.30,z=34.68,angle=149.06,fbi=true,sprite=589,color=26,name="Avenger",cost=0,cars={GetHashKey("avenger")}},{x=3100.9597167969,y=-4813.732421875,z=16.100826263428,angle=25.517803192139,fbi=true,sprite=640,color=26,name="B11 Strikeforce",cost=0,cars={GetHashKey("strikeforce")}}}j5.military.carshops={{x=-2317.4680175781,y=3258.7744140625,z=32.827655792236,angle=149.67643737793,fbi=true,sprite=56,color=52,name="Military vehicle",cost=0,cars={321739290}},{x=-2328.4575195313,y=3251.2482910156,z=32.82763671875,angle=61.942565917969,fbi=true,sprite=56,color=52,name="Military vehicle",cost=0,cars={-823509173}},{x=-2342.302734375,y=3250.3903808594,z=32.447078704834,angle=329.43154907227,fbi=true,sprite=56,color=52,name="Squaddie",cost=0,cars={1210229692}}}j5.fbiswat.carshops={{x=166.23600769043,y=-705.29974365234,z=32.991550445557,fbi=true,sprite=56,color=3,name="FIB Heavy armored car",cost=0,cars={1209364519}},{x=143.57824707031,y=-736.10357666016,z=32.941730499268,fbi=true,sprite=56,color=3,name="Unmarked fast FBI car",cost=0,cars={1127131465}},{x=132.08850097656,y=-731.59490966797,z=32.943347930908,fbi=true,sprite=56,color=3,name="Unmarked off road FBI car",cost=0,cars={-1647941228}},{x=125.03157806396,y=-745.263671875,z=262.62380981445,angle=339.13916015625,fbi=true,name="Annihilator",cost=0,sprite=43,cars={837858166}}}j5.fbi.carshops={{x=147.94520568848,y=-762.08477783203,z=262.87142944336,angle=161.0,fbi=true,sprite=43,color=3,color1={0,0,0},color2={0,0,0},livery=2,name="FBI helicopter",cost=0,cars={1949211328}},{x=143.57824707031,y=-736.10357666016,z=32.941730499268,fbi=true,sprite=56,color=3,name="Unmarked fast FBI car",cost=0,cars={1127131465}},{x=132.08850097656,y=-731.59490966797,z=32.943347930908,fbi=true,sprite=56,color=3,name="Unmarked off road FBI car",cost=0,cars={-1647941228}}}j5.lost.carshops={{x=985.50256347656,y=-137.88551330566,z=72.8,angle=57.032344818115,rent=true,sprite=348,color=62,name="Bike",cost=500,cars={390201602,-1404136503,2006142190,741090084,301427732,-159126838,-1606187161,1873600305,-618617997,-1009268949,-570033273}},{x=971.02526855469,y=-114.53890228271,z=74.1,angle=223.27487182617,rent=true,sprite=326,color=62,name="Van",cost=500,cars={-1745203402},factionreq={j3.LOST,1000000}}}j5.merc.carshops={{x=464.01702880859,y=-3235.478515625,z=6.069561958313,angle=270.01,rent=true,sprite=326,color=65,factionreq={j3.MERCS,500000},name="Nightshark",cost=5000,cars={433954513}},{x=465.02291870117,y=-3191.2585449219,z=5.8632893562317,angle=0.0,rent=true,sprite=326,color=65,name="Mesa",cost=500,cars={-2064372143}},{x=580.20471191406,y=-3254.029296875,z=.5,angle=180.01,name="Submarine",rent=true,cost=500,sprite=308,cars={771711535,-1066334226}},{x=503.15692138672,y=-3374.3430175781,z=6.0699095726013,angle=180.01,name="Valkyrie",rent=true,cost=2500,sprite=43,factionreq={j3.MERCS,500000},cars={1543134283}},{x=494.05456542969,y=-3374.1579589844,z=6.0699138641357,angle=180.01,name="Valkyrie w/cannon",rent=true,cost=10000,sprite=43,factionreq={j3.MERCS,3000000},cars={-1600252419}},{x=503.46008300781,y=-3357.6987304688,z=5.8398675918579,angle=0.0,name="Savage",rent=true,cost=25000,sprite=576,factionreq={j3.MERCS,12000000},cars={-82626025}},{x=503.36743164063,y=-3309.9672851563,z=5.8400278091431,angle=180.01,name="Akula",rent=true,cost=45000,sprite=576,factionreq={j3.MERCS,17000000},cars={1181327175}},{x=501.48458862305,y=-3179.8447265625,z=5.8389925956726,angle=0.0,name="Chernobog",rent=true,cost=10000,sprite=603,factionreq={j3.MERCS,1000000},cars={-692292317}},{x=500.98321533203,y=-3197.6782226563,z=5.8393874168396,angle=0.0,name="Halftrack",rent=true,cost=15000,sprite=477,factionreq={j3.MERCS,1000000},cars={-32236122}},{x=500.98321533203,y=-3206.9538574219,z=5.8376450538635,angle=0.0,name="Anti-aircraft trailer",rent=true,cost=5000,sprite=563,factionreq={j3.MERCS,500000},cars={-1881846085}}}j5.cartel.carshops={{x=1361.0843505859,y=1165.1298828125,z=113.19039154053,angle=181.92126464844,rent=true,sprite=326,color=47,name="Vehicle",cost=0,cars={-808831384,2006918058,486987393}}}j5.pirates.carshops={{x=1334.0783691406,y=4266.1801757813,z=30.489204406738,angle=265.57913208008,rent=true,sprite=427,color=62,color1=0,color2=0,color3=0,color4=0,name="Predator",cost=1000,cars={-488123221}},{x=1254.2380371094,y=4286.3930664063,z=30.231960296631,angle=126.51040649414,rent=true,sprite=427,color=62,color1=0,color2=0,color3=0,color4=0,name="Dinghy",cost=1000,cars={867467158}},{x=1412.8223876953,y=4260.51953125,z=30.694999694824,angle=216.34609985352,rent=true,sprite=427,color=62,color1=0,color2=0,color3=0,color4=0,name="Jetmax",cost=1000,cars={861409633}},{x=580.20471191406,y=-3254.029296875,z=.5,angle=177.01123046875,name="Submarine",rent=true,cost=1000,sprite=308,color=62,color1=0,color2=0,color3=0,color4=0,color5=0,color6=0,scorched=true,cars={771711535,-1066334226}},{x=1293.5758056641,y=4353.8740234375,z=47.622871398926,angle=354.46270751953,sprite=612,name="Sea Sparrow",cost=10000,cars={GetHashKey("seasparrow")}}}j5.elite.carshops={{x=-1802.4645996094,y=-1236.2015380859,z=.5,angle=226,name="Seashark",cost=1000,sprite=471,color=4,cars={-1030275036,-616331036,-311022263}},{x=-2043.9359130859,y=-1031.4766845703,z=11.980721473694,angle=73.169227600098,rent=true,sprite=43,color=4,name="Armed Helicopter",cost=8000,factionreq={j3.ELITE,1000000},cars={788747387}},{x=-83.973495483398,y=369.41790771484,z=112.45824432373,angle=244.74044799805,rent=true,sprite=326,color=4,name="Armored Vehicle",cost=0,cars={3406724313,1922255844,470404958,666166960,3862958888}},{x=-82.834434509277,y=361.61199951172,z=112.45824432373,angle=245.49688720703,rent=true,sprite=326,color=4,name="Armed Armored Vehicle",cost=10000,factionreq={j3.ELITE,5000000},cars={-114627507}}}local kC=j5.criminal.carshops;function ApplyVehicleMods(Y,kD,e9)if kD~=nil then SetVehicleModKit(Y,kD)if e9~=nil then for f,g in pairs(e9)do SetVehicleMod(Y,f,g,false)end end end end;function SetVehicleColorsEnhanced(Y,kE,kF,kG,kH,kI,kJ)local kK=false;local kL=false;local kM=false;local kN=false;if kE~=nil then if type(kE)=='table'then kK=true else kM=true end end;if kF~=nil then if type(kF)=='table'then kL=true else kN=true end end;if kM and kN then SetVehicleColours(Y,kE,kF)else if kM or kN then local kO,kP=GetVehicleColours(Y)if kM then kO=kE end;if kN then kP=kF end;SetVehicleColours(Y,kO,kP)end;if kK then SetVehicleCustomPrimaryColour(Y,kE[1],kE[2],kE[3])end;if kL then SetVehicleCustomSecondaryColour(Y,kF[1],kF[2],kF[3])end end;if kG~=nil or kH~=nil then local kQ,kR=kG,kH;if kG==nil or kH==nil then kQ,kR=GetVehicleExtraColours(Y)if kG~=nil then kQ=kG end;if kH~=nil then kR=kH end end;SetVehicleExtraColours(Y,kQ,kR)end;if kI~=nil then SetVehicleInteriorColour(Y,kI)end;if kJ~=nil then SetVehicleDashboardColour(Y,kJ)end end;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.carshops)i_(j5.news.carshops)i_(j5.lsfd.carshops)i_(j5.paramedics.carshops)i_(j5.fbi.carshops)i_(j5.fbiswat.carshops)i_(j5.coastguard.carshops)i_(j5.borderpatrol.carshops)i_(j5.lspd.carshops)i_(j5.detectivesheavy.carshops)i_(j5.lspdheavy.carshops)i_(j5.sspd.carshops)i_(j5.sahp.carshops)i_(j5.sapr.carshops)i_(j5.noose.carshops)i_(j5.military.carshops)i_(j5.navy.carshops)i_(j5.lost.carshops)i_(j5.merc.carshops)i_(j5.cartel.carshops)i_(j5.pirates.carshops)i_(j5.elite.carshops)j2(j5.news.carshops)j2(j5.lsfd.carshops)j2(j5.paramedics.carshops)j2(j5.fbi.carshops)j2(j5.fbiswat.carshops)j2(j5.coastguard.carshops)j2(j5.borderpatrol.carshops)j2(j5.lspd.carshops)j2(j5.detectivesheavy.carshops)j2(j5.lspdheavy.carshops)j2(j5.sspd.carshops)j2(j5.sahp.carshops)j2(j5.sapr.carshops)j2(j5.noose.carshops)j2(j5.military.carshops)j2(j5.navy.carshops)j2(j5.lost.carshops)j2(j5.merc.carshops)j2(j5.cartel.carshops)j2(j5.pirates.carshops)j2(j5.elite.carshops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(kC)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,255,128,128,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if not IsPedSittingInAnyVehicle(PlayerPedId())then if g.rent and fs.plate then SimpleNotification("You must return rented vehicle first. Or hold button to abandon it.")Wait(1000)if IsControlPressed(0,86)then cO=GetEntityCoords(PlayerPedId())iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<4 then fX(fs)fs.veh=nil;fs.net=nil;fR(fs)fs.plate=nil;fs.hash=nil;fV()SimpleNotification("You failed to return rented vehicle. Shame on you! Shame!")Wait(10000)SimpleNotification("You can't rent new vehicle yet, I'm still angry on you.")Wait(19000)SimpleNotification("Okay, you can rent another vehicle if you need. Please return it this time.")end end elseif bm.money>=g.cost then local gL=g.angle;if not gL then gL=GetEntityHeading(PlayerPedId())end;local K=g.cars[math.random(#g.cars)]local Y;if g.fbi then Y=iU(K,g.x,g.y,g.z,gL)SetVehicleAsNoLongerNeeded(Y)elseif g.rent then fs.hash=K;Y=iU(K,g.x,g.y,g.z,gL)fs.veh=Y;local fJ=AddBlipForEntity(fs.veh)SetBlipSprite(fJ,g.sprite)SetBlipDisplay(fJ,2)SetBlipScale(fJ,0.6)SetBlipColour(fJ,32)fs.net=fK(fs.veh)fs.plate=GetVehicleNumberPlateText(fs.veh)fV()SimpleNotification("Don't forget to return it!")else Y=iV(K,g.x,g.y,g.z,gL)SimpleNotification("You've bought a vehicle. When leaving server your vehicle has to be ~b~in garage~s~ to be saved.")end;SetPedIntoVehicle(PlayerPedId(),Y,-1)if g.livery~=nil then SetVehicleLivery(Y,g.livery)end;ApplyVehicleMods(Y,g.modkit,g.mods)SetVehicleColorsEnhanced(Y,g.color1,g.color2,g.color3,g.color4,g.color5,g.color6)if g.scorched then SetEntityRenderScorched(Y,true)end;bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())else SimpleNotification("You don't have enough money.")end elseif fs.veh==GetVehiclePedIsUsing(PlayerPedId())then SetEntityAsMissionEntity(fs.veh,true,true)DeleteVehicle(fs.veh)fs.veh=nil;fs.net=nil;fR(fs)fs.plate=nil;fs.hash=nil;fV()SimpleNotification("Thank you for returning rented vehicle.")SetBlipColour(g.blip,20)hk(1000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())else SimpleNotification("Clear this area of any vehicles before buying.")end else local ke;if g.rent then ke="rent."elseif g.cost==0 or g.fbi then ke="take."else ke="buy."end;SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to ~a~",g.name,g.cost,ke)end end end end end end)local kS,kT,kU,kV,kW,kX,kY=1,2,4,8,16,15,31;j5.criminal.repairshops={{x=888.95196533203,y=-889.42864990234,z=26.414888381958,name="Repair engine and wheels",color=2,sprite=402,cost=700,flags=kS+kT+kU},{x=-31.853324890137,y=-1090.5874023438,z=26.422239303589,name="Repair engine and wheels",color=2,sprite=402,cost=700,flags=kS+kT+kU},{x=-27.108713150024,y=-1493.427734375,z=30.063791275024,name="Repair engine and wheels",color=69,sprite=402,cost=900,factionreq={j3.FAMILIES,15000},flags=kS+kT+kU},{x=967.56573486328,y=-1812.7857666016,z=30.833524703979,name="Repair engine and wheels",color=46,sprite=402,cost=1100,factionreq={j3.VAGOS,100000},flags=kS+kT+kU},{x=-450.90884399414,y=-1691.4396972656,z=18.660259246826,name="Repair engine and wheels",color=39,sprite=402,cost=500,factionreq={j3.MOBS,100000},flags=kS+kT+kU},{x=471.21493530273,y=-578.73657226563,z=28.49973487854,name="Full repair",color=1,sprite=446,cost=2000,flags=kX},{x=258.84823608398,y=2588.5197753906,z=44.802917480469,name="Full repair",color=1,sprite=446,cost=3000,flags=kX},{x=-160.34722900391,y=-262.9680480957,z=81.60693359375,name="Full helicopter repair",color=1,sprite=446,cost=5000,flags=kY},{x=938.67657470703,y=-1495.4936523438,z=29.806707382202,sprite=72,name="Car paint",cost=500,flags=kW},{x=-25.218566894531,y=-1427.4871826172,z=30.051826477051,sprite=72,color=69,color1=57,color2=57,name="Car paint (green)",cost=300,flags=kW},{x=86.025238037109,y=-1971.1588134766,z=20.80552482605,sprite=72,color=83,color1=145,color2=145,name="Car paint (purple)",cost=300,flags=kW},{x=976.76489257813,y=-1828.8614501953,z=30.669563293457,sprite=72,color=46,color1=42,color2=42,name="Car paint (yellow)",cost=300,flags=kW},{x=1252.4379882813,y=-1618.8044433594,z=52.929946899414,sprite=72,color=18,color1=68,color2=68,name="Car paint (light blue)",cost=300,flags=kW},{x=137.8140411377,y=316.54156494141,z=111.76704406738,sprite=72,color=45,color1=3,color2=3,name="Car paint (grey)",cost=300,flags=kW},{x=873.72680664063,y=-2197.7424316406,z=30.10597038269,sprite=72,color=40,color1=0,color2=0,name="Car paint (black)",cost=300,flags=kW}}j5.sahp.repairshops={{x=-462.28240966797,y=6009.2807617188,z=31.340553283691,name="Full repair",color=39,sprite=446,cost=0,flags=kX}}j5.lspd.repairshops={{x=435.72744750977,y=-997.92150878906,z=25.358324050903,name="Full repair(white)",color=3,color1=111,color2=111,sprite=446,cost=0,flags=kY},{x=529.88568115234,y=-28.615762710571,z=69.973480224609,name="Full repair",color=3,color1=111,color2=111,sprite=446,cost=0,flags=kY},{x=-1121.361328125,y=-843.36505126953,z=12.998027801514,name="Full repair",color=3,color1=111,color2=111,sprite=446,cost=0,flags=kY},{x=377.84707641602,y=-1630.1400146484,z=27.98410987854,name="Full repair",color=3,color1=111,color2=111,sprite=446,cost=0,flags=kY}}j5.lsfd.repairshops={{x=202.1985168457,y=-1655.5092773438,z=29.825368881226,name="Full repair",color=75,sprite=446,cost=0,flags=kX},{x=1200.8623046875,y=-1479.7216796875,z=34.927402496338,name="Full repair",color=75,sprite=446,cost=0,flags=kX},{x=1695.2797851563,y=3588.7719726563,z=35.696208953857,name="Full repair",color=75,sprite=446,cost=0,flags=kX}}j5.paramedics.repairshops={{x=396.21374511719,y=-1438.87890625,z=29.438385009766,name="Full repair",color=8,sprite=446,cost=0,flags=kX}}j5.fbi.repairshops={{x=163.99192810059,y=-722.24682617188,z=32.778518676758,name="Full repair",color=3,sprite=446,cost=0,flags=kX}}j5.lost.repairshops={{x=964.72741699219,y=-119.6036529541,z=73.823089599609,name="Full repair",color=62,sprite=446,cost=100,flags=kY}}j5.merc.repairshops={{x=490.65179443359,y=-3337.2448730469,z=6.0699133872986,name="Full repair",color=65,color1=133,color2=133,sprite=446,cost=500,flags=kY}}j5.anarchy.repairshops={{x=743.66284179688,y=-966.14147949219,z=23.924823760986,name="Full repair",color=25,sprite=446,cost=1500,flags=kY}}j5.cartel.repairshops={{x=1408.4490966797,y=1117.8303222656,z=114.46551513672,name="Full repair",color=47,sprite=446,cost=1500,flags=kY}}j5.elite.repairshops={{x=-83.045204162598,y=352.84664916992,z=112.44156646729,name="Full repair",color=4,color1=12,color2=12,sprite=446,cost=2500,flags=kY}}local kZ=j5.criminal.repairshops;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.repairshops)i_(j5.fbi.repairshops)i_(j5.lspd.repairshops)i_(j5.sahp.repairshops)i_(j5.lsfd.repairshops)i_(j5.paramedics.repairshops)i_(j5.lost.repairshops)i_(j5.merc.repairshops)i_(j5.anarchy.repairshops)i_(j5.cartel.repairshops)i_(j5.elite.repairshops)j2(j5.fbi.repairshops)j2(j5.lspd.repairshops)j2(j5.sahp.repairshops)j2(j5.lsfd.repairshops)j2(j5.paramedics.repairshops)j2(j5.lost.repairshops)j2(j5.merc.repairshops)j2(j5.anarchy.repairshops)j2(j5.cartel.repairshops)j2(j5.elite.repairshops)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(kZ)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,255,128,128,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then local Y=nil;if IsPedSittingInAnyVehicle(PlayerPedId())then Y=GetVehiclePedIsUsing(PlayerPedId())else local a4,a5,d5;local k_=100;local l0=100;if fq.veh then local l1=GetEntityCoords(fq.veh)a4,a5,d5=l1.x-cO.x,l1.y-cO.y,l1.z-cO.z;k_=a4*a4+a5*a5+d5*d5;if k_<100 then Y=fq.veh end end;if fr.veh then local l1=GetEntityCoords(fr.veh)a4,a5,d5=l1.x-cO.x,l1.y-cO.y,l1.z-cO.z;l0=a4*a4+a5*a5+d5*d5;if l0<k_ then Y=fr.veh end end end;if Y then if bm.money>=g.cost then if g.flags&kW==kW then if g.color1 and g.color2 then SetVehicleColours(Y,g.color1,g.color2)else SetVehicleColours(Y,math.random(0,160),math.random(0,160))local g1=PlayerId()if GetPlayerWantedLevel(g1)<4 then SetPlayerWantedLevel(g1,0,false)end end end;if g.flags&kX==kX then SetVehicleFixed(Y)else if g.flags&kS==kS then SetVehicleTyreFixed(Y,0)SetVehicleTyreFixed(Y,1)SetVehicleTyreFixed(Y,2)SetVehicleTyreFixed(Y,3)SetVehicleTyreFixed(Y,4)SetVehicleTyreFixed(Y,5)SetVehicleTyreFixed(Y,45)SetVehicleTyreFixed(Y,47)end;if g.flags&kU==kU then SetVehicleEngineHealth(Y,1000.0)SetVehiclePetrolTankHealth(Y,1000.0)end;if g.flags&kT==kT then for u=0,26 do Citizen.CreateThread(function()FixVehicleWindow(Y,u)end)end end end;bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())else SimpleNotification("You don't have enough money.")end else SimpleNotification("You need to be in a vehicle or have your bought vehicle nearby.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to use.",g.name,g.cost)end end end end end end)local function l2()local ped=jl(365775923)jt(ped)SetPedComponentVariation(ped,3,2,0,0)SetPedComponentVariation(ped,4,1,0,0)SetPedComponentVariation(ped,5,2,0,0)SetPedComponentVariation(ped,6,1,0,0)SetPedComponentVariation(ped,8,1,0,0)SetPedComponentVariation(ped,11,1,0,0)end;local function l3()local ped=jl(941695432)jt(ped)SetPedAsCop(ped,true)SetPedComponentVariation(ped,3,2,0,0)SetPedComponentVariation(ped,4,1,0,0)SetPedComponentVariation(ped,5,1,0,0)SetPedComponentVariation(ped,6,1,0,0)SetPedComponentVariation(ped,8,1,0,0)SetPedPropIndex(ped,1,1,0,true)end;local function l4()local ped=jl(225514697)jt(ped)SetPedComponentVariation(ped,8,21,0,0)SetPedPropIndex(ped,1,2,0,true)SetPedComponentVariation(ped,9,7,0,0)SetPedComponentVariation(ped,2,1,0,0)SetPedComponentVariation(ped,3,3,0,0)SetPedComponentVariation(ped,4,3,0,0)SetPedComponentVariation(ped,5,1,0,0)SetPedComponentVariation(ped,6,3,0,0)end;local function l5()local ped=jl(-1686040670)jt(ped)SetPedComponentVariation(ped,8,15,0,0)SetPedPropIndex(ped,1,0,0,true)SetPedComponentVariation(ped,2,1,0,0)SetPedComponentVariation(ped,3,6,0,0)SetPedComponentVariation(ped,4,6,0,0)SetPedComponentVariation(ped,5,1,0,0)SetPedComponentVariation(ped,6,3,0,0)end;local function l6()local ped=jl(-1692214353)jt(ped)SetPedComponentVariation(ped,8,18,0,0)SetPedPropIndex(ped,1,0,0,true)SetPedComponentVariation(ped,2,4,0,0)SetPedComponentVariation(ped,9,4,0,0)SetPedComponentVariation(ped,3,3,0,0)SetPedComponentVariation(ped,4,3,0,0)SetPedComponentVariation(ped,5,4,0,0)SetPedComponentVariation(ped,6,2,0,0)end;local function l7()jt(PlayerPedId())bm.scuba_gear=true end;j5.criminal.special={{x=-1128.7236328125,y=-1162.3797607422,z=6.4949550628662,name="Scuba gear",color=2,sprite=308,cost=2000,check=jv,equip=l2},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l2}}j5.fbi.special={{x=-1042.3065185547,y=-828.11090087891,z=10.884181022644,name="Scuba gear",color=3,sprite=308,cost=0,check=jv,equip=l3},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l3}}j5.merc.special={{x=611.87548828125,y=-3094.1320800781,z=6.0692591667175,name="Scuba gear",color=65,sprite=308,cost=500,check=jv,equip=l4},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l4}}j5.heisters.special={{x=-1128.7236328125,y=-1162.3797607422,z=6.4949550628662,name="Scuba gear",color=25,sprite=308,cost=1500,check=jv,equip=l5},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l5}}j5.elite.special={{x=-74.246940612793,y=362.59594726563,z=112.44319152832,name="Scuba gear",color=4,sprite=308,cost=2500,check=jv,equip=l6},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l6}}j5.coastguard.special={{x=-1202.25,y=-1800.26,z=3.91,name="Scuba gear",color=3,sprite=308,cost=0,check=jv,equip=l7},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l7}}j5.pirates.special={{x=1309.07,y=4362.01,z=41.54,name="Scuba gear",color=62,sprite=308,cost=0,check=jv,equip=l7},{x=513.0,y=4881.7,z=-62.5867,name="Scuba gear",cost=0,check=jv,equip=l7}}local l8=j5.criminal.special;Citizen.CreateThread(function()Wait(5000)i_(j5.criminal.special)i_(j5.fbi.special)i_(j5.merc.special)i_(j5.heisters.special)i_(j5.elite.special)i_(j5.coastguard.special)i_(j5.pirates.special)j2(j5.fbi.special)j2(j5.merc.special)j2(j5.heisters.special)j2(j5.elite.special)j2(j5.coastguard.special)j2(j5.pirates.special)while true do Wait(0)cO=GetEntityCoords(PlayerPedId())for f,g in pairs(l8)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,255,128,128,128,false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if g.factionreq and j4.top[g.factionreq[1]].score<g.factionreq[2]then SimpleHelpText("~r~~a~ needs ~g~$~1~ ~r~to unlock this.",j4.top[g.factionreq[1]].name,g.factionreq[2])elseif IsControlPressed(0,86)then if not g.check()then if bm.money>=g.cost then g.equip()bm.money=bm.money-g.cost;gd(bm.money,g.cost)c(d.buy,g.cost)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,0.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,g.color)cO=GetEntityCoords(PlayerPedId())else SimpleNotification("You don't have enough money.")end else SimpleNotification("You already have this equipment.")end else SimpleHelpText("~a~ ~b~$~1~\n~s~Press ~INPUT_VEH_HORN~ to use.",g.name,g.cost)end end end end end end)a(d.plates)b(d.plates,function(l9,la,lb,lc,ld,le)if l9 then print("mycar ["..l9 .."]")end;if lb then print("oldcar ["..lb.."]")end;if ld then print("rentcar ["..ld.."]")end;if la then print("mycar ["..la.."]")end;if lc then print("oldcar ["..lc.."]")end;if le then print("rentcar ["..le.."]")end;fq.plate=l9;fr.plate=lb;fs.plate=ld;fq.hash=la;fr.hash=lc;fs.hash=le;if l9 or lb or ld then Wait(5000)for Y in EnumerateVehicles()do local fH=GetVehicleNumberPlateText(Y)if fH==fq.plate then fq.veh=Y;fq.net=NetworkGetNetworkIdFromEntity(Y)fq.hash=GetEntityModel(Y)fI(Y)end;if fH==fr.plate then fr.veh=Y;fr.net=NetworkGetNetworkIdFromEntity(Y)fr.hash=GetEntityModel(Y)fI(Y)end;if fH==fs.plate then fs.veh=Y;fs.net=NetworkGetNetworkIdFromEntity(Y)fs.hash=GetEntityModel(Y)fI(Y)end end end end)a(d.garage)b(d.garage,function(f,fQ)if fQ~=nil then fx[f].name=GetDisplayNameFromVehicleModel(fQ.hash)fx[f].car=fQ;fx[f].color=3 else fx[f].car=nil;fx[f].name="Garage"fx[f].color=4 end;local bB=fx[f].blip;if bB then SetBlipColour(bB,fx[f].color)SetBlipName(bB,fx[f].name)end end)Citizen.CreateThread(function()Wait(7000)i_(fx)while true do Wait(0)while not fw do Wait(5000)end;cO=GetEntityCoords(PlayerPedId())for f,g in pairs(fx)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,1.5,255,128,128,128,false,true,2,false,false,false,false)if iK<g.radius and not bm.is_dead then if IsControlPressed(0,86)then if g.car and not IsPedSittingInAnyVehicle(PlayerPedId())then local fE=g.car;local gL=g.angle;if gL==nil then gL=GetEntityHeading(PlayerPedId())end;local Y=iZ(g.x,g.y,g.z,gL,fE)g.car=nil;g.name="Garage"SetPedIntoVehicle(PlayerPedId(),Y,-1)c(d.take_car,f)SetBlipName(g.blip,g.name)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,1.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,4)cO=GetEntityCoords(PlayerPedId())elseif not g.car and IsPedSittingInAnyVehicle(PlayerPedId())then local Y=GetVehiclePedIsUsing(PlayerPedId())if GetPedInVehicleSeat(Y,-1)==PlayerPedId()and NetworkHasControlOfEntity(Y)then if Y==fs.veh then SimpleNotification("Did you just stole rented vehicle?")end;g.car=iW(Y)g.name=GetDisplayNameFromVehicleModel(g.car.hash)c(d.save_car,f,g.car)SetBlipName(g.blip,g.name)SetBlipColour(g.blip,20)hk(5000,1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,2.7,2.7,1.5,128,128,128,128,false,true,2,false,false,false,false)SetBlipColour(g.blip,3)cO=GetEntityCoords(PlayerPedId())else SimpleNotification("You must be in driver seat.")end else if g.car then SimpleNotification("You need to be on foot to take vehicle.")else SimpleNotification("You need to be in a vehicle to store it.")end end else if g.car then SimpleHelpText("Press ~INPUT_VEH_HORN~ to take ~a~.",g.name)else SimpleHelpText("Press ~INPUT_VEH_HORN~ to save one vehicle in this garage.")end end end end end end end)hj.government[GetHashKey("COP")]="cop"hj.government[GetHashKey("SECURITY_GUARD")]="security guard"hj.government[GetHashKey("CIVMALE")]="civilian"hj.government[GetHashKey("CIVFEMALE")]="civilian"hj.government[GetHashKey("FIREMAN")]="fireman"hj.government[GetHashKey("ARMY")]="soldier"hj.government[GetHashKey("MEDIC")]="medic"for f,g in pairs(fB.LSFD)do hj.government[g]="fireman"end;for f,g in pairs(fB.MEDICS)do hj.government[g]="medic"end;for f,g in pairs(fB.FBI)do hj.government[g]="FBI agent"end;hj.government[941695432]="FBI diver"for f,g in pairs(fB.FBISWAT)do hj.government[g]="FBI agent"end;for f,g in pairs(fB.DETECTIVESHEAVY)do hj.government[g]="detective"end;for f,g in pairs(fB.DETECTIVES)do hj.government[g]="detective"end;for f,g in pairs(fB.SECURITY)do hj.government[g]="security patrol"end;for f,g in pairs(fB.NYSP)do hj.government[g]="NY state patrol"end;for f,g in pairs(fB.LSPD)do hj.government[g]="LSPD officer"end;for f,g in pairs(fB.BORDERPATROL)do hj.government[g]="border patrol officer"end;for f,g in pairs(fB.SSPD)do hj.government[g]="SSPD officer"end;for f,g in pairs(fB.SAHP)do hj.government[g]="SAHP officer"end;for f,g in pairs(fB.SAPR)do hj.government[g]="SAPR officer"end;for f,g in pairs(fB.NOOSE)do hj.government[g]="SWAT operator"end;for f,g in pairs(fB.MILITARY)do hj.government[g]="soldier"end;for f,g in pairs(fB.NAVY)do hj.government[g]="soldier"end;for f,g in pairs(fB.COASTGUARD)do hj.government[g]="coast guard"end;for f,g in pairs(fB.REPORTERS)do hj.government[g]="reporter"end;for f,g in pairs(fB.LOST)do hj.lost[g]="lost"end;hj.lost[1032073858]="lost"hj.lost[1330042375]=function(ped)if GetPedDrawableVariation(ped,10)<1 then return nil else return"lost"end end;for f,g in pairs(fB.MERCS)do hj.mercs[g]="merc"end;for f,g in pairs(fB.ANARCHY)do hj.anarchy[g]="anarchist"end;hj.anarchy[GetHashKey("g_m_y_anar_02")]="anarchist"hj.anarchy[1330042375]=function(ped)if GetPedDrawableVariation(ped,10)<1 then return"anarchist"else return nil end end;for f,g in pairs(fB.BALLAS)do hj.ballas[g]="ballas"end;for f,g in pairs(fB.FAMILIES)do hj.fams[g]="family member"end;for f,g in pairs(fB.VAGOS)do hj.vagos[g]="vagos"end;for f,g in pairs(fB.SALVA)do hj.salva[g]="salva"end;for f,g in pairs(fB.TRIADS)do hj.triads[g]="triad member"end;for f,g in pairs(fB.MOBS)do hj.armmob[g]="armenian mob"end;for f,g in pairs(fB.HEISTERS)do hj.heister[g]="heister"end;for f,g in pairs(fB.CARTEL)do hj.cartel[g]="cartel"end;for f,g in pairs(fB.PIRATES)do hj.pirates[g]="pirate"end;for f,g in pairs(fB.ELITE)do hj.elite[g]="elite security"end;local lf={}local lg={}lg.POLICE={[WEAPON.UNARMED]=true,[WEAPON.STUNGUN]=true,[WEAPON.FLAREGUN]=true,[WEAPON.EXTINGUISHER]=true,[WEAPON.NIGHTSTICK]=true,[WEAPON.FLASHLIGHT]=true,[WEAPON.PISTOL]=true,[WEAPON.COMBATPISTOL]=true,[WEAPON.SNSPISTOLMK2]=true,[WEAPON.REVOLVER]=true,[WEAPON.DOUBLEACTION]=true,[WEAPON.PUMPSHOTGUN]=true,[WEAPON.SMG]=true,[WEAPON.CARBINERIFLE]=true,[WEAPON.MARKSMANRIFLE]=true,[WEAPON.SNIPERRIFLE]=true}local lh={}lh.LSFD={}for f,g in pairs(kB.LSFD)do lh.LSFD[g]=true end;lh.REPORTERS={}for f,g in pairs(kB.REPORTERS)do lh.REPORTERS[g]=true end;lh.MEDICS={}for f,g in pairs(kB.MEDICS)do lh.MEDICS[g]=true end;lh.LSPDHEAVY={}for f,g in pairs(kB.LSPDHEAVY)do lh.LSPDHEAVY[g]=true end;lh.DETECTIVESHEAVY={}for f,g in pairs(kB.DETECTIVESHEAVY)do lh.DETECTIVESHEAVY[g]=true end;lh.DETECTIVES={}for f,g in pairs(kB.DETECTIVES)do lh.DETECTIVES[g]=true end;lh.SECURITY={}for f,g in pairs(kB.SECURITY)do lh.SECURITY[g]=true end;lh.NYSP={}for f,g in pairs(kB.NYSP)do lh.NYSP[g]=true end;lh.LSPD={}for f,g in pairs(kB.LSPD)do lh.LSPD[g]=true end;lh.BORDERPATROL={}for f,g in pairs(kB.BORDERPATROL)do lh.BORDERPATROL[g]=true end;lh.SSPD={}for f,g in pairs(kB.SSPD)do lh.SSPD[g]=true end;lh.SAHPHEAVY={}for f,g in pairs(kB.SAHPHEAVY)do lh.SAHPHEAVY[g]=true end;lh.SAHP={}for f,g in pairs(kB.SAHP)do lh.SAHP[g]=true end;lh.SAPR={}for f,g in pairs(kB.SAPR)do lh.SAPR[g]=true end;lh.NOOSE={}for f,g in pairs(kB.NOOSE)do lh.NOOSE[g]=true end;lh.NAVY={}for f,g in pairs(kB.NAVY)do lh.NAVY[g]=true end;lh.MILITARY={}for f,g in pairs(kB.MILITARY)do lh.MILITARY[g]=true end;lh.FBISWAT={}for f,g in pairs(kB.FBISWAT)do lh.FBISWAT[g]=true end;lh.COASTGUARD={}for f,g in pairs(kB.COASTGUARD)do lh.COASTGUARD[g]=true end;local function li()j2(j6)j2(jf)j2(jh)j2(kx)j2(ky)j2(kz)j2(kC)j2(kZ)j2(jc)j2(l8)end;local function lj()j1(j6)j1(jf)j1(jh)j1(kx)j1(ky)j1(kz)j1(kC)j1(kZ)j1(jc)j1(l8)end;hi.criminal=function()fd=true;Wait(30)c(d.gang,nil)fo=GetHashKey("PLAYER")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j1(hh)jh=j5.criminal.medics;ky=j5.criminal.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8=j5.criminal.special;fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf={}bm.special_ability=ff.none;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.coastguard=function()fd=true;Wait(30)c(d.gang,27)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh={}ky={}j6=j5.coastguard.weaponshops;kC=j5.coastguard.carshops;kZ={}kz={}jf={}kx={}jc={}l8=j5.coastguard.special;fg=lh.COASTGUARD;fh=lg.POLICE;fi={x=-1183.4830322266,y=-1773.9500732422,z=4.1827969551086,angle=18.77464294434}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.coastguard;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.reporters=function()fd=true;Wait(30)c(d.gang,26)fo=GetHashKey("CIVMALE")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.news.skinshops;j6={}kC=j5.news.carshops;kZ=j5.criminal.repairshops;kz={}jf=j5.criminal.armorshops;kx={}jc={}l8={}fg=lh.REPORTERS;fh=lg.POLICE;fi={x=-598.76989746094,y=-929.91925048828,z=23.863523483276,angle=90.001}lj()j2(fx)fw=false;bm.civilian=true;bm.is_cop=false;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.reporter;bm.special_ability_amount=0;bm.special_ability_timestamp=nil end;hi.firefighters=function()fd=true;Wait(30)c(d.gang,24)fo=GetHashKey("FIREMAN")SetPedRelationshipGroupHash(PlayerPedId(),fo)GiveWeaponToPed(PlayerPedId(),101631238,1000,false,true)li()j2(hh)jh=j5.lsfd.medics;ky={}j6={}kC=j5.lsfd.carshops;kZ=j5.lsfd.repairshops;kz={}jf={}kx={}jc={}l8={}fg=lh.LSFD;fh=lg.POLICE;fi={x=215.01205444336,y=-1651.2668457031,z=29.803216934204,angle=51.658428192139}lj()j2(fx)fw=false;bm.civilian=true;bm.is_cop=false;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.firefighter;bm.special_ability_amount=0;bm.special_ability_timestamp=nil end;hi.paramedics=function()fd=true;Wait(30)c(d.gang,23)fo=GetHashKey("MEDIC")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh={}ky=j5.paramedics.skinshops;j6={}kC=j5.paramedics.carshops;kZ=j5.paramedics.repairshops;kz={}jf={}kx={}jc={}l8={}fg=lh.MEDICS;fh=lg.POLICE;fi={x=294.99197387695,y=-1447.7286376953,z=29.966623306274,angle=320.92782592773}lj()j2(fx)fw=false;bm.civilian=true;bm.is_cop=false;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.medic;bm.special_ability_amount=0;bm.special_ability_timestamp=nil end;hi.lost=function()fd=true;Wait(30)c(d.gang,11)fo=GetHashKey("AMBIENT_GANG_LOST")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lost.medics;ky=j5.lost.skinshops;j6=j5.lost.weaponshops;kC=j5.lost.carshops;kZ=j5.lost.repairshops;kz=j5.lost.mercenaries;jf=j5.lost.armorshops;kx=j5.lost.clothes;jc=j5.lost.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=false;lf=hj.lost;bm.special_ability=ff.bikeregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.lspdheavy=function()fd=true;Wait(30)c(d.gang,7)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.lspdheavy.weaponshops;kC=j5.lspdheavy.carshops;kZ=j5.lspd.repairshops;kz={}jf=j5.lspdheavy.armorshops;kx=j5.lspdheavy.clothes;jc=j5.lspd.weapon_upgrade_shops;l8={}fg=lh.LSPDHEAVY;fh=lg.POLICE;fi={x=441.19030761719,y=-981.13079833984,z=30.689605712891}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.smallmedkit;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.detectivesheavy=function()fd=true;Wait(30)c(d.gang,34)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.detectivesheavy.weaponshops;kC=j5.detectivesheavy.carshops;kZ=j5.lspd.repairshops;kz={}jf=j5.detectivesheavy.armorshops;kx=j5.detectivesheavy.clothes;jc=j5.lspd.weapon_upgrade_shops;l8={}fg=lh.DETECTIVESHEAVY;fh=lg.POLICE;fi={x=441.19030761719,y=-981.13079833984,z=30.689605712891}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.smallmedkit;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.detectives=function()fd=true;Wait(30)c(d.gang,25)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.detectives.weaponshops;kC=j5.detectives.carshops;kZ=j5.lspd.repairshops;kz={}jf={}kx=j5.detectives.clothes;jc={}l8={}fg=lh.DETECTIVES;fh=lg.POLICE;fi={x=452.10980224609,y=-984.57336425781,z=26.674234390259}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.evidence;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.security=function()fd=true;Wait(30)c(d.gang,28)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.security.weaponshops;kC=j5.security.carshops;kZ=j5.lspd.repairshops;kz={}jf={}kx=j5.security.clothes;jc={}l8={}fg=lh.SECURITY;fh=lg.POLICE;fi={x=452.10980224609,y=-984.57336425781,z=26.674234390259}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.evidence;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.nysp=function()fd=true;Wait(30)c(d.gang,29)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.nysp.weaponshops;kC=j5.nysp.carshops;kZ=j5.lspd.repairshops;kz={}jf={}kx=j5.nysp.clothes;jc={}l8={}fg=lh.NYSP;fh=lg.POLICE;fi={x=983.95819091797,y=2718.9309082031,z=39.503421783447}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.fastlowregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.borderpatrol=function()fd=true;Wait(30)c(d.gang,31)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky={}j6=j5.borderpatrol.weaponshops;kC=j5.borderpatrol.carshops;kZ=j5.lspd.repairshops;kz={}jf={}kx=j5.borderpatrol.clothes;jc=j5.lspd.weapon_upgrade_shops;l8={}fg=lh.BORDERPATROL;fh=lg.POLICE;fi={x=441.19030761719,y=-981.13079833984,z=30.689605712891}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.fastlowregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.lspd=function()fd=true;Wait(30)c(d.gang,8)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.lspd.medics;ky=j5.lspd.skinshops;j6=j5.lspd.weaponshops;kC=j5.lspd.carshops;kZ=j5.lspd.repairshops;kz={}jf={}kx=j5.lspd.clothes;jc=j5.lspd.weapon_upgrade_shops;l8={}fg=lh.LSPD;fh=lg.POLICE;fi={x=441.19030761719,y=-981.13079833984,z=30.689605712891}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.evidence;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.sspdheavy=function()fd=true;Wait(30)c(d.gang,33)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.sspd.medics;ky={}j6=j5.sspdheavy.weaponshops;kC=j5.sspd.carshops;kZ={}kz={}jf=j5.sspdheavy.armorshops;kx=j5.sspdheavy.clothes;jc={}l8={}fg=lh.SSPD;fh=lg.POLICE;fi={x=1853.5550537109,y=3689.3596191406,z=34.267066955566}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.fastlowregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.sspd=function()fd=true;Wait(30)c(d.gang,5)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.sspd.medics;ky=j5.sspd.skinshops;j6=j5.sspd.weaponshops;kC=j5.sspd.carshops;kZ={}kz={}jf={}kx={}jc={}l8={}fg=lh.SSPD;fh=lg.POLICE;fi={x=1853.5550537109,y=3689.3596191406,z=34.267066955566}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.fastlowregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.sahpheavy=function()fd=true;Wait(30)c(d.gang,32)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.sahp.medics;ky={}j6=j5.sahpheavy.weaponshops;kC=j5.sahp.carshops;kZ=j5.sahp.repairshops;kz={}jf=j5.sahpheavy.armorshops;kx=j5.sahpheavy.clothes;jc={}l8={}fg=lh.SAHPHEAVY;fh=lg.POLICE;fi={x=-448.84234619141,y=6013.0473632813,z=31.716390609741}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.regenincar;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.sahp=function()fd=true;Wait(30)c(d.gang,4)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.sahp.medics;ky=j5.sahp.skinshops;j6=j5.sahp.weaponshops;kC=j5.sahp.carshops;kZ=j5.sahp.repairshops;kz={}jf={}kx={}jc={}l8={}fg=lh.SAHP;fh=lg.POLICE;fi={x=-448.84234619141,y=6013.0473632813,z=31.716390609741}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.regenincar;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.sapr=function()fd=true;Wait(30)c(d.gang,6)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.sapr.medics;ky=j5.sapr.skinshops;j6=j5.sapr.weaponshops;kC=j5.sapr.carshops;kZ={}kz={}jf={}kx={}jc=j5.sapr.weapon_upgrade_shops;l8={}fg=lh.SAPR;fh=lg.POLICE;fi={x=379.21508789063,y=792.20190429688,z=190.40716552734}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.baseregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.noose=function()fd=true;Wait(30)c(d.gang,3)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.noose.medics;ky=j5.noose.skinshops;j6=j5.noose.weaponshops;kC=j5.noose.carshops;kZ={}kz={}jf=j5.noose.armorshops;kx={}jc=j5.noose.weapon_upgrade_shops;l8={}fg=lh.NOOSE;fh=nil;fi={x=2475.6059570313,y=-384.12286376953,z=94.399314880371}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.regeninvan;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.navy=function()fd=true;Wait(30)c(d.gang,1)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.military.medics;ky=j5.navy.skinshops;j6=j5.navy.weaponshops;kC=j5.navy.carshops;kZ={}kz={}jf=j5.navy.armorshops;kx={}jc={}l8={}fg=lh.NAVY;fh=nil;fi={x=-2345.8854980469,y=3268.2790527344,z=32.810749053955}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.armorregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.military=function()fd=true;Wait(30)c(d.gang,2)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.military.medics;ky=j5.military.skinshops;j6=j5.military.weaponshops;kC=j5.military.carshops;kZ={}kz={}jf=j5.military.armorshops;kx={}jc={}l8={}fg=lh.MILITARY;fh=lg.POLICE;fi={x=-2345.8854980469,y=3268.2790527344,z=32.810749053955}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.ammoregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.fbiswat=function()fd=true;Wait(30)c(d.gang,9)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.fbi.medics;ky=j5.fbiswat.skinshops;j6=j5.fbiswat.weaponshops;kC=j5.fbiswat.carshops;kZ=j5.fbi.repairshops;kz=j5.fbi.mercenaries;jf=j5.fbi.armorshops;kx=j5.fbiswat.clothes;jc=j5.fbiswat.weapon_upgrade_shops;l8=j5.fbi.special;fg=lh.FBISWAT;fh=nil;fi={x=115.88011169434,y=-748.78686523438,z=45.7516746521}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.friendsregen;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.fbi=function()fd=true;Wait(30)c(d.gang,10)fo=GetHashKey("COP")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.fbi.medics;ky=j5.fbi.skinshops;j6=j5.fbi.weaponshops;kC=j5.fbi.carshops;kZ=j5.fbi.repairshops;kz=j5.fbi.mercenaries;jf=j5.fbi.armorshops;kx=j5.fbi.clothes;jc=j5.fbi.weapon_upgrade_shops;l8=j5.fbi.special;fg=nil;fh=nil;fi={x=115.88011169434,y=-748.78686523438,z=45.7516746521}lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=true;lf=hj.government;SetMaxWantedLevel(5)bm.special_ability=ff.seeweaponsinhands;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetPedAsCop(PlayerPedId(),true)end;hi.merc=function()fd=true;Wait(30)c(d.gang,12)fo=GetHashKey("AGGRESSIVE_INVESTIGATE")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.merc.medics;ky=j5.merc.skinshops;j6=j5.merc.weaponshops;kC=j5.merc.carshops;kZ=j5.merc.repairshops;kz=j5.merc.mercenaries;jf=j5.merc.armorshops;kx=j5.merc.clothes;jc=j5.merc.weapon_upgrade_shops;l8=j5.merc.special;fg=nil;fh=nil;lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=false;lf=hj.mercs;bm.special_ability=ff.reusehealthandarmor;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.anarchy=function()fd=true;Wait(30)c(d.gang,13)fo=GetHashKey("MISSION2")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.anarchy.medics;ky=j5.anarchy.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.anarchy.repairshops;kz=j5.criminal.mercenaries;jf=j5.anarchy.armorshops;kx=j5.anarchy.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.anarchy;bm.special_ability=ff.anarchyfixandfire;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.ballas=function()fd=true;Wait(30)c(d.gang,14)fo=GetHashKey("AMBIENT_GANG_BALLAS")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.ballas.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.ballas;bm.special_ability=ff.pill;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.fams=function()fd=true;Wait(30)c(d.gang,15)fo=GetHashKey("AMBIENT_GANG_FAMILY")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.fams.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.fams;bm.special_ability=ff.weed;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.vagos=function()fd=true;Wait(30)c(d.gang,16)fo=GetHashKey("AMBIENT_GANG_MEXICAN")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.vagos.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.vagos;bm.special_ability=ff.heroin;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.salva=function()fd=true;Wait(30)c(d.gang,17)fo=GetHashKey("AMBIENT_GANG_SALVA")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.salva.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.salva;bm.special_ability=ff.exchange;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.triads=function()fd=true;Wait(30)c(d.gang,18)fo=GetHashKey("AMBIENT_GANG_WEICHENG")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.triads.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.triads;bm.special_ability=ff.stim;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.armmob=function()fd=true;Wait(30)c(d.gang,19)fo=GetHashKey("AMBIENT_GANG_MARABUNTE")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.mobs.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.armmob;bm.special_ability=ff.alco;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.heister=function()fd=true;Wait(30)c(d.gang,20)fo=GetHashKey("MISSION3")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.criminal.medics;ky=j5.heisters.skinshops;j6=j5.criminal.weaponshops;kC=j5.criminal.carshops;kZ=j5.criminal.repairshops;kz=j5.criminal.mercenaries;jf=j5.criminal.armorshops;kx=j5.criminal.clothes;jc=j5.criminal.weapon_upgrade_shops;l8=j5.heisters.special;fg=nil;fh=nil;lj()j1(fx)fw=true;bm.civilian=false;bm.is_cop=false;lf=hj.heister;bm.special_ability=ff.lockpick;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.cartel=function()fd=true;Wait(30)c(d.gang,21)fo=GetHashKey("AMBIENT_GANG_MEXICAN")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.cartel.medics;ky=j5.cartel.skinshops;j6=j5.cartel.weaponshops;kC=j5.cartel.carshops;kZ=j5.cartel.repairshops;kz=j5.cartel.mercenaries;jf=j5.cartel.armorshops;kx=j5.cartel.clothes;jc=j5.cartel.weapon_upgrade_shops;l8={}fg=nil;fh=nil;lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=false;lf=hj.cartel;bm.special_ability=ff.anyveh;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.pirates=function()fd=true;Wait(30)c(d.gang,30)fo=GetHashKey("MISSION5")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.pirates.medics;ky=j5.pirates.skinshops;j6=j5.pirates.weaponshops;kC=j5.pirates.carshops;kZ={}kz={}jf={}kx=j5.pirates.clothes;jc={}l8=j5.pirates.special;fg=nil;fh=nil;lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=false;lf=hj.pirates;bm.special_ability=ff.coastguard;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hi.elite=function()fd=true;Wait(30)c(d.gang,22)fo=GetHashKey("MISSION4")SetPedRelationshipGroupHash(PlayerPedId(),fo)li()j2(hh)jh=j5.elite.medics;ky=j5.elite.skinshops;j6=j5.elite.weaponshops;kC=j5.elite.carshops;kZ=j5.elite.repairshops;kz=j5.elite.mercenaries;jf=j5.elite.armorshops;kx=j5.elite.clothes;jc=j5.elite.weapon_upgrade_shops;l8=j5.elite.special;fg=nil;fh=nil;lj()j2(fx)fw=false;bm.civilian=false;bm.is_cop=false;lf=hj.elite;bm.special_ability=ff.losewantedlevel;bm.special_ability_amount=0;bm.special_ability_timestamp=nil;SetMaxWantedLevel(5)end;hh[1]={func=hi.navy,x=-2349.6596679688,y=3268.3637695313,z=32.810760498047,sprite=60,color=26,markercolor={255,200,128,128},name="Join Navy",models=fB.NAVY,removeweapons=true}hh[2]={func=hi.military,x=-2345.8854980469,y=3268.2790527344,z=32.810749053955,sprite=60,color=52,markercolor={255,200,128,128},name="Join Military",models=fB.MILITARY,removeweapons=true}hh[3]={func=hi.noose,x=2475.6059570313,y=-384.12286376953,z=94.399314880371,sprite=60,color=29,markercolor={128,128,255,128},name="Join SWAT",models=fB.NOOSE,components={[10]={0,0}},removeweapons=true}hh[4]={func=hi.sahp,x=-448.84234619141,y=6013.0473632813,z=31.716390609741,sprite=60,color=39,markercolor={128,128,128,128},name="Join SAHP",models=fB.SAHP,removeweapons=true}hh[5]={func=hi.sspd,x=1853.5550537109,y=3689.3596191406,z=34.267066955566,sprite=60,color=5,markercolor={255,255,128,128},name="Join SSPD",models=fB.SSPD,removeweapons=true}hh[6]={func=hi.sapr,x=379.21508789063,y=792.20190429688,z=190.40716552734,sprite=60,color=2,markercolor={128,255,128,128},name="Join SAPR",models=fB.SAPR,removeweapons=true}hh[7]={func=hi.lspdheavy,x=446.41818237305,y=-986.47784423828,z=26.674211502075,sprite=60,color=3,markercolor={128,128,255,128},name="Join LSPD Heavy Unit",models={1581098148},components={[9]=2},removeweapons=true}hh[8]={func=hi.lspd,x=441.19030761719,y=-981.13079833984,z=30.689605712891,sprite=60,color=3,markercolor={128,128,255,128},name="Join LSPD",models=fB.LSPD,components={[9]=0},removeweapons=true}hh[9]={func=hi.fbiswat,x=156.0267791748,y=-741.1162109375,z=242.15208435059,sprite=60,color=4,markercolor={128,128,255,128},name="Join FBI SWAT",models={-1145735340},removeweapons=true}hh[10]={func=hi.fbi,x=115.88011169434,y=-748.78686523438,z=45.7516746521,sprite=60,color=4,markercolor={128,128,255,128},name="Join FBI",models=fB.FBI,removeweapons=true}hh[11]={func=hi.lost,x=984.76843261719,y=-91.682571411133,z=74.848892211914,sprite=378,color=62,markercolor={150,150,150,128},name="Join Lost M.C.",models=fB.LOST}hh[12]={func=hi.merc,x=484.337890625,y=-3052.2468261719,z=6.2286891937256,sprite=431,color=65,markercolor={150,150,200,128},name="Join Mercs",models=fB.MERCS}hh[13]={func=hi.anarchy,x=707.38952636719,y=-967.00140380859,z=30.412853240967,sprite=442,color=25,markercolor={150,150,200,128},name="Join Anarchists",models=fB.ANARCHY}hh[14]={func=hi.ballas,x=78.277633666992,y=-1974.7937011719,z=20.911375045776,sprite=491,color=83,markercolor={200,0,200,128},name="Join Ballas",models=fB.BALLAS}hh[15]={func=hi.fams,x=-11.148657798767,y=-1433.2587890625,z=31.116823196411,sprite=491,color=69,markercolor={0,200,0,128},name="Join Families",models=fB.FAMILIES}hh[16]={func=hi.vagos,x=967.79791259766,y=-1828.583984375,z=31.236526489258,sprite=491,color=46,markercolor={200,200,0,128},name="Join Vagos",models=fB.VAGOS}hh[17]={func=hi.salva,x=1230.8974609375,y=-1591.1851806641,z=53.820705413818,sprite=491,color=18,markercolor={0,0,200,128},name="Join Salva",models=fB.SALVA}hh[18]={func=hi.triads,x=-775.37646484375,y=-890.73687744141,z=21.605070114136,sprite=491,color=49,markercolor={200,0,0,128},name="Join Triads",models=fB.TRIADS}hh[19]={func=hi.armmob,x=-429.05123901367,y=-1728.0805664063,z=19.783840179443,sprite=491,color=39,markercolor={200,0,0,128},name="Join Armenian Mobs",models=fB.MOBS}hh[20]={func=hi.heister,x=134.90467834473,y=323.68109130859,z=116.72046661377,sprite=362,color=45,markercolor={125,125,125,128},name="Join Heisters",models=fB.HEISTERS}hh[21]={func=hi.cartel,x=1394.7595214844,y=1141.8107910156,z=114.61865997314,sprite=84,color=47,markercolor={125,125,125,128},name="Join Cartel",models=fB.CARTEL}hh[22]={func=hi.elite,x=-70.679946899414,y=359.08154296875,z=112.44521331787,sprite=432,color=4,markercolor={255,255,255,128},name="Join Elite Security",models=fB.ELITE}hh[23]={func=hi.paramedics,x=294.99197387695,y=-1447.7286376953,z=29.966623306274,sprite=61,color=8,markercolor={255,200,128,128},name="Join Medics",models=fB.MEDICS,removeweapons=true}hh[24]={func=hi.firefighters,x=199.41911315918,y=-1634.6833496094,z=29.80322265625,sprite=436,color=75,markercolor={255,0,0,128},name="Join LSFD",models=fB.LSFD,removeweapons=true}hh[25]={func=hi.detectives,x=452.10980224609,y=-984.57336425781,z=26.674234390259,sprite=60,color=3,markercolor={128,128,255,128},name="Join Detectives",models=fB.DETECTIVES,removeweapons=true}hh[26]={func=hi.reporters,x=-598.76989746094,y=-929.91925048828,z=23.863523483276,sprite=564,color=3,markercolor={128,128,255,128},name="Join Journalists",models=fB.REPORTERS,removeweapons=true}hh[27]={func=hi.coastguard,x=-1183.4830322266,y=-1773.9500732422,z=4.1827969551086,sprite=60,color=3,markercolor={128,128,255,128},name="Join Coast Guard",models=fB.COASTGUARD,removeweapons=true}hh[28]={func=hi.security,x=452.05499267578,y=-988.650390625,z=26.674213409424,sprite=60,color=32,markercolor={128,128,255,128},name="Join Security",models=fB.SECURITY,removeweapons=true}hh[30]={func=hi.pirates,x=1300.7890625,y=4318.7763671875,z=38.15548324585,sprite=310,color=62,markercolor={150,150,150,128},name="Join Pirates",models=fB.PIRATES}hh[31]={func=hi.borderpatrol,x=459.73217773438,y=-989.12731933594,z=24.914863586426,sprite=60,color=40,markercolor={255,255,128,128},name="Join Border patrol",models=fB.BORDERPATROL,removeweapons=true}hh[32]={func=hi.sahpheavy,x=-449.955078125,y=6016.1772460938,z=31.716381072998,sprite=60,color=39,markercolor={128,128,255,128},name="Join SAHP Heavy Unit",models=fB.SAHP,components={[8]=1},removeweapons=true}hh[33]={func=hi.sspdheavy,x=1856.8243408203,y=3689.5991210938,z=34.267040252686,sprite=60,color=5,markercolor={255,255,128,128},name="Join SSPD Heavy Unit",models={-1320879687},components={[9]=2},removeweapons=true}hh[34]={func=hi.detectivesheavy,x=438.92700195313,y=-995.31280517578,z=30.689601898193,sprite=60,color=3,markercolor={128,128,255,128},name="Join Armored detectives",models=fB.DETECTIVESHEAVY,components={[8]=1},removeweapons=true}for u,iY in pairs(hh)do hh[u].cost=gang_economy[u][2]end;local function lk(ll,lm)if lm==PlayerPedId()then SimpleNotification("You killed yourself.")else Citizen.CreateThread(function()Wait(800)DecorSetBool(lm,fp.teamkiller_punished,true)end)SimpleNotification(ll)c(d.factionban,12,cO.x,cO.y,cO.z,bm.last_faction)if not IsPedInAnyVehicle(PlayerPedId(),false)then Wait(2000)local ln="combat@damage@injured_pistol@to_writhe"local lo="variation_b"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,10000,0,0,0,0,0)end;Wait(6250)SetEntityHealth(PlayerPedId(),0.0)end;hi.criminal()end;local function lp(ped,lq)local fZ=lf[GetEntityModel(ped)]or lf[GetPedRelationshipGroupHash(ped)]if fZ then if type(fZ)=="function"then fZ=fZ(ped)if fZ then lk("~r~You "..lq.." "..fZ..".",ped)end else lk("~r~You "..lq.." "..fZ..".",ped)end end end;Citizen.CreateThread(function()while true do Wait(0)local ped=PlayerPedId()local Y=GetVehiclePedIsUsing(ped)if Y~=nil and Y~=0 then if bm.civilian then local bZ=GetSeatPedIsTryingToEnter(ped)local another_ped=GetPedInVehicleSeat(Y,bZ)if another_ped~=0 and another_ped~=ped then ClearPedTasks(ped)else local aW=GetEntityModel(Y)local lr=GetVehicleModelNumberOfSeats(aW)local ls=false;local lt=false;local lu=false;for u=-1,lr-1 do another_ped=GetPedInVehicleSeat(Y,u)if another_ped~=0 and ped~=another_ped and GetEntityHealth(another_ped)>0 then if IsPedCop(another_ped)then lu=true elseif gA[GetEntityModel(another_ped)]then lt=true else ls=true end end end;if fg~=nil then if bZ==-1 then local lv=false;if fg[aW]then lv=true end;if not lv then ClearPedTasks(ped)local lw=false;if lu then for u=0,lr-1 do if IsVehicleSeatFree(Y,u)then TaskEnterVehicle(ped,Y,10000,u,1.0,0,0)lw=true;SetPedAsCop(ped,true)SimpleNotification("Can be a passenger.")break end end end;if not lw then TaskLeaveVehicle(ped,Y,0)SimpleNotification("You can't drive this on your own.")end;SimpleNotification("You can drive only faction vehicles.")else SetVehicleDoorsLocked(Y,1)end end end end elseif bm.is_cop then local bZ=GetSeatPedIsTryingToEnter(ped)local another_ped=GetPedInVehicleSeat(Y,bZ)if another_ped~=0 and not IsPedCop(another_ped)then SimpleNotification("Throwing civilian/criminal out of car.")else local aW=GetEntityModel(Y)local lr=GetVehicleModelNumberOfSeats(aW)local ls=false;local lt=false;local lu=false;for u=-1,lr-1 do another_ped=GetPedInVehicleSeat(Y,u)if another_ped~=0 and ped~=another_ped and GetEntityHealth(another_ped)>0 then if IsPedCop(another_ped)then lu=true elseif gA[GetEntityModel(another_ped)]then lt=true else ls=true end end end;if ls then ClearPedTasks(ped)TaskLeaveVehicle(ped,Y,0)SimpleNotification("You can't get in car with criminals.")elseif fg~=nil then if bZ==-1 then local lv=false;if fg[aW]then lv=true end;if not lv then ClearPedTasks(ped)local lw=false;if lu then for u=0,lr-1 do if IsVehicleSeatFree(Y,u)then TaskEnterVehicle(ped,Y,10000,u,1.0,0,0)lw=true;SimpleNotification("Can be a passenger.")break end end end;if not lw then TaskLeaveVehicle(ped,Y,0)SimpleNotification("You can't drive this on your own.")end;SimpleNotification("You can drive only faction vehicles.")else SetVehicleDoorsLocked(Y,1)end end end end else local aW=GetEntityModel(Y)local lr=GetVehicleModelNumberOfSeats(aW)local lu=false;for u=-1,lr-1 do another_ped=GetPedInVehicleSeat(Y,u)if another_ped~=0 and ped~=another_ped and GetEntityHealth(another_ped)>0 then if IsPedCop(another_ped)then lu=true end end end;if lu then DisableControlAction(0,24,false)DisableControlAction(0,47,false)DisableControlAction(0,58,false)DisableControlAction(0,91,false)DisableControlAction(0,92,false)DisableControlAction(0,263,false)DisableControlAction(0,264,false)DisableControlAction(0,257,false)DisableControlAction(0,140,false)DisableControlAction(0,141,false)DisableControlAction(0,142,false)DisableControlAction(0,143,false)DisablePlayerFiring(PlayerId(),true)end end end end end)a(d.join_gang)b(d.join_gang,function(lx)local g=hh[lx]bm.last_faction=lx;local ly=false;local ped=PlayerPedId()local lz=GetEntityModel(ped)for _,lA in pairs(g.models)do if lz==lA then ly=true;break end end;if ly then if g.removeweapons then for _,lB in pairs(WEAPON)do if HasPedGotWeapon(ped,lB)then RemoveWeaponFromPed(ped,lB)end end end else local aW=g.models[math.random(#g.models)]if g.removeweapons then jk(aW)else jl(aW)end;ped=PlayerPedId()end;gm(ped,g.components)g.func()end)Citizen.CreateThread(function()local lC={[-1600252419]=true,[1543134283]=true,[-32236122]=true,[562680400]=true,[-692292317]=true,[-1860900134]=true,[-1924433270]=true,[74062924]=true,[-2096818938]=true,[1180875963]=true,[1356124575]=true,[1897744184]=true,[-114627507]=true}Wait(6500)i_(hh)local lD;while true do Wait(0)local lE=PlayerPedId()local j5=GetPedRelationshipGroupHash(lE)if bm.civilian or bm.is_cop then if fh~=nil and fh[GetSelectedPedWeapon(lE)]==nil then DisableControlAction(0,24,false)DisableControlAction(0,47,false)DisableControlAction(0,58,false)DisableControlAction(0,263,false)DisableControlAction(0,264,false)DisableControlAction(0,257,false)DisableControlAction(0,140,false)DisableControlAction(0,141,false)DisableControlAction(0,142,false)DisableControlAction(0,143,false)DisablePlayerFiring(PlayerId(),true)SetTextCentre(true)ew(4,"You can't use this weapon.",0.45,255,0,0,255,0.5,0.75)end;local lF=nil;if lD==nil then lD={}end;if IsPedInAnyVehicle(lE)then local fQ=GetVehiclePedIsUsing(lE)if lE==GetPedInVehicleSeat(fQ,-1)or lC[GetEntityModel(fQ)]then lF=fQ end end;if lF~=nil then for ped in EnumeratePeds()do if not DecorExistOn(ped,fp.civilianbecamecriminal)and not DecorExistOn(ped,fp.teamkiller_punished)then local lG=GetPedKiller(ped)if lG==lE then lp(ped,"killed")elseif lG==lF then lp(ped,"ran over")elseif lD[ped]and GetEntityHealth(ped)<1 then lp(ped,"betrayed")end end end else for ped in EnumeratePeds()do if not DecorExistOn(ped,fp.civilianbecamecriminal)and not DecorExistOn(ped,fp.teamkiller_punished)then local lG=GetPedKiller(ped)if lG==lE then lp(ped,"killed")elseif lD[ped]and GetEntityHealth(ped)<1 then lp(ped,"betrayed")end end end end;local bX=GetGameTimer()local lH,lI=GetPedLastWeaponImpactCoord(lE)if lH then local lJ=PlayerId()for u=lJ-1,0,-1 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if GetEntityHealth(ped)>0 then local fZ=lf[GetEntityModel(ped)]if fZ==nil then fZ=lf[GetPedRelationshipGroupHash(ped)]end;if fZ then local gr=GetEntityCoords(ped)if#(gr-lI)<1 then lD[ped]=bX;SimpleNotification("You hit ~a~ and now personally responsible for their life.",fZ)end end end end end;for u=lJ+1,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if GetEntityHealth(ped)>0 then local fZ=lf[GetEntityModel(ped)]if fZ==nil then fZ=lf[GetPedRelationshipGroupHash(ped)]end;if fZ then local gr=GetEntityCoords(ped)if#(gr-lI)<1 then lD[ped]=bX;SimpleNotification("You hit ~a~ and now personally responsible for their life.",fZ)end end end end end else for ped,dd in pairs(lD)do if dd+20000<bX or not(lf[GetEntityModel(ped)]or lf[GetPedRelationshipGroupHash(ped)])then lD[ped]=nil end end end elseif j5~=1862763509 and lf then local lF=nil;if IsPedInAnyVehicle(lE)then local fQ=GetVehiclePedIsUsing(lE)if lE==GetPedInVehicleSeat(fQ,-1)or lC[GetEntityModel(fQ)]then lF=fQ end end;if lF~=nil then for ped in EnumeratePeds()do if not DecorExistOn(ped,fp.teamkiller_punished)then local lG=GetPedKiller(ped)if lG==lE then lp(ped,"killed")elseif lG==lF then lp(ped,"ran over")end end end else for ped in EnumeratePeds()do if not DecorExistOn(ped,fp.teamkiller_punished)then local lG=GetPedKiller(ped)if lG==lE then lp(ped,"killed")end end end end else if lD~=nil then lD=nil end;cO=GetEntityCoords(PlayerPedId())for f,g in pairs(hh)do local iK=(g.x-cO.x)*(g.x-cO.x)+(g.y-cO.y)*(g.y-cO.y)+(g.z-cO.z)*(g.z-cO.z)if iK<100 then DrawMarker(1,g.x,g.y,g.z-1,0.0,0.0,0.0,0.0,0.0,0.0,0.7,0.7,0.35,g.markercolor[1],g.markercolor[2],g.markercolor[3],g.markercolor[4],false,true,2,false,false,false,false)if iK<4 and not bm.is_dead then if IsControlPressed(0,86)and bm.wanted==0 and bm.money and bm.money>=g.cost then c(d.join_gang,f)Wait(1000)else SimpleHelpText("You need to have ~g~$~1~\n~s~Press ~INPUT_VEH_HORN~ to ~g~~a~~s~.",g.cost,g.name)end end end end end end end)local function lK(lL)DrawSprite(lL.dict,lL.sprite,.5,.5,1.0,1.0,.0,lL.bgcolor[1],lL.bgcolor[2],lL.bgcolor[3],lL.bgcolor[4])end;local function lM(ey,lN,lL)SetTextColour(255,255,255,255)local lO=90;local lP=lN;local lQ=lP;local lR=1;if string.len(ey)>lO then while true do local lS=string.find(ey,"\n",lR)if lS==nil or lS>lO then if lR==1 then ey="Error:overflow"break end;SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])TextCommandDisplayText(.05,lP,string.sub(ey,1,lR-2))ey=string.sub(ey,lR)lR=1;lP=lQ;if string.len(ey)<lO then break end else lQ=lQ+lL.cursor_step;lR=lS+1 end end end;SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])TextCommandDisplayText(.05,lP,ey)end;local function lT(ey,lN,lL)SetTextColour(255,255,255,255)local lO=98;local lP=lN;local lQ=lP;local lR=1;if string.len(ey)>lO then while true do local lS=string.find(ey,"\n",lR)if lS==nil or lS>lO then if lR==1 then ey="Error:overflow"break end;SetTextWrap(0,9.9)SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])TextCommandDisplayText(.05,lP,string.sub(ey,1,lR-2))ey=string.sub(ey,lR)lR=1;lP=lQ;if string.len(ey)<lO then break end else lQ=lQ+lL.cursor_step;lR=lS+1 end end end;SetTextWrap(0,9.9)SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])TextCommandDisplayText(.05,lP,ey)end;local function lU(ey,lL)SetTextRenderId(GetMobilePhoneRenderId())lK(lL)lM(ey,lL.text_offset,lL)SetTextRenderId(1)end;local function lV(ey,lW,lL)local lX=lL.cursor_step*.5;local lY=1;local lN=lL.text_offset;local lZ=lN-lX;while not IsControlJustPressed(0,177)and not fd do if IsControlJustPressed(0,172)then if lY>1 then lY=lY-1 else lY=#lW end elseif IsControlJustPressed(0,173)then if lY<#lW then lY=lY+1 else lY=1 end elseif IsControlJustPressed(0,176)then Wait(0)lW[lY](lL)end;if lY>lL.maxlines then lN=lL.text_offset-(lY-lL.maxlines)*lL.cursor_step;lZ=lL.text_offset-lX+lL.maxlines*lL.cursor_step else lN=lL.text_offset;lZ=lN-lX+lY*lL.cursor_step end;SetTextRenderId(GetMobilePhoneRenderId())lK(lL)DrawRect(.5,lZ,.9,lL.cursor_step,lL.cursor_color[1],lL.cursor_color[2],lL.cursor_color[3],lL.cursor_color[4])lT(ey,lN,lL)SetTextRenderId(1)Wait(5)end end;gK.app=function(lL)while not IsControlJustPressed(0,177)and not fd do local bB=GetFirstBlipInfoId(8)if bB~=0 and(gK.blip==nil or bB~=gK.blip)then gK.setblip(bB)elseif gK.blip~=nil and gK.blip~=0 and bB==0 then gK.off()end;SetTextRenderId(GetMobilePhoneRenderId())if bB==nil then bB="nil"end;lM("Use waypoint to control autopilot.\n"..bB,lL.text_offset,lL)SetTextRenderId(1)Wait(5)end;gK.off()end;local l_={hash=nil,mission_is_active=false,mission_ped=nil,mission_net=nil,mission_trackify=false}local function m0()local T,U;while true do T=math.random(-1450,1450)U=math.random(-1450,1450)if T*T+U*U<2102500 then break end;Wait(0)end;T=T-44.8;U=U-706.756;return T,U end;local function m1()local T,U=m0()local m2=AddBlipForCoord(T,U,50.0)SetBlipDisplay(m2,8)SetBlipAsShortRange(m2,true)SetBlipColour(m2,3)SetBlipAlpha(m2,100)local m3=AddBlipForCoord(T,U,50.0)SetBlipDisplay(m3,8)SetBlipSprite(m3,4)SetBlipAsShortRange(m3,false)local bB=AddBlipForRadius(T,U,100.0,100.0)SetBlipDisplay(bB,2)SetBlipSprite(bB,9)SetBlipColour(bB,3)SetBlipAlpha(bB,100)while true do local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-T,cO.y-U;if a4*a4+a5*a5<10000 then break end;SimpleNotification("Go to target area.")SetBlipColour(bB,1)if IsBlipOnMinimap(m2)then SetBlipDisplay(m3,0)SetBlipColour(m2,1)else SetBlipDisplay(m3,8)end;Wait(250)TextCommandPrint(500,true,"Go to target area.")SetBlipColour(bB,3)if IsBlipOnMinimap(m2)then SetBlipDisplay(m3,0)SetBlipColour(m2,3)else SetBlipDisplay(m3,8)end;Wait(250)end;RemoveBlip(bB)RemoveBlip(m3)RemoveBlip(m2)end;local function m4(T,U,dC)dC=dC*dC;local aZ=0;for ped in EnumeratePeds()do local m5=IsPedInAnyVehicle(ped)if not IsPedAPlayer(ped)and IsPedHuman(ped)and NetworkHasControlOfEntity(ped)and GetEntityHealth(ped)>0 and(not m5 or IsAnyVehicleSeatEmpty(GetVehiclePedIsUsing(ped))and not(IsPedInAnyPlane(ped)or IsPedInAnyHeli(ped)))then local cO=GetEntityCoords(ped)if(m5 or cO.z>.01)and math.abs(cO.x)+math.abs(cO.y)>.01 then local a4,a5=cO.x-T,cO.y-U;local eA=a4*a4+a5*a5;if eA>dC then dC=eA;aZ=ped end end end end;return aZ end;l_.mission_failed=function()SetModelAsNoLongerNeeded(l_.hash)l_.hash=nil;SimpleNotification("Signal lost.")l_.mission_trackify=false;l_.mission_ped=nil;l_.mission_net=nil;l_.mission_is_active=false;c(d.debug,4283)end;l_.mission=function()local gx={"A_M_M_MexLabor_01","S_M_M_AutoShop_01","A_M_Y_Beach_02","A_M_Y_BeachVesp_01","A_M_Y_BeachVesp_02","A_M_M_BevHills_01","A_M_Y_BevHills_01","A_M_M_BevHills_02","A_M_Y_BevHills_02","A_M_Y_BusiCas_01","A_M_Y_Business_02","A_M_Y_Business_03","S_M_O_Busker_01","A_M_Y_Cyclist_01","S_M_Y_Dealer_01","A_M_Y_Downtown_01","A_M_M_EastSA_01","A_M_Y_EastSA_01","A_M_M_EastSA_02","A_M_Y_EastSA_02","U_M_M_Edtoh","A_M_Y_Gay_01","A_M_M_GenFat_01","A_M_M_GenFat_02","A_M_Y_GenStreet_01","A_M_Y_GenStreet_02","A_M_Y_Golfer_01","S_M_Y_Grip_01","A_M_Y_Indian_01","A_M_M_KTown_01","A_M_O_KTown_01","A_M_Y_KTown_01","A_M_Y_KTown_02","A_M_Y_Latino_01","U_M_Y_Party_01","A_M_M_Polynesian_01","A_M_Y_Polynesian_01","S_M_Y_Robber_01","A_M_Y_Runner_02","A_M_M_Skater_01","A_M_Y_Skater_01","A_M_Y_Skater_02","A_M_M_Skidrow_01","A_M_M_SoCenLat_01","A_M_M_SouCent_01","A_M_M_SouCent_02","A_M_M_SouCent_03","A_M_M_SouCent_04","A_M_O_SouCent_01","A_M_O_SouCent_02","A_M_O_SouCent_03","A_M_Y_SouCent_01","A_M_Y_SouCent_02","A_M_Y_SouCent_03","A_M_Y_SouCent_04","A_M_Y_StBla_01","A_M_Y_StBla_02","A_M_Y_StLat_01","A_M_M_StLat_02","G_M_Y_StrPunk_01","G_M_Y_StrPunk_02","S_M_Y_StrVend_01","A_M_Y_StWhi_01","A_M_Y_StWhi_02","A_M_Y_Sunbathe_01","U_M_Y_Tattoo_01","A_M_Y_VinDouche_01"}ReserveNetworkMissionPeds(1)c(d.debug,4357)m1()c(d.debug,4359)l_.hash=GetHashKey(gx[math.random(#gx)])RequestModel(l_.hash)while not HasModelLoaded(l_.hash)do Wait(0)end;while true do local cO=GetEntityCoords(PlayerPedId())l_.mission_ped=m4(cO.x,cO.y,50.0)if l_.mission_ped then cO=GetEntityCoords(l_.mission_ped)if IsPedInAnyVehicle(l_.mission_ped)then local Y=GetVehiclePedIsUsing(l_.mission_ped)for u=-1,GetVehicleMaxNumberOfPassengers(Y)-1 do if IsVehicleSeatFree(Y,u)then l_.mission_ped=CreatePedInsideVehicle(Y,4,l_.hash,u,true,false)if l_.mission_ped then l_.mission_net=fK(l_.mission_ped)TaskEnterVehicle(l_.mission_ped,Y,0,u,2.0,16,0)if u==-1 then Wait(100)TaskVehicleDriveWander(l_.mission_ped,Y,1.0,786603)end;goto m6 end end end else l_.mission_ped=CreatePed(4,l_.hash,cO.x,cO.y,cO.z,0.0,true,false)if l_.mission_ped then l_.mission_net=fK(l_.mission_ped)TaskWanderStandard(l_.mission_ped,10.0,10)goto m6 end end end;Wait(1000)end::m6::SetPedRandomComponentVariation(l_.mission_ped,false)c(d.debug,4399)l_.mission_trackify=true;while GetEntityHealth(l_.mission_ped)>0 do SimpleNotification("Signal detected. Use ~r~Hitman ~s~app on your phone to measure distance to target.")TextCommandPrint(1000,false,"Use ~r~hitman app ~s~in your phone to find target.")if not l_.mission_ped or l_.hash~=GetEntityModel(l_.mission_ped)then return l_.mission_failed()end;Wait(1000)end;if not l_.mission_ped or l_.hash~=GetEntityModel(l_.mission_ped)then return l_.mission_failed()end;c(d.debug,4419)SetModelAsNoLongerNeeded(l_.hash)l_.hash=nil;l_.mission_trackify=false;RemovePedElegantly(l_.mission_ped)Wait(4000)if GetPlayerWantedLevel(PlayerId())==0 then c(d.pay,'hitman',3000)c(d.debug,4426)else c(d.pay,'hitman',2000)c(d.debug,4428)end;DeletePed(l_.mission_ped)l_.mission_ped=nil;l_.mission_net=nil;l_.mission_is_active=false end;l_.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if l_.mission_trackify then local m7=GetEntityCoords(l_.mission_ped)local l1=GetEntityCoords(PlayerPedId())local a4,a5,d5=m7.x-l1.x,m7.y-l1.y,m7.z-l1.z;local ey=string.format("%.1fm",math.sqrt(a4*a4+a5*a5+d5*d5))SetTextRenderId(GetMobilePhoneRenderId())lM("Distance:\n"..ey,.05,lL)SetTextRenderId(1)elseif l_.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM("Scanning...",.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then l_.mission_is_active=true;Citizen.CreateThread(l_.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local m8={mission_is_active=false,mission_veh=nil,mission_net=nil,mission_plate=nil,mission_trackify=false}local function m9(T,U,dC)dC=dC*dC;local fH=nil;local aZ=0;for Y in EnumerateVehicles()do if GetVehicleClass(Y)<10 and not IsEntityAMissionEntity(Y)and NetworkHasControlOfEntity(Y)then local ma=GetVehicleNumberPlateText(Y)if ma then local cO=GetEntityCoords(Y)local a4,a5=cO.x-T,cO.y-U;local eA=a4*a4+a5*a5;if GetPedInVehicleSeat(Y,-1)==0 then eA=eA+eA end;if eA>dC then dC=eA;aZ=Y;fH=ma end end end end;return fH,aZ end;m8.mission=function()c(d.debug,4497)m1()c(d.debug,4499)while true do local cO=GetEntityCoords(PlayerPedId())m8.mission_plate,m8.mission_veh=m9(cO.x,cO.y,100.0)if m8.mission_veh then break end;Wait(1000)end;m8.mission_net=fK(m8.mission_veh)m8.mission_trackify=true;local bB=AddBlipForCoord(-255.311,-2586.180,5.3760)SetBlipSprite(bB,89)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,46)SetBlipName(bB,"Get carjacked vehicle here")while GetVehicleEngineHealth(m8.mission_veh)>1.0 do if m8.mission_net~=NetworkGetNetworkIdFromEntity(m8.mission_veh)or GetVehicleNumberPlateText(m8.mission_veh)~=m8.mission_plate then m8.mission_trackify=false;SimpleNotification("Losing signal! Get closer if possible.")for u=1,120 do local mb=fG(m8.mission_plate)if mb~=nil and mb~=0 then m8.mission_veh=mb;m8.mission_net=NetworkGetNetworkIdFromEntity(m8.mission_veh)m8.mission_trackify=true;SimpleNotification("Found it again!")break end;Wait(250)end;if not m8.mission_trackify then fW(m8.mission_plate)SimpleNotification("Signal lost.")Wait(1000)SimpleNotification("Carjack mission over.")m8.mission_veh=nil;m8.mission_net=nil;m8.mission_plate=nil;m8.mission_is_active=false;return end end;SimpleNotification("Signal detected. Use ~y~Carjack ~s~app on your phone to measure distance to vehicle.")local cO=GetEntityCoords(m8.mission_veh)local a4,a5,d5=cO.x+255.311,cO.y+2586.180,cO.z-5.3760;if a4*a4+a5*a5+d5*d5<25 then SimpleNotification("Mission success.")c(d.pay,'carjack',2000)c(d.debug,4561)m8.mission_trackify=false;SetVehicleUndriveable(m8.mission_veh,true)DeleteVehicle(m8.mission_veh)m8.mission_veh=nil;m8.mission_net=nil;m8.mission_plate=nil;m8.mission_is_active=false;RemoveBlip(bB)return end;if IsPedInAnyVehicle(PlayerPedId())and GetVehicleNumberPlateText(GetVehiclePedIsUsing(PlayerPedId()))==m8.mission_plate then TextCommandPrint(1000,true,"Get vehicle to ~y~C ~s~icon.")else TextCommandPrint(1000,true,"Use ~y~carjack app ~s~in your phone to find vehicle. Then get vehicle to ~y~C ~s~icon.")end;Wait(1000)end;SimpleNotification("~r~Vehicle is broken.")m8.mission_trackify=false;Wait(1000)DeleteVehicle(m8.mission_veh)m8.mission_veh=nil;m8.mission_net=nil;m8.mission_plate=nil;m8.mission_is_active=false end;m8.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if m8.mission_trackify then local m7=GetEntityCoords(m8.mission_veh)local l1=GetEntityCoords(PlayerPedId())local a4,a5,d5=m7.x-l1.x,m7.y-l1.y,m7.z-l1.z;local ey=math.floor(math.sqrt(a4*a4+a5*a5+d5*d5))ey="Distance:"..ey.."m\n"if m8.mission_plate then ey=ey..m8.mission_plate end;local mc,md=GetStreetNameAtCoord(m7.x,m7.y,m7.z)ey=ey.."\n"..GetStreetNameFromHashKey(mc)ey=ey.."\n"..GetStreetNameFromHashKey(md)SetTextRenderId(GetMobilePhoneRenderId())lM(ey,.05,lL)SetTextRenderId(1)elseif m8.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM("Scanning...",.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then m8.mission_is_active=true;Citizen.CreateThread(m8.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local me={autopilot_old=false,autopilot=false,mission_is_active=false,mission_state="Error"}me.mission=function()local mf={{x=-1551.138671875,y=-3122.1628417969,z=15.1},{x=-2120.6645507813,y=2965.7944335938,z=34.0}}local gF=mf[math.random(#mf)]local mg=math.random(1,5)local mh=math.random(1,5)local cO=GetEntityCoords(PlayerPedId())local mi={mg,mh}mg=gJ.universe_x+mg;mh=gJ.universe_y+mh;local bB=gV(gF.x,gF.y,gF.z,mg,mh)if me.autopilot then me.mission_state="Autopilot:on"else me.mission_state="Autopilot:off"end;c(d.debug,4649,{cO.x,cO.y,gJ.universe_x,gJ.universe_y,gF.x,gF.y,mg,mh})Wait(100)while true do cO=GetEntityCoords(PlayerPedId())local mj,mk=gR(bB)local a4,a5=mj-cO.x,mk-cO.y;if me.autopilot and not me.autopilot_old then if gK.setblip(bB)then me.autopilot_old=me.autopilot;me.mission_state="Autopilot:on"else me.autopilot=me.autopilot_old end elseif me.autopilot_old and not me.autopilot then gK.off()me.autopilot_old=me.autopilot;me.mission_state="Autopilot:off"else local ml=math.sqrt(a4*a4+a5*a5)local X=GetEntitySpeed(PlayerPedId())if ml<300.0 and X<1.0 then break else local mm;if me.autopilot then mm="Autopilot:on\n"else mm="Autopilot:off\n"end;mm=mm..fD(math.floor(ml*.01)*.1).."km\n"..math.floor(X*3.6).."km/h\n"mm=mm.."Alt. "..math.floor(cO.z).."m\n"if X>.1 then local dd=ml/X;local dK=dd;local h=math.floor(dK/3600)dK=dK-h*3600;local mn=math.floor(dK/60)dK=math.floor(dK-mn*60)mm=mm..h.."h"..mn.."m"..dK.."s"end;me.mission_state=mm end end;Wait(1000)end;gW(bB)me.mission_state="Success."c(d.pay,'pilot',math.floor(math.sqrt(mi[1]*mi[1]+mi[2]*mi[2])*2500))c(d.debug,4696)ClearPedTasks(PlayerPedId())me.autopilot_old=false;me.autopilot=false;Wait(5000)me.mission_is_active=false end;me.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if me.mission_is_active then if IsControlJustPressed(0,176)then me.autopilot=not me.autopilot end;SetTextRenderId(GetMobilePhoneRenderId())lM(me.mission_state,.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then me.autopilot=false;me.mission_is_active=true;Citizen.CreateThread(me.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?\nYou will need a plane.",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local mo={mission_is_active=false,mission_state="Error"}mo.mission=function()local mp={-2140210194,-1207431159,-1476447243,2078290630,2091594960,-1352468814,-1770643266,-730904777,1956216962,2016027501,-877478386,-1579533167,-2058878099}local mq={{x=1180.5511474609,y=-3243.6540527344,z=6.0287680625916,angle=173.47682189941},{x=514.30084228516,y=-3028.4931640625,z=5.7183485031128,angle=91.194473266602},{x=209.55111694336,y=-3327.1547851563,z=5.7933807373047,angle=269.31860351563},{x=-525.61871337891,y=-2902.2983398438,z=5.6917433738708,angle=22.932670593262},{x=-438.03256225586,y=-2268.783203125,z=7.2989959716797,angle=269.51089477539},{x=-1223.6895751953,y=-2341.8015136719,z=13.636587142944,angle=328.10488891602},{x=-2579.615234375,y=1929.2371826172,z=167.07209777832,angle=256.46075439453},{x=-2529.7067871094,y=2340.224609375,z=32.750713348389,angle=213.58680725098},{x=-2010.7397460938,y=3425.7580566406,z=30.804550170898,angle=84.078025817871},{x=-2199.2419433594,y=4256.52734375,z=47.539615631104,angle=22.102794647217},{x=-1576.3927001953,y=5152.7412109375,z=19.627981185913,angle=190.47175598145},{x=-577.72412109375,y=5325.7646484375,z=69.929847717285,angle=340.39096069336}}local gE=math.random(#mq)local gF=math.random(#mq-1)if gE==gF then gE=#mq end;gE=mq[gE]gF=mq[gF]local cO=GetEntityCoords(PlayerPedId())c(d.debug,4770,{gE.x,gE.y,gE.z,gF.x,gF.y,gF.z,cO.x,cO.y,cO.z})local bB=AddBlipForCoord(gE.x,gE.y,gE.z)SetBlipSprite(bB,479)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,2)SetBlipName(bB,"Trailer")mo.mission_state="Get the trailer"while true do local cO=GetEntityCoords(PlayerPedId())if math.abs(cO.x-gE.x)<30.0 and math.abs(cO.y-gE.y)<30.0 and math.abs(cO.z-gE.z)<30.0 then break end;TextCommandPrint(500,true,"Get the ~g~trailer~s~.")Wait(500)end;c(d.debug,4788)SetBlipCoords(bB,gF.x,gF.y,gF.z)SetBlipSprite(bB,79)SetBlipDisplay(bB,2)SetBlipScale(bB,1.0)SetBlipColour(bB,2)SetBlipName(bB,"Leave trailer here")local mr=iU(mp[math.random(#mp)],gE.x,gE.y,gE.z,gE.angle)local fH=GetVehicleNumberPlateText(mr)SetEntityAsMissionEntity(mr,true,true)local ms=AddBlipForEntity(mr)SetBlipSprite(ms,479)SetBlipDisplay(ms,2)SetBlipScale(ms,1.0)SetBlipColour(ms,2)mo.mission_state="Get trailer to\nthe destination"while true do local cO=GetEntityCoords(mr)if math.abs(cO.x-gF.x)<30.0 and math.abs(cO.y-gF.y)<30.0 and math.abs(cO.z-gF.z)<30.0 then SimpleNotification("Mission success.")RemoveBlip(bB)c(d.pay,'trucker',(math.abs(gE.x-gF.x)+math.abs(gE.y-gF.y)+math.abs(gE.z-gF.z))*2)c(d.debug,4813)mo.mission_state="Success"Wait(10000)DeleteVehicle(mr)mo.mission_is_active=false;return else TextCommandPrint(1000,true,"Get ~g~trailer~s~ to the ~g~T ~s~icon.")end;Wait(1000)end end;mo.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if mo.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM(mo.mission_state,.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then mo.mission_is_active=true;Citizen.CreateThread(mo.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?\nYou will need a truck.",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local mt={mission_state="Error"}mt.truck_models={[1917016601]=true,[-1255698084]=true}mt.trash_models={[1813879595]=true,[1388308576]=true,[1948359883]=true,[897494494]=true,[600967813]=true,[-1681329307]=true,[1098827230]=true}mt.intruck=0;mt.collected={}mt.blips={}mt.makeblip=function(T,U,V)local bB=AddBlipForCoord(T,U,V)SetBlipSprite(bB,365)SetBlipScale(bB,.7)SetBlipColour(bB,2)return bB end;a(d.garbage)b(d.garbage,function(mu)if type(mu)=="table"then mt.collected=mu else mt.collected[mu]=true end end)a(d.garbage_add)b(d.garbage_add,function(mu)mt.collected[mu]=nil end)mt.hash=function(T,U,V)return math.floor(T)*127~math.floor(U)~math.floor(V)*1023 end;mt.base={x=-348.16033935547,y=-1533.0646972656,z=27.707433700562}mt.mission=function()c(d.garbage)while true do Wait(0)local ped=PlayerPedId()if IsPedInAnyVehicle(ped)then local Y=GetVehiclePedIsUsing(ped)if mt.truck_models[GetEntityModel(Y)]then mt.truck=Y;local cO=GetEntityCoords(ped)if math.abs(cO.x-mt.base.x)+math.abs(cO.y-mt.base.y)<20.0 and math.abs(cO.z-mt.base.z)<3.0 then for f,g in pairs(mt.blips)do RemoveBlip(g)mt.blips[f]=nil end;if mt.intruck>0 then c(d.pay,"garbage",20*mt.intruck)mt.mission_state=mt.intruck.." collected"SimpleNotification(mt.mission_state)mt.intruck=0;Wait(2000)mt.mission_is_active=false;return else mt.mission_state="Collect garbage bags."end else for dj in EnumerateObjects()do if mt.trash_models[GetEntityModel(dj)]then local mv=GetEntityCoords(dj)local mw;if DecorExistOn(dj,fp.garbage_bag)then mw=DecorGetInt(dj,fp.garbage_bag)else mw=mt.hash(mv.x,mv.y,mv.z)DecorSetInt(dj,fp.garbage_bag,mw)end;if mt.collected[mw]then SetEntityAsMissionEntity(dj,true)DeleteObject(dj)elseif not mt.blips[mw]then mt.blips[mw]=mt.makeblip(mv.x,mv.y,mv.z)end end end;mt.mission_state="Move collected garbage back to base."end end elseif GetEntityModel(ped)==-294281201 then local Y=mt.truck;if Y~=nil then if mt.truck_models[GetEntityModel(Y)]then local cO=GetEntityCoords(ped)local mx=GetEntityCoords(Y)local a4,a5,d5=cO.x-mx.x,cO.y-mx.y,cO.z-mx.z;local my=a4*a4+a5*a5+d5*d5<666.0;for dj in EnumerateObjects()do if mt.trash_models[GetEntityModel(dj)]then local mv=GetEntityCoords(dj)local mw;if DecorExistOn(dj,fp.garbage_bag)then mw=DecorGetInt(dj,fp.garbage_bag)else mw=mt.hash(mv.x,mv.y,mv.z)DecorSetInt(dj,fp.garbage_bag,mw)end;if mt.collected[mw]then SetEntityAsMissionEntity(dj,true)DeleteObject(dj)else if my and math.abs(mv.x-cO.x)+math.abs(mv.y-cO.y)+math.abs(mv.z-cO.z)<3.0 then mt.collected[mw]=true;local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end;SetEntityAsMissionEntity(dj,true)DeleteObject(dj)mt.intruck=mt.intruck+1;c(d.garbage,mw)elseif not mt.blips[mw]then mt.blips[mw]=mt.makeblip(mv.x,mv.y,mv.z)end end end end;if my then mt.mission_state=mt.intruck.." collected."else mt.mission_state="Truck is too far."end;local mw=mt.hash(cO.x,cO.y,cO.z-1.0)if mt.collected[mw]then local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end end;mw=mt.hash(cO.x-1,cO.y,cO.z-1.0)if mt.collected[mw]then local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end end;mw=mt.hash(cO.x+1,cO.y,cO.z-1.0)if mt.collected[mw]then local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end end;mw=mt.hash(cO.x,cO.y-1,cO.z-1.0)if mt.collected[mw]then local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end end;mw=mt.hash(cO.x,cO.y+1,cO.z-1.0)if mt.collected[mw]then local bB=mt.blips[mw]if bB then RemoveBlip(bB)mt.blips[mw]=nil end end else mt.truck=nil end else mt.mission_state="You can use Waypoints app to find where you can rent the trash truck."end;if mt.base_blip~=nil then SetBlipRoute(mt.base_blip,false)RemoveBlip(mt.base_blip)mt.base_blip=nil end else mt.mission_state="Change to work clothes at base."if mt.base_blip==nil then mt.base_blip=AddBlipForCoord(-321.84967041016,-1545.7795410156,31.019914627075)SetBlipRoute(mt.base_blip,true)end end end end;mt.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if mt.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM(mt.mission_state,.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then mt.mission_is_active=true;Citizen.CreateThread(mt.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?\nYou will need a trash truck.",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local mz={}mz.chat_hook=nil;mz.fucked_up=false;mz.agreed=false;mz.hackernames={"G4057","Ghost","Cypher","Neuromancer","N3ur0m4nc3r","Flatline"}mz.greetings={"Hello,","Hey,","Hi,","Good driving,"}mz.goodwords={"nice","great","good","cool"}mz.badwords={"stupid","silly"}mz.disappointment={"I'm disappoint son.","I'm disappointed.","You are useless."}mz.score=0;mz.minscore=10;mz.chance=10;mz.mission_state="Loading..."mz.mission_is_active=false;mz.remove_blip=function()if mz.blip~=nil then SetBlipRoute(mz.blip,false)RemoveBlip(mz.blip)mz.blip=nil end end;mz.passenger_kill_driver_inside=function()local mA=PlayerPedId()local Y=GetVehiclePedIsIn(mA)if mz.passenger~=nil and GetVehiclePedIsIn(mz.passenger)==Y and GetEntityHealth(mz.passenger)>0 and GetEntityHealth(mA)>0 then GiveWeaponToPed(mz.passenger,GetHashKey("WEAPON_PISTOL50"),1000,false,true)local mB=GetEntityBoneIndexByName(Y,'seat_dside_f')local mC=GetWorldPositionOfEntityBone(Y,mB)local mD=GetEntityCoords(mz.passenger)TaskVehicleShootAtCoord(mz.passenger,mC.x*2-mD.x,mC.y*2-mD.y,mC.z*2-mD.z,3000)Wait(600)SetEntityHealth(PlayerPedId(),0)Wait(1300)TaskWanderStandard(mz.passenger,9.99,10)end end;mz.passenger_kill_driver_driver_exiting=function()local mA=PlayerPedId()if mz.passenger~=nil and GetEntityHealth(mz.passenger)>0 and GetEntityHealth(mA)>0 then GiveWeaponToPed(mz.passenger,GetHashKey("WEAPON_PISTOL50"),1000,false,true)SetAiWeaponDamageModifier(50000.0)TaskVehicleAimAtPed(mz.passenger,mA)Wait(1000)for u=0,5 do if IsPedFatallyInjured(PlayerPedId())then break end;Wait(500)end;ResetAiWeaponDamageModifier()TaskWanderStandard(mz.passenger,9.99,10)end end;mz.failed=function(ll)mz.mission_state=ll;mz.remove_blip()if mz.passenger~=nil then RemovePedFromGroup(mz.passenger)SetBlockingOfNonTemporaryEvents(mz.passenger,false)mz.passenger=nil end;Wait(5000)mz.mission_is_active=false end;mz.place_blip=function(T,U,V)if mz.blip==nil then mz.blip=AddBlipForCoord(T,U,V)else SetBlipCoords(mz.blip,T,U,V)end;SetBlipRoute(mz.blip,true)end;local function mE(T,U,dC)dC=dC*dC;local aZ=0;for ped in EnumeratePeds()do local m5=IsPedInAnyVehicle(ped)if not IsPedAPlayer(ped)and IsPedHuman(ped)and GetEntityHealth(ped)>0 and not m5 then local cO=GetEntityCoords(ped)if cO.z>.01 and math.abs(cO.x)+math.abs(cO.y)>.01 then local a4,a5=cO.x-T,cO.y-U;local eA=a4*a4+a5*a5;if eA<dC then dC=eA;aZ=ped end end end end;return aZ end;a('chat_bot:player')mz.mission=function()local T,U=m0()local c_,d0,mi=T,U,0;while true do local mA=PlayerPedId()if IsPedInAnyVehicle(mA)then local g1=PlayerId()local Y=GetVehiclePedIsUsing(mA)if GetEntityModel(Y)==-956048545 then mz.mission_state="~y~Go to yellow area to pick up passenger."while math.abs(T-cO.x)+math.abs(U-cO.y)<300.0 do T,U=m0()Wait(0)end;mz.place_blip(T,U,80.0)while true do Wait(0)if GetPlayerWantedLevel(g1)>0 then mz.score=0;return mz.failed("~r~Mission failed! You've got wanted level.")elseif GetVehicleEngineHealth(Y)<300 then mz.score=0;return mz.failed("~r~Mission failed! You've damaged your car.")elseif mz.passenger==nil then if math.abs(cO.x-T)+math.abs(cO.y-U)<50.0 then mz.passenger=mE(cO.x,cO.y,80.0)if mz.passenger==0 then mz.passenger=nil else c_,d0,mz.mission_state=T,U,"~y~Pick up passenger."c(d.debug,6437,{T,U})T,U=m0()while math.abs(T-cO.x)+math.abs(U-cO.y)<300.0 do T,U=m0()Wait(0)end;local mF,mG=GetStreetNameAtCoord(T,U,80.0)if mF==mG or mG==0 then mz.passenger_said="~y~Take me to\n"..GetStreetNameFromHashKey(mF).."."else mz.passenger_said="~y~Take me to\n"..GetStreetNameFromHashKey(mF).." and "..GetStreetNameFromHashKey(mG).." cross."end end end elseif GetEntityHealth(mz.passenger)==0 then return mz.failed("~r~Mission failed! Passenger died.")elseif not IsPedInAnyVehicle(mz.passenger)then local mH=GetEntityCoords(mz.passenger)mz.place_blip(mH.x,mH.y,mH.z)if GetVehiclePedIsUsing(mz.passenger)~=Y then ClearPedTasks(mz.passenger)if math.abs(cO.x-mH.x)+math.abs(cO.y-mH.y)<10.0 then TaskEnterVehicle(mz.passenger,Y,20000,2,1.0,1,0)end;SetBlockingOfNonTemporaryEvents(mz.passenger,true)end;mz.mission_state=mz.passenger_said elseif math.abs(cO.x-T)+math.abs(cO.y-U)<30.0 then mz.score=mz.score+1;if mz.score<mz.minscore or math.random(1,100)>mz.chance then mz.mission_state="~y~Stop right here."ClearPedTasks(mz.passenger)TaskUseNearestScenarioToCoord(mz.passenger,cO.x,cO.y,cO.z,300.0,0)Wait(1000)while IsPedInAnyVehicle(mz.passenger)do TaskUseNearestScenarioToCoord(mz.passenger,cO.x,cO.y,cO.z,300.0,0)Wait(1000)end;mz.remove_blip()Wait(1000)SetBlockingOfNonTemporaryEvents(mz.passenger,false)c_,d0=c_-T,d0-U;mi=math.floor(math.sqrt(c_*c_+d0*d0)/15+10)c(d.pay,'taxidriver',mi)c(d.debug,6480,{T,U})mz.passenger=nil;mz.mission_is_active=false else local mI=mz.hackernames[math.random(1,#mz.hackernames)]local mJ=mz.greetings[math.random(1,#mz.greetings)]local mK=mz.badwords[math.random(1,#mz.badwords)]local mL=mz.goodwords[math.random(1,#mz.goodwords)]local mM={math.random(0,255),math.random(0,255),math.random(0,255)}local mN=GetPlayerName(PlayerId())local mO=ScGetNickname()local mP=GetPlayerServerId(PlayerId())mz.agreed=false;mz.fucked_up=false;mz.remove_blip()if mz.chat_hook==nil then mz.chat_hook=b('chat_bot:player',function(dU,mQ)mQ=string.lower(mQ)mQ:gsub('%W','')if dU==mP then if mQ=='ok'or mQ=='okay'or mQ=='kay'or mQ=='k'or mQ=='yes'or mQ=='ye'or mQ=='y'or mQ=='fine'or mQ=='sure'or mQ=='sure thing'or mQ=='got it'or mQ=='ofc'or mQ=='understood'then if not mz.agreed then local mR=mz.goodwords[math.random(1,#mz.goodwords)]TriggerEvent("chatMessage",mI,mM,mR)end;mz.agreed=true else mz.fucked_up=true end end end)end;mz.mission_state=string.format("~y~Error 0x%8X",math.random(0,0xFFFFFFFF)|math.random(0,0xFFFF))if mN~=mO then TriggerEvent("chatMessage",mI,mM,mJ.." "..mN..". Or should I say "..mO.."?")else TriggerEvent("chatMessage",mI,mM,mJ.." "..mN..".")end;Citizen.CreateThread(function()Wait(1000)TriggerEvent("chatMessage",mI,mM,"Rules changed. Only you see my messages and trust me you don't want anyone else know what we are doing.")Wait(3000)TriggerEvent("chatMessage",mI,mM,"Don't talk or type anything in chat except when I ask you to.")Wait(2500)TriggerEvent("chatMessage",mI,mM,"Don't fucking dare doing anything "..mK..". Or you will die.")Wait(2000)TriggerEvent("chatMessage",mI,mM,"Do what I say and everything will be "..mL..". Understood? Type 'yes'.")Wait(2000)if not mz.fucked_up and not mz.agreed then if math.random(1,2)==1 then TriggerEvent("chatMessage",mI,mM,"I'm only giving you 20 seconds to think about it.")else TriggerEvent("chatMessage",mI,mM,"20 seconds to comply.")end;Wait(5000)end;if not mz.fucked_up and not mz.agreed then if math.random(1,2)==1 then TriggerEvent("chatMessage",mI,mM,"You now have 15 seconds to comply.")else TriggerEvent("chatMessage",mI,mM,"15 seconds to comply.")end;Wait(5000)end;if not mz.fucked_up and not mz.agreed then TriggerEvent("chatMessage",mI,mM,"10 seconds to comply.")Wait(10000)end;if not mz.fucked_up and not mz.agreed then TriggerEvent("chatMessage",mI,mM,"5 seconds to comply.")Wait(5000)end;if not mz.fucked_up and not mz.agreed then TriggerEvent("chatMessage",mI,mM,"Time is up.")Wait(1000)if not mz.agreed then mz.fucked_up=true end end;Wait(5000)if not mz.fucked_up then TriggerEvent("chatMessage",mI,mM,"Don't draw any attention, drive normally, not too fast, stop at red light.")Wait(5000)end;if not mz.fucked_up then TriggerEvent("chatMessage",mI,mM,"Don't tell anyone about me.")Wait(5000)end;while not mz.fucked_up do local mA=PlayerId()local cO=GetEntityCoords(PlayerPedId())local mS;local iJ=mA;local mT=1000000.0;local mU=50.0;local mV=mU*mU;local mW=0;for u=mA-1,0,-1 do if NetworkIsPlayerActive(u)then local mX=GetEntityCoords(GetPlayerPed(u))local a4,a5,d5=cO.x-mX.x,cO.y-mX.y,cO.z-mX.z;local ml=a4*a4+a5*a5+d5*d5;if ml>4.0 then if ml<mT then mT=ml;mS=mX;iJ=u end;if ml<mV then mW=mW+1 end end end end;for u=mA+1,31 do if NetworkIsPlayerActive(u)then local mX=GetEntityCoords(GetPlayerPed(u))local a4,a5,d5=cO.x-mX.x,cO.y-mX.y,cO.z-mX.z;local ml=a4*a4+a5*a5+d5*d5;if ml>4.0 then if ml<mT then mT=ml;mS=mX;iJ=u end;if ml<mV then mW=mW+1 end end end end;if mW>1 then if mW~=mz.players_in_min_radius then TriggerEvent("chatMessage",mI,mM,"There are "..mW.." people in "..mU.." meter radius around us.")mz.players_in_min_radius=mW end elseif iJ~=mA then local f0=math.floor((math.sqrt(mT)+5)/10)*10;if mz.closest_player_dist~=f0 then TriggerEvent("chatMessage",mI,mM,"Closest player is "..f0 .." meters from us.")mz.closest_player_dist=f0 end end;Wait(10000)end end)while true do if GetEntityHealth(mz.passenger)==0 then mz.fucked_up=true;print("???? died")break elseif mA~=PlayerPedId()or GetEntityHealth(mA)<99 then mz.fucked_up=true;TaskWanderStandard(mz.passenger,9.99,10)print("player ped changed(death?)")break elseif GetVehiclePedIsIn(mA)~=Y then mz.fucked_up=true;mz.passenger_kill_driver_driver_exiting()break elseif mz.fucked_up then local mY=mz.disappointment[math.random(1,#mz.disappointment)]TriggerEvent("chatMessage",mI,mM,mY)mz.passenger_kill_driver_inside()break elseif GetVehicleEngineHealth(Y)<300 then mz.fucked_up=true;TaskWanderStandard(mz.passenger,9.99,10)print("vehicle damaged")break else end;Wait(0)end;if mz.chat_hook~=nil then RemoveEventHandler(mz.chat_hook)mz.chat_hook=nil end;Wait(10000)mz.mission_is_active=false end;return else mz.place_blip(T,U,80.0)mz.mission_state=mz.passenger_said end end else mz.mission_state="~y~Go to yellow blip and get taxicab."mz.place_blip(887.78521728516,-182.7448425293,73.222465515137)while not IsPedInAnyVehicle(PlayerPedId())or GetEntityModel(GetVehiclePedIsUsing(PlayerPedId()))~=-956048545 do Wait(1000)end end else mz.mission_state="~y~Go to yellow blip and get taxicab."mz.place_blip(887.78521728516,-182.7448425293,73.222465515137)while not IsPedInAnyVehicle(PlayerPedId())or GetEntityModel(GetVehiclePedIsUsing(PlayerPedId()))~=-956048545 do Wait(1000)end end;Wait(1000)end end;mz.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if mz.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM(mz.mission_state,.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then mz.mission_is_active=true;Citizen.CreateThread(mz.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?\nYou will need a taxicab.",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local mZ={action=0,mission_state="Loading..."}local function m_(T,U,dC)dC=dC*dC;local n0=1;local aZ=0;for ped in EnumeratePeds()do if not IsPedAPlayer(ped)and IsPedHuman(ped)and GetEntityHealth(ped)>0 and hj.government[GetEntityModel(ped)]==nil then local cO=GetEntityCoords(ped)if cO.z>.01 and math.abs(cO.x)+math.abs(cO.y)>.01 then local a4,a5=cO.x-T,cO.y-U;local eA=a4*a4+a5*a5;if eA<dC and eA>n0 then n0=eA;aZ=ped end end end end;return aZ end;mZ.randgun={WEAPON.SNSPISTOL,WEAPON.VINTAGEPISTOL,WEAPON.SNSPISTOLMK2,WEAPON.COMBAT,WEAPON.PISTOL,WEAPON.PISTOL50,WEAPON.MICROSMG,WEAPON.SNIPERRIFLE,WEAPON.PUMPSHOTGUN,WEAPON.MACHINEPISTOL,WEAPON.MUSKET,WEAPON.GUSENBERG,WEAPON.SAWNOFFSHOTGUN,WEAPON.MARKSMANRIFLE,WEAPON.MARKSMANPISTOL,WEAPON.HEAVYPISTOL,WEAPON.HEAVYSHOTGUN,WEAPON.REVOLVER,WEAPON.DOUBLEACTION}mZ.mission=function()local n1=GetHashKey("PRISONER")mZ.action=0;mZ.timestamp=GetGameTimer()mZ.mission_state="~b~Patrol the streets."while true do Wait(1000)mZ.action=math.random(1,8)if mZ.action~=1 then Wait(1000)else mZ.criminal=m_(cO.x,cO.y,35)while mZ.criminal==0 do Wait(0)mZ.criminal=m_(cO.x,cO.y,35)end;if hj.government[GetPedRelationshipGroupHash(mZ.criminal)]~=nil then SetPedRelationshipGroupHash(mZ.criminal,n1)DecorSetBool(mZ.criminal,fp.civilianbecamecriminal,true)end;GiveWeaponToPed(mZ.criminal,mZ.randgun[math.random(#mZ.randgun)],1000,false,true)local n2=GetEntityCoords(mZ.criminal)mZ.victim=mE(n2.x,n2.y,50)while mZ.criminal==mZ.victim do Wait(100)mZ.victim=GetRandomPedAtCoord(cO.x,cO.y,cO.z,100.0,100.0,30.0,4)end;TaskCombatPed(mZ.criminal,mZ.victim,0,16)end;local ls=0;local n3=0;for ped in EnumeratePeds()do if not IsPedAPlayer(ped)and GetPedRelationshipGroupHash(ped)==n1 and not IsEntityAMissionEntity(ped)then ls=ls+1;if GetEntityHealth(ped)==0 then n3=n3+1 end end end;local bX=GetGameTimer()if math.abs(bX-mZ.timestamp)>60000 then mZ.timestamp=bX;c(d.pay,'patrol',math.random(1,2)*200+100)c(d.debug,6602,{cO.x,cO.y,cO.z,ls,n3})end;if not(bm.civilian or bm.is_cop)then mZ.mission_is_active=false;return end end end;Citizen.CreateThread(function()local n1=GetHashKey("PRISONER")local h3=GetHashKey("COP")while true do Wait(0)if bm.civilian or bm.is_cop then for ped in EnumeratePeds()do if not IsPedAPlayer(ped)then local be=GetSelectedPedWeapon(ped)local jL=GetPedRelationshipGroupHash(ped)if be~=0 and be~=-1 and be~=966099553 and be~=WEAPON.UNARMED and hj.government[jL]~=nil then if hj.government[GetEntityModel(ped)]==nil then if jL~=n1 then SetPedRelationshipGroupHash(ped,n1)end;DecorSetBool(mZ.criminal,fp.civilianbecamecriminal,true)elseif jL~=h3 then SetPedRelationshipGroupHash(ped,h3)end end end end end end end)mZ.app=function(lL)while not IsControlJustPressed(0,177)and not fd do if mZ.mission_is_active then SetTextRenderId(GetMobilePhoneRenderId())lM(mZ.mission_state,.05,lL)SetTextRenderId(1)elseif IsControlJustPressed(0,176)then mZ.mission_is_active=true;Citizen.CreateThread(mZ.mission)else SetTextRenderId(GetMobilePhoneRenderId())lM("Start mission?",.05,lL)SetTextRenderId(1)end;Wait(0)end end;local n4=nil;local function n5(lL,cI)local n6=""local n7={}local n8={}local u=0;local gi={[0]=4,[1]=2,[2]=2,[3]=46,[4]=51,[5]=1}for f,g in pairs(cI)do if fk[f]then local fZ=fk[f].name;if fZ then if string.sub(fZ,1,6)=="Steal "then fZ=string.upper(string.sub(fZ,7,7))..string.sub(fZ,8)elseif string.sub(fZ,-5)==" loot"then fZ=string.sub(fZ,1,-6)end;if n7[fZ]then local d2,d3,d4=cO.x-n7[fZ].x,cO.y-n7[fZ].y,cO.z-n7[fZ].z;local hH,hI,hJ=cO.x-fk[f].x,cO.y-fk[f].y,cO.z-fk[f].z;if hH*hH+hI*hI+hJ*hJ<d2*d2+d3*d3+d4*d4 then n7[fZ].blip=g;n7[fZ].x=fk[f].x;n7[fZ].y=fk[f].y;n7[fZ].z=fk[f].z;n7[fZ].color=gi[fk[f].wanted]end else n7[fZ]={}n7[fZ].blip=g;n7[fZ].x=fk[f].x;n7[fZ].y=fk[f].y;n7[fZ].z=fk[f].z;n7[fZ].color=gi[fk[f].wanted]end end end end;for f,g in pairs(n7)do if g.blip then u=u+1;n6=n6 ..f.."\n"local bB=g.blip;local n9=g.color;n8[u]=function(lL)if n4==bB then n4={}n4=nil;SetBlipRoute(bB,false)else n4=bB;SetBlipRoute(bB,true)SetBlipRouteColour(bB,n9)end end end end;if u>0 then lV(n6,n8,lL)end end;local function na(lL,cI)local n6=""local n7={}local n8={}local cO=GetEntityCoords(PlayerPedId())local u=0;for f,g in pairs(cI)do local fZ=g.name;if fZ then if string.sub(fZ,1,5)=="Join "then fZ=string.sub(fZ,6)elseif string.sub(fZ,-5)==" shop"then fZ=string.sub(fZ,1,-6)end;if n7[fZ]then local d2,d3,d4=cO.x-n7[fZ].x,cO.y-n7[fZ].y,cO.z-n7[fZ].z;local hH,hI,hJ=cO.x-g.x,cO.y-g.y,cO.z-g.z;if hH*hH+hI*hI+hJ*hJ<d2*d2+d3*d3+d4*d4 then n7[fZ]=g end else n7[fZ]=g end end end;for f,g in pairs(n7)do if g.blip then u=u+1;n6=n6 ..f.."\n"local bB=g.blip;local n9=g.color;n8[u]=function(lL)if n4==bB then n4={}n4=nil;SetBlipRoute(bB,false)else n4=bB;SetBlipRoute(bB,true)SetBlipRouteColour(bB,n9)end end end end;if u>0 then lV(n6,n8,lL)end end;local function nb(lL,cI)local dI=false;while not IsControlJustPressed(0,177)and not fd do if IsControlJustPressed(0,176)then dI=not dI;if dI then j1(cI)else j2(cI)end end;if dI then lU("Turn off\nblips",lL)else lU("Turn on\nblips",lL)end;Wait(0)end end;local nc={}nc.check=function(nd,T,U,ne)if ne[T][U]then return false end;for u=1,3 do if ne[nd[u][1]+T][nd[u][2]+U]then return false end end;return true end;nc.init=function(nf,ng)local ne={}ne[-1]={}ne[0]={}for u=1,nf do ne[u]={}for jA=-3,ng do ne[u][jA]=false end;ne[u][ng+1]=true end;ne[nf+1]={}ne[nf+2]={}for u=-4,ng do ne[0][u+1]=true;ne[nf+1][u+1]=true end;return ne end;nc.game=function(lL)local nf=30;local ng=40;local nh=1.0/nf;local ni=1.0/ng;local nj={{{0,1},{0,2},{0,-1}},{{0,1},{1,1},{-1,0}},{{0,1},{1,1},{-1,0}},{{1,0},{0,1},{-1,1}},{{0,1},{1,1},{1,0}},{{0,1},{0,2},{1,2}},{{0,1},{0,2},{-1,2}}}local T=15;local U=0;local dG=0;local bX=GetGameTimer()local n9={0,0,127}if not nc.all then nc.all=nc.init(nf,ng)end;if not nc.figure then nc.figure=nj[math.random(#nj)]end;while not IsControlPressed(0,177)and not fd do if IsControlPressed(0,172)and dG>4 then local ga={{nc.figure[1][2],-nc.figure[1][1]},{nc.figure[2][2],-nc.figure[2][1]},{nc.figure[3][2],-nc.figure[3][1]}}if nc.check(ga,T,U,nc.all)then nc.figure=ga end;dG=1 elseif IsControlPressed(0,174)then if nc.check(nc.figure,T-1,U,nc.all)then T=T-1 end elseif IsControlPressed(0,175)then if nc.check(nc.figure,T+1,U,nc.all)then T=T+1 end end;if IsControlPressed(0,173)then dG=8 end;for u=1,3 do SetTextRenderId(GetMobilePhoneRenderId())for jA=1,nf do for f=1,ng do if nc.all[jA][f]then DrawRect((jA-.5)*nh,(f-.5)*ni,nh,ni,128+n9[1],128+n9[2],128+n9[3],255)end end end;DrawRect((T-.5)*nh,(U-.8+.05*dG)*ni,nh,ni,n9[1]+n9[1],n9[2]+n9[2],n9[3]+n9[3],255)for u=1,3 do DrawRect((nc.figure[u][1]+T-.5)*nh,(nc.figure[u][2]+U-.8+.05*dG)*ni,nh,ni,n9[1]+n9[1],n9[2]+n9[2],n9[3]+n9[3],255)end;SetTextRenderId(1)if n9[1]==0 and n9[3]<127 then n9[2],n9[3]=n9[2]-1,n9[3]+1 elseif n9[2]==0 and n9[1]<127 then n9[3],n9[1]=n9[3]-1,n9[1]+1 elseif n9[3]==0 and n9[2]<127 then n9[1],n9[2]=n9[1]-1,n9[2]+1 end;Wait(0)end;if dG==8 then if nc.check(nc.figure,T,U+1,nc.all)then U=U+1 else nc.all[T][U]=true;for u=1,3 do nc.all[nc.figure[u][1]+T][nc.figure[u][2]+U]=true end;local nk=false;for jA=ng,1,-1 do while true do local nl=true;for u=nf,1,-1 do if not nc.all[u][jA]then nl=false end end;if nl then for u=nf,1,-1 do for f=jA,1,-1 do nc.all[u][f]=nc.all[u][f-1]end end;nk=true else break end end end;if U<1 and not nk then nc.all=nc.init(nf,ng)end;nc.figure=nj[math.random(#nj)]T=15;U=0 end;dG=0 elseif GetGameTimer()-bX>10 then dG=dG+1;bX=GetGameTimer()end end end;local nm=function(lL)SimpleNotification("~g~/party NUMBER ~s~- create/join party.")Wait(0)SimpleNotification("~g~/partycolor green ~s~- change color to green. (or /partyc 2)")Wait(0)SimpleNotification("~b~/partyshowself ~s~- toggle show self. (or /partyss)")Wait(0)SimpleNotification("~b~/partyshowselfface ~s~- toggle show own face. (or /partysf)")Wait(5000)SimpleNotification("~g~/party NUMBER ~s~- create/join party.")Wait(0)SimpleNotification("~g~/partycolor green ~s~- change color to green. (or /partyc 2)")Wait(0)SimpleNotification("~b~/partyshowself ~s~- toggle show self. (or /partyss)")Wait(0)SimpleNotification("~b~/partyshowselfface ~s~- toggle show own face. (or /partysf)")end;j4.app=function(lL)local nn=.0;c(d.gangwarscore)while not IsControlPressed(0,177)and not fd do if IsControlPressed(0,173)then if nn>1.0-14.0*lL.cursor_step then nn=nn-.02 end elseif IsControlPressed(0,172)then if nn<.0 then nn=nn+.02 end end;local no=false;local np=nil;local lN=nn;SetTextRenderId(GetMobilePhoneRenderId())lK(lL)for u=1,14 do local g=j4.top[j4.sort[u]]local nq=g.score;if np and nq>np then no=true end;np=nq;SetTextColour(g.color[1],g.color[2],g.color[3],255)SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])TextCommandDisplayText(.05,lN,"~1~. ~a~",u,g.name)SetTextJustification(2)SetTextOutline()SetTextFont(lL.font)SetTextScale(lL.scale[1],lL.scale[2])if nq>1000000 then TextCommandDisplayText(.05,lN,"~1~M",math.floor(nq/1000000))elseif nq>1000 then TextCommandDisplayText(.05,lN,"~1~K",math.floor(nq/1000))else SetTextEntry("NUMBER")AddTextComponentInteger(nq)EndTextCommandDisplayText(.05,lN)end;lN=lN+lL.cursor_step end;SetTextRenderId(1)if no then table.sort(j4.sort,function(eD,eC)return j4.top[eD].score>j4.top[eC].score end)end;Wait(5)end end;local nr={state="Loading...",missions={},spawnvehicles={-1372848492,904750859,-1050465301,1747439474,-344943009,1039032026,1549126457,-1130810103,-1177863319,-431692672,-1450650718,841808271,1830407356,1078682497,-2124201592,330661258,-5153954,-591610296,-89291282,1349725314,873639469,-1122289213,-1193103848,2016857647,970598228,-391594584,-624529134,1348744438,-511601230,-1930048799,-1809822327,-1903012613,906642318,-2030171296,-685276541,1909141499,75131841,-1289722222,886934177,-1883869285,-1150599089,-1477580979,1723137093,-1894894188,-1008861746,1373123368,1777363799,-310465116,-1255452397,970598228,464687292,1531094468,-1205801634,-682211828,349605904,80636076,723973206,-2119578145,-1800170043,-1943285540,-2095439403,1507916787,-227741703,-1685021548,1923400478,972671128,-825837129,-498054846,2006667053,914654722,1645267888,-2045594037,-1189015600,989381445,850565707,-808831384,142944341,1878062887,634118882,2006918058,-789894171,683047626,1177543287,-1137532101,-1775728740,-1543762099,884422927,486987393,1269098716,-808457413,-1651067813,2136773105,1221512915,1337041428,1203490606,-16948145,1069929536,-1346687836,1162065741,-119658072,-810318068,65402552,1026149675,-2033222435,-667151410,523724515,-1435919434,1770332643,-1207771834,-1883002148,-14495224,1762279763,-120287622,-1311240698,-1622444098,1123216662,767087018,-1041692462,1274868363,736902334,2072687711,-1045541610,108773431,196747873,-566387422,-1995326987,-1089039904,499169875,-1297672541,544021352,-1372848492,482197771,-142942670,-1461482751,-777172681,-377465520,-1934452204,1737773231,1032823388,719660200,-746882698,-1757836725,1886268224,384071873,-295689028,-982130927,-1566741232,-1405937764,1887331236,941800958,223240013,1011753235,784565758,1051415893,-1660945322,-433375717,1545842587,-2098947590,1504306544,-1216765807,-1696146015,-1311154784,-1291952903,1426219628,1234311532,418536135,-1232836011,1034187331,1093792632,1987142870,-1758137366,-1829802492,2123327359,234062309,819197656,1663218586,272929391,408192225,2067820283,338562499,1939284556,-1403128555,-2048333973,-482719877,917809321,627535535,-757735410,1672195559,-2140431165,86520421,1753414259,627535535,640818791,-1523428744,-634879114,-909201658,-893578776,-1453280962,788045382,1836027715,-140902153,-1353081087,237764926,-1106353882,-631760477,-591651781,-915704871,349315417,-401643538,-891462355,-114291515,11251904,-1670998136,1265391242,101905590,-663299102,-1479664699},peds={810804565,1226102803,1466037421,1768677545,355916122,-782401935,452351020,696250687,-1395868234,-422822692,-1047300121},vips={-680474188},weapons={WEAPON.PISTOL,WEAPON.COMBATPISTOL,WEAPON.SNSPISTOL,WEAPON.VINTAGEPISTOL,WEAPON.PISTOLMK2,WEAPON.PISTOL50,WEAPON.HEAVYPISTOL,WEAPON.APPISTOL,WEAPON.MUSKET,WEAPON.DBSHOTGUN,WEAPON.REVOLVER,WEAPON.ASSAULTRIFLE,WEAPON.CARBINERIFLE,WEAPON.PUMPSHOTGUN,WEAPON.SAWNOFFSHOTGUN,WEAPON.SNIPERRIFLE,WEAPON.MICROSMG,WEAPON.MINISMG,WEAPON.COMPACTRIFLE,WEAPON.MACHINEPISTOL},needweapons=needweapons,needvehicles=needvehicles,bases={{x=217.90853881836,y=-2001.2611083984,z=19.570650100708,r=80,pedspawns={{x=189.11433410645,y=-2019.1674804688,z=18.287298202515,angle=270.18502807617},{x=190.99380493164,y=-2016.1768798828,z=18.302564620972,angle=264.0950012207},{x=220.9821472168,y=-2032.9807128906,z=18.169111251831,angle=233.92999267578},{x=224.76454162598,y=-2036.1956787109,z=18.176797866821,angle=55.742874145508},{x=200.09774780273,y=-2002.3020019531,z=18.861577987671,angle=239.95846557617},{x=210.09632873535,y=-1989.6256103516,z=19.716470718384,angle=151.74798583984}},vehspawn={x=220.33895874023,y=-1994.0046386719,z=19.298191070557,angle=221.73561096191},vehdelivery={x=229.80065917969,y=-1991.9798583984,z=19.256690979004,angle=139.69387817383}},{x=454.57501220703,y=-1559.6976318359,z=29.282598495483,r=140,pedspawns={{x=430.4462890625,y=-1559.2930908203,z=32.792266845703,angle=325.25308227539},{x=436.29879760742,y=-1564.3244628906,z=32.792324066162,angle=332.42233276367},{x=442.43829345703,y=-1569.4415283203,z=32.792285919189,angle=323.98724365234},{x=455.14581298828,y=-1580.0264892578,z=32.792064666748,angle=327.19702148438},{x=461.37353515625,y=-1585.2528076172,z=32.792053222656,angle=325.9680480957},{x=467.24981689453,y=-1590.1715087891,z=32.792251586914,angle=334.10736083984},{x=451.54156494141,y=-1569.4566650391,z=29.283004760742,angle=142.26695251465},{x=444.78713989258,y=-1575.9266357422,z=29.282596588135,angle=237.24374389648},{x=444.80706787109,y=-1583.1069335938,z=29.282596588135,angle=54.26851272583},{x=460.78289794922,y=-1573.771484375,z=32.7922706604,angle=236.00836181641},{x=465.68280029297,y=-1567.5771484375,z=32.792316436768,angle=236.08096313477},{x=470.88973999023,y=-1561.5333251953,z=32.792301177979,angle=239.99714660645},{x=480.01245117188,y=-1552.9349365234,z=29.282623291016,angle=328.08752441406},{x=451.14697265625,y=-1566.3345947266,z=32.843311309814,angle=51.393543243408}},vehspawn={x=455.88821411133,y=-1549.4100341797,z=29.516098022461,angle=135.57733154297},vehdelivery={x=448.3828125,y=-1559.0375976563,z=28.936483383179,angle=137.83821105957}},{x=-339.70596313477,y=-1480.7485351563,z=30.608236312866,r=120,pedspawns={{x=-342.31967163086,y=-1482.9434814453,z=30.709897994995,angle=267.5827331543},{x=-342.3427734375,y=-1474.9757080078,z=30.749124526978,angle=270.48956298828},{x=-356.10980224609,y=-1466.6853027344,z=30.871334075928,angle=90.950614929199},{x=-356.10897827148,y=-1486.6962890625,z=30.180541992188,angle=87.144218444824}},vehspawn={x=-358.28118896484,y=-1480.2772216797,z=29.648612976074,angle=180.61390686035},vehdelivery={x=-351.45574951172,y=-1494.365234375,z=30.029275894165,angle=90.840194702148}},{x=-556.03100585938,y=-1795.8212890625,z=22.492635726929,r=130,pedspawns={{x=-571.12591552734,y=-1776.1043701172,z=23.180345535278,angle=149.74285888672},{x=-583.07421875,y=-1767.6110839844,z=23.180345535278,angle=149.57504272461},{x=-559.30059814453,y=-1803.9387207031,z=22.610321044922,angle=341.6540222168},{x=-544.93078613281,y=-1802.4844970703,z=21.619510650635,angle=56.94974899292},{x=-545.60784912109,y=-1804.0639648438,z=21.597366333008,angle=63.573356628418},{x=-547.75183105469,y=-1807.0853271484,z=21.648717880249,angle=69.187164306641},{x=-548.43359375,y=-1809.0825195313,z=21.602245330811,angle=66.14680480957},{x=-549.89581298828,y=-1794.8458251953,z=22.360631942749,angle=155.08999633789}},vehspawn={x=-558.14770507813,y=-1798.3513183594,z=22.235757827759,angle=332.48251342773},vehdelivery={x=-572.35980224609,y=-1783.8908691406,z=22.176856994629,angle=145.40281677246}},{x=-482.6217956543,y=-2684.275390625,z=8.7611322402954,r=120,pedspawns={{x=-477.85186767578,y=-2688.8583984375,z=8.7611312866211,angle=316.63580322266},{x=-491.18606567383,y=-2679.8562011719,z=14.493811607361,angle=45.675193786621},{x=-477.95700073242,y=-2692.9755859375,z=14.493822097778,angle=222.71530151367},{x=-480.47830200195,y=-2692.0739746094,z=21.744123458862,angle=217.59440612793}},vehspawn={x=-470.03439331055,y=-2679.5798339844,z=10.480001449585,angle=224.64459228516},vehdelivery={x=-428.80319213867,y=-2665.8232421875,z=5.6553025245667,angle=315.02008056641}},{x=265.29272460938,y=-3066.2612304688,z=4.601991653442,r=100,pedspawns={{x=280.25262451172,y=-3065.853515625,z=5.7755370140076,angle=212.9221496582},{x=264.03009033203,y=-3081.7119140625,z=5.7759466171265,angle=224.42701721191},{x=262.06481933594,y=-3083.6030273438,z=5.8687887191772,angle=222.17892456055},{x=257.17318725586,y=-3081.7041015625,z=5.8687496185303,angle=138.48846435547},{x=251.16213989258,y=-3075.3269042969,z=5.7782421112061,angle=133.3826751709},{x=249.19764709473,y=-3073.5051269531,z=5.8630228042603,angle=135.02532958984},{x=257.49221801758,y=-3062.6538085938,z=5.8629946708679,angle=45.377422332764},{x=270.25506591797,y=-3056.7951660156,z=5.8166661262512,angle=313.65475463867}},vehspawn={x=284.24420166016,y=-3065.6274414063,z=5.4661493301392,angle=134.47622680664},vehdelivery={x=253.86125183105,y=-3059.0434570313,z=5.4413046836853,angle=313.22869873047}},{x=1014.7308349609,y=-2523.068359375,z=28.304491043091,r=120,pedspawns={{x=1017.4497070313,y=-2529.29296875,z=28.301977157593,angle=82.16869354248},{x=1018.9454345703,y=-2511.7624511719,z=28.478561401367,angle=86.895584106445},{x=1018.8522949219,y=-2515.6328125,z=28.301975250244,angle=85.408256530762},{x=1024.7438964844,y=-2508.2751464844,z=28.455558776855,angle=354.3210144043},{x=1045.1895751953,y=-2510.1872558594,z=28.45965385437,angle=354.80819702148}},vehspawn={x=1044.087890625,y=-2505.6135253906,z=28.014011383057,angle=265.78051757813},vehdelivery={x=1009.3809814453,y=-2526.8327636719,z=27.962331771851,angle=354.16186523438}},{x=1066.9399414063,y=-1964.9710693359,z=31.012756347656,r=120,pedspawns={{x=1042.125,y=-1970.6898193359,z=34.967628479004,angle=327.48184204102},{x=1046.8765869141,y=-1956.953125,z=35.134162902832,angle=179.99458312988},{x=1054.1215820313,y=-1952.7055664063,z=32.094932556152,angle=272.15078735352},{x=1097.9332275391,y=-1985.0793457031,z=31.014656066895,angle=328.96887207031}},vehspawn={x=1079.0002441406,y=-1948.888671875,z=30.71199798584,angle=315.75891113281},vehdelivery={x=1098.2302246094,y=-1981.0222167969,z=30.666337966919,angle=234.04597473145}},{x=1727.9252929688,y=-1612.7030029297,z=112.453956604,r=120,pedspawns={{x=1741.0268554688,y=-1606.7241210938,z=112.59538269043,angle=99.338813781738},{x=1741.0075683594,y=-1606.7261962891,z=116.19493865967,angle=102.71550750732},{x=1743.8970947266,y=-1622.9005126953,z=116.19493865967,angle=99.744911193848},{x=1743.8256835938,y=-1623.2180175781,z=112.54800415039,angle=95.95873260498},{x=1714.5101318359,y=-1598.1348876953,z=113.81472015381,angle=269.03695678711},{x=1702.8675537109,y=-1589.1099853516,z=117.76316833496,angle=6.5455560684204},{x=1713.3435058594,y=-1555.1950683594,z=113.9421005249,angle=160.87983703613}},vehspawn={x=1740.9346923828,y=-1627.6322021484,z=112.08260345459,angle=169.29164123535},vehdelivery={x=1711.0498046875,y=-1565.2957763672,z=112.27767181396,angle=13.023423194885}},{x=959.90887451172,y=-202.86660766602,z=73.075836181641,r=120,pedspawns={{x=953.18145751953,y=-196.56575012207,z=73.208404541016,angle=240.3752746582},{x=948.75122070313,y=-208.79263305664,z=73.208374023438,angle=330.67080688477},{x=951.83386230469,y=-210.62414550781,z=73.208374023438,angle=328.37860107422},{x=967.39947509766,y=-205.17532348633,z=73.208457946777,angle=58.967948913574},{x=970.57293701172,y=-199.29963684082,z=73.208457946777,angle=59.418960571289},{x=970.82189941406,y=-199.65071105957,z=76.255348205566,angle=59.320148468018},{x=957.63928222656,y=-214.26518249512,z=76.255348205566,angle=332.13775634766},{x=951.72601318359,y=-210.66940307617,z=76.255348205566,angle=330.51165771484},{x=947.64245605469,y=-205.86598205566,z=76.255348205566,angle=239.86614990234},{x=950.42395019531,y=-201.12840270996,z=76.255348205566,angle=236.97569274902},{x=970.73510742188,y=-199.49688720703,z=79.297210693359,angle=56.460460662842},{x=967.22875976563,y=-205.07583618164,z=79.297210693359,angle=57.368034362793},{x=947.58752441406,y=-205.84239196777,z=79.297210693359,angle=234.87768554688},{x=953.41247558594,y=-196.63073730469,z=79.297210693359,angle=235.97744750977}},vehspawn={x=953.28173828125,y=-204.8946685791,z=72.800392150879,angle=328.5553894043},vehdelivery={x=960.34265136719,y=-208.25276184082,z=72.84895324707,angle=149.68327331543}},{x=-1074.5694580078,y=-1665.8361816406,z=4.4380116462708,r=120,pedspawns={{x=-1088.4134521484,y=-1672.1970214844,z=4.700204372406,angle=298.23156738281},{x=-1069.8111572266,y=-1653.2387695313,z=4.4208850860596,angle=128.83320617676},{x=-1068.3209228516,y=-1648.3780517578,z=4.8334436416626,angle=219.61373901367},{x=-1075.4681396484,y=-1645.1472167969,z=4.5012059211731,angle=134.97862243652},{x=-1104.3776855469,y=-1637.1842041016,z=4.6159596443176,angle=307.17135620117},{x=-1082.626953125,y=-1631.3142089844,z=4.7400288581848,angle=143.31301879883}},vehspawn={x=-1070.9936523438,y=-1672.3571777344,z=4.1368026733398,angle=221.35888671875},vehdelivery={x=-1068.5743408203,y=-1668.8602294922,z=4.1138663291931,angle=224.87730407715}},{x=-1313.9840087891,y=-1233.4884033203,z=4.8109683990479,r=120,pedspawns={{x=-1321.0504150391,y=-1264.0106201172,z=4.5899171829224,angle=282.19149780273},{x=-1293.0010986328,y=-1259.6112060547,z=4.1956605911255,angle=105.70253753662},{x=-1301.8687744141,y=-1264.7607421875,z=4.3310041427612,angle=281.53015136719},{x=-1286.0889892578,y=-1256.7470703125,z=15.125949859619,angle=289.54513549805},{x=-1318.2611083984,y=-1271.1215820313,z=9.0926103591919,angle=276.52801513672},{x=-1323.6979980469,y=-1236.4620361328,z=4.6229739189148,angle=283.64694213867},{x=-1308.1918945313,y=-1227.8999023438,z=4.8949842453003,angle=111.70693969727},{x=-1309.3734130859,y=-1220.5502929688,z=8.9804716110229,angle=199.33915710449},{x=-1306.6993408203,y=-1226.6285400391,z=8.9804840087891,angle=107.34128570557},{x=-1305.9942626953,y=-1228.6552734375,z=8.9804782867432,angle=106.97165679932},{x=-1317.2457275391,y=-1240.9000244141,z=7.1687388420105,angle=277.43127441406},{x=-1318.0062255859,y=-1238.8852539063,z=7.1687097549438,angle=294.35729980469},{x=-1321.5548095703,y=-1228.7916259766,z=7.1489853858948,angle=287.88381958008},{x=-1322.208984375,y=-1226.8369140625,z=7.1489849090576,angle=290.99768066406}},vehspawn={x=-1310.5609130859,y=-1237.4313964844,z=4.4623517990112,angle=19.108039855957},vehdelivery={x=-1320.4107666016,y=-1253.4666748047,z=4.2504477500916,angle=111.00331115723}},{x=-1334.1770019531,y=-750.55999755859,z=21.841178894043,r=140,pedspawns={{x=-1354.9027099609,y=-731.98480224609,z=22.956279754639,angle=215.14524841309},{x=-1348.2587890625,y=-719.86614990234,z=24.934282302856,angle=125.13579559326},{x=-1347.4310302734,y=-720.89404296875,z=24.934535980225,angle=124.60308074951},{x=-1345.2930908203,y=-721.94146728516,z=24.940114974976,angle=122.53866577148},{x=-1344.5587158203,y=-722.99554443359,z=24.939895629883,angle=127.15338897705},{x=-1331.5440673828,y=-739.42181396484,z=25.26091003418,angle=130.27360534668},{x=-1330.7757568359,y=-740.44818115234,z=25.260419845581,angle=127.75360107422},{x=-1357.5675048828,y=-749.99615478516,z=22.165079116821,angle=312.79736328125},{x=-1320.6804199219,y=-757.12316894531,z=20.384672164917,angle=124.01422119141},{x=-1312.3608398438,y=-764.95275878906,z=20.191337585449,angle=127.84102630615},{x=-1311.1461181641,y=-767.25366210938,z=19.99857711792,angle=127.46464538574},{x=-1310.42578125,y=-767.99713134766,z=19.94384765625,angle=127.67394256592},{x=-1308.8203125,y=-770.06390380859,z=19.854322433472,angle=134.3419342041},{x=-1327.7244873047,y=-767.98455810547,z=19.241025924683,angle=34.097591400146},{x=-1348.7414550781,y=-760.14770507813,z=22.459489822388,angle=337.18978881836}},vehspawn={x=-1325.4211425781,y=-756.35217285156,z=20.027927398682,angle=39.747314453125},vehdelivery={x=-1348.3298339844,y=-738.68566894531,z=21.989898681641,angle=217.67370605469}},{x=822.27276611328,y=2142.2419433594,z=52.288032531738,r=160,pedspawns={{x=846.265625,y=2136.4699707031,z=52.861194610596,angle=82.772445678711},{x=846.00891113281,y=2123.0295410156,z=52.861221313477,angle=90.152450561523},{x=843.14086914063,y=2112.1774902344,z=52.860992431641,angle=77.536682128906},{x=839.31475830078,y=2176.7131347656,z=52.289730072021,angle=148.80450439453},{x=794.03259277344,y=2163.0812988281,z=53.092964172363,angle=154.78088378906},{x=803.14703369141,y=2175.0297851563,z=53.070755004883,angle=335.04776000977},{x=791.73022460938,y=2176.6921386719,z=52.648433685303,angle=327.95764160156}},vehspawn={x=831.15759277344,y=2130.6264648438,z=51.95539855957,angle=205.76219177246},vehdelivery={x=808.119140625,y=2180.6135253906,z=52.018363952637,angle=66.35693359375}},{x=2352.4738769531,y=2585.583984375,z=46.667644500732,r=120,pedspawns={{x=2334.3933105469,y=2589.1511230469,z=47.633567810059,angle=182.00961303711},{x=2338.4772949219,y=2570.3579101563,z=47.722023010254,angle=245.06167602539},{x=2355.947265625,y=2564.7912597656,z=46.871070861816,angle=28.572231292725},{x=2337.771484375,y=2605.2060546875,z=47.302257537842,angle=177.47186279297},{x=2357.6916503906,y=2609.5166015625,z=47.236869812012,angle=142.40270996094}},vehspawn={x=2343.0502929688,y=2584.3366699219,z=46.303070068359,angle=90.770927429199},vehdelivery={x=2323.0551757813,y=2570.7272949219,z=46.324951171875,angle=154.80514526367}},{x=1688.3348388672,y=6432.193359375,z=32.514831542969,r=120,pedspawns={{x=1693.8411865234,y=6427.0180664063,z=32.279014587402,angle=335.63049316406},{x=1705.9760742188,y=6425.6743164063,z=32.769344329834,angle=149.5051574707},{x=1681.4682617188,y=6428.337890625,z=32.171634674072,angle=330.3893737793},{x=1680.4738769531,y=6428.8422851563,z=32.171604156494,angle=332.64395141602},{x=1676.4055175781,y=6432.3510742188,z=31.687297821045,angle=216.74211120605},{x=1723.2501220703,y=6417.8154296875,z=35.000606536865,angle=62.927307128906}},vehspawn={x=1687.7775878906,y=6436.1245117188,z=32.129089355469,angle=245.01770019531},vehdelivery={x=1693.8411865234,y=6427.0180664063,z=32.279014587402,angle=335.63049316406}},{x=2569.0524902344,y=4660.4638671875,z=34.076763153076,r=120,pedspawns={{x=2564.3969726563,y=4680.1630859375,z=34.076805114746,angle=51.338428497314},{x=2589.3740234375,y=4678.1381835938,z=34.076770782471,angle=319.19708251953},{x=2591.8579101563,y=4669.3071289063,z=34.076770782471,angle=223.77398681641},{x=2583.2204589844,y=4660.8369140625,z=34.076770782471,angle=223.51861572266},{x=2570.822265625,y=4668.0576171875,z=34.076770782471,angle=139.60690307617},{x=1723.2501220703,y=6417.8154296875,z=35.000606536865,angle=62.927307128906},{x=2567.294921875,y=4652.1479492188,z=34.076770782471,angle=296.19207763672},{x=2564.8688964844,y=4644.677734375,z=34.076770782471,angle=246.19033813477},{x=2555.6015625,y=4651.5483398438,z=34.076770782471,angle=120.38770294189}},vehspawn={x=2568.8825683594,y=4656.3334960938,z=33.734077453613,angle=205.12617492676},vehdelivery={x=2553.1369628906,y=4672.330078125,z=33.627094268799,angle=196.08953857422}},{x=456.6471862793,y=-1885.2677001953,z=26.215061187744,r=120,pedspawns={{x=461.02005004883,y=-1869.0661621094,z=27.038841247559,angle=143.30392456055},{x=460.05505371094,y=-1869.8454589844,z=26.977079391479,angle=221.83090209961},{x=447.60000610352,y=-1897.2819824219,z=26.696685791016,angle=220.60192871094},{x=443.72314453125,y=-1900.2609863281,z=31.731962203979,angle=223.83999633789},{x=435.14099121094,y=-1906.8944091797,z=25.929357528687,angle=218.51783752441},{x=464.95880126953,y=-1894.1536865234,z=25.882181167603,angle=126.39415740967},{x=468.34506225586,y=-1901.0693359375,z=25.389198303223,angle=110.90838623047}},vehspawn={x=449.08184814453,y=-1890.0510253906,z=26.45373916626,angle=213.97549438477},vehdelivery={x=470.92568969727,y=-1874.0952148438,z=26.511018753052,angle=289.1926574707}},{x=0.64413636922836,y=6489.9306640625,z=31.498069763184,r=120,pedspawns={{x=-8.4588918685913,y=6487.330078125,z=31.512748718262,angle=221.03219604492},{x=-14.338508605957,y=6476.921875,z=31.474056243896,angle=311.64993286133},{x=-13.865180015564,y=6480.7758789063,z=31.422672271729,angle=219.55354309082},{x=-5.2021160125732,y=6490.443359375,z=31.501647949219,angle=226.23533630371},{x=0.259761095047,y=6499.66796875,z=31.501670837402,angle=317.11712646484},{x=9.6209306716919,y=6506.0346679688,z=31.529697418213,angle=207.00942993164},{x=18.131622314453,y=6512.2490234375,z=31.52982711792,angle=221.90306091309}},vehspawn={x=-0.92009973526001,y=6490.9462890625,z=31.116695404053,angle=134.75315856934},vehdelivery={x=-2.6146459579468,y=6487.7685546875,z=31.153455734253,angle=43.776672363281}},{x=1128.8676757813,y=-994.5029296875,z=45.905349731445,r=120,pedspawns={{x=1143.0090332031,y=-986.70281982422,z=45.902751922607,angle=266.21942138672},{x=1143.7204589844,y=-1000.3798217773,z=45.3073387146,angle=276.21130371094},{x=1145.1508789063,y=-1008.5063476563,z=44.91051864624,angle=261.31652832031},{x=1124.7264404297,y=-1010.4644775391,z=44.679698944092,angle=94.748596191406},{x=1130.2933349609,y=-989.29748535156,z=45.967704772949,angle=98.406730651855}},vehspawn={x=1126.0219726563,y=-994.05133056641,z=45.573669433594,angle=98.312744140625},vehdelivery={x=1117.7994384766,y=-983.70739746094,z=45.99760055542,angle=6.9786777496338}},{x=-1263.3056640625,y=-1124.8481445313,z=7.5699214935303,r=120,pedspawns={{x=-1262.0018310547,y=-1123.7941894531,z=7.8964228630066,angle=107.46039581299},{x=-1277.9698486328,y=-1093.9398193359,z=7.2915940284729,angle=296.09912109375},{x=-1268.8790283203,y=-1096.6881103516,z=7.7856278419495,angle=113.046875},{x=-1267.5850830078,y=-1100.3352050781,z=7.7741394042969,angle=114.4282989502},{x=-1265.6674804688,y=-1108.7205810547,z=7.7463064193726,angle=111.21945953369},{x=-1270.0469970703,y=-1116.5971679688,z=7.2597789764404,angle=273.63021850586},{x=-1262.9898681641,y=-1117.5333251953,z=7.7266473770142,angle=107.93347930908},{x=-1265.3640136719,y=-1124.8916015625,z=7.5518321990967,angle=296.93133544922},{x=-1262.0162353516,y=-1133.4448242188,z=7.5827298164368,angle=291.92718505859},{x=-1258.7644042969,y=-1134.6469726563,z=7.6855907440186,angle=101.4384765625},{x=-1262.8348388672,y=-1139.0042724609,z=7.5349650382996,angle=246.05551147461},{x=-1252.671875,y=-1144.4879150391,z=8.5139627456665,angle=23.228303909302},{x=-1253.9543457031,y=-1140.8170166016,z=8.5678663253784,angle=200.44747924805},{x=-1257.2470703125,y=-1149.8659667969,z=7.6053137779236,angle=302.67614746094},{x=-1253.0578613281,y=-1151.6906738281,z=7.7111430168152,angle=111.39003753662}},vehspawn={x=-1266.1082763672,y=-1115.9373779297,z=7.2166090011597,angle=17.265037536621},vehdelivery={x=-1272.8074951172,y=-1096.4038085938,z=7.286190032959,angle=16.279748916626}}}}nr.spawnpedheading=function(K,T,U,V,gL,be)RequestModel(K)while not HasModelLoaded(K)do Wait(10)end;local ped=CreatePed(4,K,T,U,V,gL,true,false)gt(ped)SetPedRandomComponentVariation(ped,false)if be then GiveWeaponToPed(ped,be,1000,false,true)end;SetModelAsNoLongerNeeded(K)return ped end;nr.missions[1]=function()nr.blip=AddBlipForCoord(nr.base.x,nr.base.y,nr.base.z)SetBlipRoute(nr.blip,true)nr.state="Go to marked place."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if math.abs(e2.x-nr.base.x)+math.abs(e2.y-nr.base.y)<nr.base.r then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.carmodel=nr.spawnvehicles[math.random(1,#nr.spawnvehicles)]nr.veh=iU(nr.carmodel,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,nr.base.vehspawn.angle)nr.license=GetVehicleNumberPlateText(nr.veh)for f,dB in pairs(nr.base.pedspawns)do if math.random(1,2)==1 then local ped=nr.spawnpedheading(nr.peds[math.random(1,#nr.peds)],dB.x,dB.y,dB.z,dB.angle,nr.weapons[math.random(1,#nr.weapons)])SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)TaskWanderInArea(ped,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,10.0,5.0,5.0)print("enemy spawned")else print("enemy not spawned")end end;break end end;nr.base=math.random(2,#nr.bases)if nr.base==nr.lastbase then nr.base=1 end;nr.lastbase=nr.base;nr.base=nr.bases[nr.base]nr.bliponcar=true;nr.blip=AddBlipForEntity(nr.veh)SetBlipColour(nr.blip,2)nr.state="Get car."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if GetEntityModel(nr.veh)~=nr.carmodel or GetVehicleNumberPlateText(nr.veh)~=nr.license then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;nr.state="Mission failed."break elseif IsPedFatallyInjured(ns)or not IsVehicleDriveable(nr.veh,false)then nr.state="Mission failed."SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;SetVehicleAsNoLongerNeeded(nr.veh)SetEntityAsMissionEntity(nr.veh,true)Wait(20000)DeleteVehicle(nr.veh)break elseif GetVehiclePedIsIn(ns)==nr.veh then if nr.bliponcar==true then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=AddBlipForCoord(nr.base.vehdelivery.x,nr.base.vehdelivery.y,nr.base.vehdelivery.z)SetBlipRoute(nr.blip,true)nr.bliponcar=false;nr.state="Deliver the car."end;if math.abs(e2.x-nr.base.vehdelivery.x)+math.abs(e2.y-nr.base.vehdelivery.y)<3 then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;SetVehicleUndriveable(nr.veh,true)SetVehicleAsNoLongerNeeded(nr.veh)c(d.pay,"deliver",6000)nr.state="Mission completed. Leave the area."Wait(20000)SetEntityAsMissionEntity(nr.veh,true)DeleteVehicle(nr.veh)break end else if nr.bliponcar==false then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=AddBlipForEntity(nr.veh)nr.bliponcar=true;SetBlipRoute(nr.blip,true)nr.state="Get in car."end end end end;nr.missions[2]=function()nr.blip=AddBlipForCoord(nr.base.x,nr.base.y,nr.base.z)SetBlipRoute(nr.blip,true)nr.state="Go to marked place."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if math.abs(e2.x-nr.base.x)+math.abs(e2.y-nr.base.y)<nr.base.r then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.carmodel=nr.spawnvehicles[math.random(1,#nr.spawnvehicles)]nr.veh=iU(nr.carmodel,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,nr.base.vehspawn.angle)nr.license=GetVehicleNumberPlateText(nr.veh)for f,dB in pairs(nr.base.pedspawns)do if math.random(1,2)==1 then local ped=nr.spawnpedheading(nr.peds[math.random(1,#nr.peds)],dB.x,dB.y,dB.z,dB.angle,nr.weapons[math.random(1,#nr.weapons)])SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)TaskWanderInArea(ped,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,10.0,5.0,5.0)print("enemy spawned")else print("enemy not spawned")end end;break end end;nr.blip=AddBlipForEntity(nr.veh)nr.state="Destroy car."while true do Wait(0)local ns=PlayerPedId()if GetEntityModel(nr.veh)~=nr.carmodel or GetVehicleNumberPlateText(nr.veh)~=nr.license then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;nr.state="Mission failed."break elseif IsPedFatallyInjured(ns)then nr.state="Mission failed."SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;SetVehicleAsNoLongerNeeded(nr.veh)SetEntityAsMissionEntity(nr.veh,true)Wait(20000)DeleteVehicle(nr.veh)break elseif not IsVehicleDriveable(nr.veh,false)then c(d.pay,"destroy",5000)nr.state="Mission success. Leave the area."SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil;SetVehicleAsNoLongerNeeded(nr.veh)SetEntityAsMissionEntity(nr.veh,true)Wait(20000)DeleteVehicle(nr.veh)break end end end;nr.missions[3]=function()nr.blip=AddBlipForCoord(nr.base.x,nr.base.y,nr.base.z)SetBlipRoute(nr.blip,true)nr.state="Go to marked place."local nt=math.random(1,2)==1 and GetHashKey("WEAPON_BRIEFCASE")or GetHashKey("WEAPON_BRIEFCASE_02")while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if math.abs(e2.x-nr.base.x)+math.abs(e2.y-nr.base.y)<nr.base.r then for f,dB in pairs(nr.base.pedspawns)do if math.random(1,2)==1 then local ped=nr.spawnpedheading(nr.peds[math.random(1,#nr.peds)],dB.x,dB.y,dB.z,dB.angle,nr.weapons[math.random(1,#nr.weapons)])SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)TaskWanderInArea(ped,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,10.0,5.0,5.0)print("enemy spawned")else print("enemy not spawned")end end;break end end;SetBlipRoute(nr.blip,false)local nu=nr.base.pedspawns[math.random(1,#nr.base.pedspawns)]SetBlipCoords(nr.blip,nu.x,nu.y,nu.z)SetBlipRoute(nr.blip,true)nr.state="Get briefcase."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if IsPedFatallyInjured(ns)then nr.state="Mission failed."Wait(20000)return elseif math.abs(e2.x-nu.x)+math.abs(e2.y-nu.y)+math.abs(e2.z-nu.z)<1 then GiveWeaponToPed(ns,nt,1,false,true)break end end;nr.base=math.random(2,#nr.bases)if nr.base==nr.lastbase then nr.base=1 end;nr.lastbase=nr.base;nr.base=nr.bases[nr.base]SetBlipRoute(nr.blip,false)local gF=nr.base.pedspawns[math.random(1,#nr.base.pedspawns)]SetBlipCoords(nr.blip,gF.x,gF.y,gF.z)SetBlipRoute(nr.blip,true)nr.state="Deliver briefcase."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)local be=GetSelectedPedWeapon(ns)if IsPedFatallyInjured(ns)then nr.state="Mission failed."Wait(20000)return elseif math.abs(e2.x-gF.x)+math.abs(e2.y-gF.y)+math.abs(e2.z-gF.z)<1 then c(d.pay,"case",7000)nr.state="Mission success."RemoveWeaponFromPed(ns,nt)return elseif be==0 or be==-1 or be==966099553 or be==WEAPON.UNARMED then GiveWeaponToPed(ns,nt,1,false,true)end end end;nr.missions[4]=function()nr.blip=AddBlipForCoord(nr.base.x,nr.base.y,nr.base.z)SetBlipRoute(nr.blip,true)nr.state="Go to marked place."local nv;local nt=math.random(1,2)==1 and GetHashKey("WEAPON_BRIEFCASE")or GetHashKey("WEAPON_BRIEFCASE_02")while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if math.abs(e2.x-nr.base.x)+math.abs(e2.y-nr.base.y)<nr.base.r then for f,dB in pairs(nr.base.pedspawns)do if math.random(1,2)==1 then local ped=nr.spawnpedheading(nr.peds[math.random(1,#nr.peds)],dB.x,dB.y,dB.z,dB.angle,nr.weapons[math.random(1,#nr.weapons)])SetPedAsEnemy(ped,true)SetPedRelationshipGroupHash(ped,fn)TaskWanderInArea(ped,nr.base.vehspawn.x,nr.base.vehspawn.y,nr.base.vehspawn.z,10.0,5.0,5.0)print("enemy spawned")else print("enemy not spawned")end end;break end end;SetBlipRoute(nr.blip,false)local nw=nr.base.pedspawns[math.random(1,#nr.base.pedspawns)]SetBlipCoords(nr.blip,nw.x,nw.y,nw.z)SetBlipRoute(nr.blip,true)nr.state="Free hostage."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)if IsPedFatallyInjured(ns)then nr.state="Mission failed."Wait(20000)return elseif math.abs(e2.x-nw.x)+math.abs(e2.y-nw.y)+math.abs(e2.z-nw.z)<1 then nv=nr.spawnpedheading(nr.vips[math.random(1,#nr.vips)],nw.x,nw.y,nw.z,nw.angle,nt)SetPedCanSwitchWeapon(nv,false)local gz=GetPlayerGroup(PlayerId())SetPedAsGroupMember(nv,gz)break end end;nr.base=math.random(2,#nr.bases)if nr.base==nr.lastbase then nr.base=1 end;nr.lastbase=nr.base;nr.base=nr.bases[nr.base]SetBlipRoute(nr.blip,false)local gF=nr.base.pedspawns[math.random(1,#nr.base.pedspawns)]SetBlipCoords(nr.blip,gF.x,gF.y,gF.z)SetBlipRoute(nr.blip,true)nr.state="Escort hostage."while true do Wait(0)local ns=PlayerPedId()local e2=GetEntityCoords(ns)local nx=GetEntityCoords(nv)local ny=GetEntityHealth(nv)if IsPedFatallyInjured(ns)or IsPedFatallyInjured(nv)then nr.state="Mission failed."SetPedAsNoLongerNeeded(nv)SetEntityAsMissionEntity(nv,true)Wait(7000)DeletePed(nv)return elseif ny>100 and ny<200 then SetEntityHealth(nv,ny+1)Wait(500)elseif math.abs(nx.x-gF.x)+math.abs(nx.y-gF.y)+math.abs(nx.z-gF.z)<5 then c(d.pay,"escort",8000)nr.state="Mission success."RemovePedFromGroup(nv)TaskGoStraightToCoord(nv,gF.x,gF.y,gF.z,1.0,10000,gF.angle+180.0,1.0)SetPedAsNoLongerNeeded(nv)for u=0,600 do Wait(0)if math.abs(nx.x-gF.x)+math.abs(nx.y-gF.y)+math.abs(nx.z-gF.z)<2 then SetEntityAsMissionEntity(nv,true)DeletePed(nv)break end end;SetEntityAsMissionEntity(nv,true)DeletePed(nv)return end end end;nr.mission=function()if nr.lastbase==nil then nr.base=math.random(1,#nr.bases)else nr.base=math.random(2,#nr.bases)if nr.base==nr.lastbase then nr.base=1 end end;nr.lastbase=nr.base;nr.base=nr.bases[nr.base]local nz=math.random(1,#nr.missions)c(d.debug,10728,nz)nr.missions[nz]()if nr.blip~=nil then SetBlipRoute(nr.blip,false)RemoveBlip(nr.blip)nr.blip=nil end;Wait(1000)nr.running=false end;nr.app=function(lL)while not IsControlPressed(0,177)and not fd do SetTextRenderId(GetMobilePhoneRenderId())lK(lL)if nr.running then lM(nr.state,.05,lL)elseif IsControlJustPressed(0,176)then nr.running=true;Citizen.CreateThread(nr.mission)else lM("Start mission?",.05,lL)end;SetTextRenderId(1)Wait(5)end end;local nA={score=0,target=30,running=false,enemies={[GetHashKey("AMBIENT_GANG_BALLAS")]={},[GetHashKey("AMBIENT_GANG_FAMILY")]={},[GetHashKey("AMBIENT_GANG_MEXICAN")]={},[GetHashKey("AMBIENT_GANG_LOST")]={},[GetHashKey("AMBIENT_GANG_SALVA")]={},[GetHashKey("AMBIENT_GANG_WEICHENG")]={},[GetHashKey("MISSION2")]={}}}for f,g in pairs(fB.FAMILIES)do nA.enemies[GetHashKey("AMBIENT_GANG_BALLAS")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_LOST")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_MEXICAN")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_SALVA")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_WEICHENG")][g]=true end;for f,g in pairs(fB.BALLAS)do nA.enemies[GetHashKey("AMBIENT_GANG_FAMILY")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_LOST")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_MEXICAN")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_SALVA")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_WEICHENG")][g]=true end;for f,g in pairs(fB.LOST)do nA.enemies[GetHashKey("AMBIENT_GANG_FAMILY")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_BALLAS")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_MEXICAN")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_SALVA")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_WEICHENG")][g]=true end;for f,g in pairs(fB.VAGOS)do nA.enemies[GetHashKey("AMBIENT_GANG_FAMILY")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_BALLAS")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_LOST")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_SALVA")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_WEICHENG")][g]=true end;for f,g in pairs(fB.SALVA)do nA.enemies[GetHashKey("AMBIENT_GANG_FAMILY")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_BALLAS")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_LOST")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_MEXICAN")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_WEICHENG")][g]=true end;for f,g in pairs(fB.TRIADS)do nA.enemies[GetHashKey("AMBIENT_GANG_FAMILY")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_BALLAS")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_LOST")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_MEXICAN")][g]=true;nA.enemies[GetHashKey("AMBIENT_GANG_SALVA")][g]=true end;nA.enemies[GetHashKey("MISSION2")][GetHashKey("COP")]=true;for f,g in pairs(fB.FBI)do nA.enemies[GetHashKey("MISSION2")][g]=true end;nA.mission=function()nA.relationship=fo;nA.target=10+math.random(0,4)*5;local nB={}local gv={}while true do local mA=PlayerPedId()if fo==nA.relationship then local nC=nA.enemies[nA.relationship]local nD=nil;if IsPedInAnyVehicle(mA)then local fQ=GetVehiclePedIsUsing(mA)if mA==GetPedInVehicleSeat(fQ,-1)then nD=fQ end end;for ped in EnumeratePeds()do if GetPedKiller(ped)==0 and(nC[GetEntityModel(ped)]or nC[GetPedRelationshipGroupHash(ped)])then gv[ped]=true end end;if nD~=nil then for ped,g in pairs(nB)do local lG=GetPedKiller(ped)if(lG==mA or lG==nD)and(nC[GetEntityModel(ped)]or nC[GetPedRelationshipGroupHash(ped)])then nA.score=nA.score+1;if nA.score==nA.target then break end end end else for ped,g in pairs(nB)do local lG=GetPedKiller(ped)if lG==mA and(nC[GetEntityModel(ped)]or nC[GetPedRelationshipGroupHash(ped)])then nA.score=nA.score+1;if nA.score==nA.target then break end end end end;nB,gv=gv,{}if nA.score==nA.target then TextCommandPrint(5000,true,"Gang attack finished!")Wait(5000)c(d.pay,'gangattack',nA.score*(nA.relationship==GetHashKey("MISSION2")and 500 or 250))c(d.debug,5702,{nA.score,nA.relationship})nA.score=0;nA.running=false;return end;TextCommandPrint(1000,true,"Kill ~r~~1~ ~s~enemies of your faction.",nA.target-nA.score)else nB={}end;Wait(1000)end end;nA.app=function(lL)while not IsControlPressed(0,177)and not fd do SetTextRenderId(GetMobilePhoneRenderId())lK(lL)if nA.enemies[fo]==nil then lM("You need to be in\nBALLAS, FAMILIES,\nVAGOS, LOST, SALVA \nor TRIADS faction \nto start gang attack.",.05,lL)elseif nA.running then lM(nA.score.."/"..nA.target.." killed",.05,lL)elseif IsControlJustPressed(0,176)then nA.running=true;Citizen.CreateThread(nA.mission)else lM("Start gang attack?",.05,lL)end;SetTextRenderId(1)Wait(5)end end;local nE={active=false,state="Error",blip=nil}nE.mission=function()while true do Wait(0)local ped=PlayerPedId()local cO=GetEntityCoords(ped)local a4,a5,d5=cO.x-nE.x,cO.y-nE.y,cO.z-nE.z;if GetEntityHealth(ped)==0 then nE.state="You died"SetBlipRoute(nE.blip,false)RemoveBlip(nE.blip)c(d.race,0,0,0)Wait(1000)nE.active=false;break elseif IsPedInAnyPlane(ped)or IsPedInAnyHeli(ped)then nE.state="Disqualified"SetBlipRoute(nE.blip,false)RemoveBlip(nE.blip)c(d.race,0,0,0)Wait(1000)nE.active=false;break elseif a4*a4+a5*a5+d5*d5<25 then nE.state="Finished"SetBlipRoute(nE.blip,false)RemoveBlip(nE.blip)c(d.race,cO.x,cO.y,cO.z)Wait(1000)nE.active=false;break end end end;nE.app=function(lL)while not IsControlPressed(0,177)and not fd do SetTextRenderId(GetMobilePhoneRenderId())lK(lL)if nE.active then lM(nE.state,.05,lL)elseif IsControlJustPressed(0,176)then local ped=PlayerPedId()local cO=GetEntityCoords(ped)c(d.race,cO.x,cO.y,cO.z)else lM("Start race?\n(You will need fast car)",.05,lL)end;SetTextRenderId(1)Wait(5)end end;a(d.race)b(d.race,function(T,U,V,ey)nE.active=true;nE.x=T;nE.y=U;nE.z=V;nE.blip=AddBlipForCoord(T,U,V)SetBlipRoute(nE.blip,true)nE.state=ey;Citizen.CreateThread(nE.mission)end)local nF={active=false,state="Error",blip=nil}nF.mission=function()while true do Wait(0)local ped=PlayerPedId()local cO=GetEntityCoords(ped)local a4,a5,d5=cO.x-nF.x,cO.y-nF.y,cO.z-nF.z;if a4*a4+a5*a5+d5*d5<25 then nF.state="Finished"SetBlipRoute(nF.blip,false)RemoveBlip(nF.blip)nF.active=false;c('fragile-alliance:tournament',cO.x,cO.y,cO.z)break end end end;nF.app=function(lL)while not IsControlPressed(0,177)and not fd do SetTextRenderId(GetMobilePhoneRenderId())lK(lL)if nF.active then lM(nF.state,.05,lL)elseif IsControlJustPressed(0,176)then local ped=PlayerPedId()local cO=GetEntityCoords(ped)c('fragile-alliance:tournament',cO.x,cO.y,cO.z)else lM("Sign for The Tournament?\n(Only one will survive)",.05,lL)end;SetTextRenderId(1)Wait(5)end end;a('fragile-alliance:tournament')b('fragile-alliance:tournament',function(T,U,V,ey)nF.active=true;nF.x=T;nF.y=U;nF.z=V;nF.blip=AddBlipForCoord(T,U,V)SetBlipRoute(nF.blip,true)nF.state=ey;Citizen.CreateThread(nF.mission)end)local nG={}nG.app=function(lL)while not IsControlPressed(0,177)and not fd do if bm.is_cop then if bm.callingpolice then lU("You called backup.",lL)else local bX=GetGameTimer()if nG.timeout==nil or bX>nG.timeout then lU("Call backup?",lL)if IsControlJustPressed(0,176)then nG.timeout=bX+40000;bm.callingpolice=nG.timeout end else lU("You can't call backup now.",lL)end end elseif bm.civilian then if bm.callingpolice then lU("You called police.",lL)else local bX=GetGameTimer()if nG.timeout==nil or bX>nG.timeout then lU("Call police?",lL)if IsControlJustPressed(0,176)then nG.timeout=bX+40000;bm.callingpolice=nG.timeout end else lU("All units are dispatched right now. Try again later.",lL)end end else lU("You can't do this.",lL)end;Wait(0)end end;local nH={}nH.app=function(lL)local dG=GetGameTimer()local nI=GetEntityCoords(PlayerPedId())while not IsControlPressed(0,177)and not fd do local nJ=GetEntityCoords(PlayerPedId())if bm.inside then lU("No signal.\nYou need to go outside.",lL)nI=nJ;dG=GetGameTimer()else if GetGameTimer()-dG>20000 then SetEntityCoords(PlayerPedId(),fi.x,fi.y,fi.z)break elseif math.abs(nJ.x-nI.x)+math.abs(nJ.y-nI.y)+math.abs(nJ.z-nI.z)>3.0 then break end;lU("Evacuation...\nDon't move for 20 seconds.",lL)end;Wait(0)end end;local nK={}nK.app=function(lL)local dG=GetGameTimer()local nI=GetEntityCoords(PlayerPedId())while not IsControlPressed(0,177)and not fd do local nJ=GetEntityCoords(PlayerPedId())local mQ="Retiring from faction...\nDon't move for 20 seconds."if bm.inside then nI=nJ;dG=GetGameTimer()mQ="Not here."elseif bm.wanted~=0 then nI=nJ;dG=GetGameTimer()mQ="You need to lose cops."elseif GetGameTimer()-dG>20000 then TriggerEvent(d.savenquit_none,math.random(0,0xFFFFFF),"Respawned.")break elseif math.abs(nJ.x-nI.x)+math.abs(nJ.y-nI.y)+math.abs(nJ.z-nI.z)>3.0 then break end;lU(mQ,lL)Wait(0)end end;Citizen.CreateThread(function()local lL={}local nL=90;local nM=function(lL)while not IsControlPressed(0,177)and not fd do if not h9 and IsControlJustPressed(0,176)then c('_chat:messageEntered',GetPlayerName(PlayerId()),{255,255,255},"/saveandquit")break end;lU("Quit server?",lL)Wait(0)end end;local nN={}nN.hostel=function()while not IsControlPressed(0,177)and not fd do if jG.bomjhotel.cost~=nil then if jG.bomjhotel.firsttimecheck then jG.bomjhotel.firsttimecheck=nil;c(d.property_check,'bomjhotel')end;lU("You need to buy Hostel to use this.",lL)elseif nN.hostel_timestamp==nil or GetGameTimer()>nN.hostel_timestamp then if IsControlJustPressed(0,176)then nN.hostel_timestamp=GetGameTimer()+10000;ExecuteCommand("party hostel")else lU("Join syndicate?",lL)nN.hostel_timestamp=nil end else local dK=math.floor((nN.hostel_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.altahotel=function()while not IsControlPressed(0,177)and not fd do if jG.altahotel.cost~=nil then if jG.altahotel.firsttimecheck then jG.altahotel.firsttimecheck=nil;c(d.property_check,'altahotel')end;lU("You need to own Alta Hotel.",lL)elseif nN.altahotel_timestamp==nil or GetGameTimer()>nN.altahotel_timestamp then if IsControlJustPressed(0,176)then nN.altahotel_timestamp=GetGameTimer()+10000;ExecuteCommand("party altahotel")else lU("Join Alta Hotel Residents?",lL)nN.altahotel_timestamp=nil end else local dK=math.floor((nN.altahotel_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.stilthouse=function()local nQ={"stilt_2045nc","stilt_2044nc","stilt_3677wd","stilt_3655wod","stilt_2217mr","stilt_2862ha","stilt_2868ha","stilt_2874ha","stilt_2113mwtd"}local nR=5000;while not IsControlPressed(0,177)and not fd do if nN.stilthouse_timestamp==nil or GetGameTimer()>nN.stilthouse_timestamp then if IsControlJustPressed(0,176)then nN.stilthouse_timestamp=GetGameTimer()+10000;local nS=0;local nT;while true do nT=false;for f,g in pairs(nQ)do print(g)local nU=jG[g]if nU.cost~=nil then print("not initialized")if nU.firsttimecheck then nU.firsttimecheck=nil;c(d.property_check,g)nT=true;print("initializing")end elseif nU.stash_money~=nil and nU.stash_money>0 then if nU.stash_money>=nR-nS then c(d.property_stash,g,-(nR-nS))nS=nR;break else nS=nS+nU.stash_money;c(d.property_stash,g,-nU.stash_money)end;print("found money")end end;if nS<nR and nT then Wait(1000)else break end end else lU("Take $5000 from your Stilt House stash?",lL)nN.stilthouse_timestamp=nil end else local dK=math.floor((nN.stilthouse_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.bikerclub=function()SimpleNotification("Not implemented yet.")Wait(0)end;nN.sportbike=function()local nV={-891462355,-114291515,11251904,-1670998136,1265391242}while not IsControlPressed(0,177)and not fd do local ns=PlayerPedId()local e2=GetEntityCoords(ns)if jG.sportbikeclub.cost~=nil then if jG.sportbikeclub.firsttimecheck then jG.sportbikeclub.firsttimecheck=nil;c(d.property_check,'sportbikeclub')end;lU("You need to own Sportbike club.",lL)elseif Vdist2(jG.sportbikeclub.entrance.x,jG.sportbikeclub.entrance.y,jG.sportbikeclub.entrance.z,table.unpack(e2))>400.0 then lU("You need to be near Sportbike club.",lL)elseif nN.sportbike_timestamp==nil or GetGameTimer()>nN.sportbike_timestamp then if IsControlJustPressed(0,176)then nN.sportbike_timestamp=GetGameTimer()+60000;local e1=nV[math.random(1,#nV)]RequestModel(e1)while not HasModelLoaded(e1)do Wait(0)end;local Y=CreateVehicle(e1,e2.x,e2.y,e2.z-0.5,heading,true,false)SetModelAsNoLongerNeeded(e1)SetVehicleDoorsLocked(Y,0)SetVehicleHasBeenOwnedByPlayer(Y,true)SetVehicleNeedsToBeHotwired(Y,false)SetPedIntoVehicle(ns,Y,-1)DecorSetInt(Y,"nowantedforstealing",GetPlayerServerId(PlayerId()))SetVehicleDirtLevel(Y,0.0)SetEntityAsNoLongerNeeded(Y)else lU("Request Sport bike?",lL)nN.sportbike_timestamp=nil end else local dK=math.floor((nN.sportbike_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.helitours=function()local nV={744705981}while not IsControlPressed(0,177)and not fd do local ns=PlayerPedId()local e2=GetEntityCoords(ns)if jG.helihangar.cost~=nil then if jG.helihangar.firsttimecheck then jG.helihangar.firsttimecheck=nil;c(d.property_check,'helihangar')end;lU("You need to own Higgins Helitours.",lL)elseif Vdist2(-743.11785888672,-1466.3117675781,4.5240960121155,table.unpack(e2))>1600.0 then lU("You need to be near Higgins Helitours.",lL)elseif nN.helihangar_timestamp==nil or GetGameTimer()>nN.helihangar_timestamp then if IsControlJustPressed(0,176)then nN.helihangar_timestamp=GetGameTimer()+180000;local e1=nV[math.random(1,#nV)]RequestModel(e1)while not HasModelLoaded(e1)do Wait(0)end;local Y=CreateVehicle(e1,e2.x,e2.y,e2.z-0.5,heading,true,false)SetModelAsNoLongerNeeded(e1)SetVehicleDoorsLocked(Y,0)SetVehicleHasBeenOwnedByPlayer(Y,true)SetVehicleNeedsToBeHotwired(Y,false)SetPedIntoVehicle(ns,Y,-1)DecorSetInt(Y,"nowantedforstealing",GetPlayerServerId(PlayerId()))SetVehicleDirtLevel(Y,0.0)SetEntityAsNoLongerNeeded(Y)else lU("Request helicopter?",lL)nN.helihangar_timestamp=nil end else local dK=math.floor((nN.helihangar_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.deluxe=function()local nV={-1622444098,1123216662,767087018,-1041692462,1274868363,736902334,2072687711,-1045541610,108773431,-566387422,-1995326987,-1089039904,499169875,-1297672541,544021352,-1372848492,482197771,-142942670,-1461482751,-377465520,-1934452204,1737773231,1032823388,719660200,-746882698,-1757836725,1886268224,384071873,2765724541}while not IsControlPressed(0,177)and not fd do local ns=PlayerPedId()local e2=GetEntityCoords(ns)if jG.premiumdeluxemotorsport.cost~=nil then if jG.premiumdeluxemotorsport.firsttimecheck then jG.premiumdeluxemotorsport.firsttimecheck=nil;c(d.property_check,'premiumdeluxemotorsport')end;lU("You need to own Premium Deluxe Motorsport.",lL)elseif Vdist2(-14.991267204285,-1084.0598144531,26.681762695313,table.unpack(e2))>400.0 then lU("You need to be near Premium Deluxe Motorsport back alley.",lL)elseif nN.deluxe_timestamp==nil or GetGameTimer()>nN.deluxe_timestamp then if IsControlJustPressed(0,176)then nN.deluxe_timestamp=GetGameTimer()+180000;local e1=nV[math.random(1,#nV)]RequestModel(e1)while not HasModelLoaded(e1)do Wait(0)end;local Y=CreateVehicle(e1,e2.x,e2.y,e2.z-0.5,heading,true,false)SetModelAsNoLongerNeeded(e1)SetVehicleDoorsLocked(Y,0)SetVehicleHasBeenOwnedByPlayer(Y,true)SetVehicleNeedsToBeHotwired(Y,false)SetPedIntoVehicle(ns,Y,-1)DecorSetInt(Y,"nowantedforstealing",GetPlayerServerId(PlayerId()))SetVehicleDirtLevel(Y,0.0)SetEntityAsNoLongerNeeded(Y)local e3=GetVehiclePetrolTankHealth(Y)local e4=GetVehicleEngineHealth(Y)local e5=GetVehicleBodyHealth(Y)SetVehicleModKit(Y,0)local e6=GetVehicleLiveryCount(Y)if e6>1 then local e7=math.random(1,e6)SetVehicleLivery(Y,e7)end;for e8=0,100 do local e9=GetNumVehicleMods(Y,e8)if e9>0 and e8~=14 and e8~=53 then local ea=math.random(0,e9)SetVehicleMod(Y,e8,ea,math.random(0,1)==1)end end;SetVehiclePetrolTankHealth(Y,e3)SetVehicleEngineHealth(Y,e4)SetVehicleBodyHealth(Y,e5)else lU("Request sport car?",lL)nN.deluxe_timestamp=nil end else local dK=math.floor((nN.deluxe_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;nN.pillbox=function()SimpleNotification("Not implemented yet.")Wait(0)end;nN.lsiahangar=function()local nV={GetHashKey("Seabreeze")}while not IsControlPressed(0,177)and not fd do local ns=PlayerPedId()local e2=GetEntityCoords(ns)if jG.airporthangar.cost~=nil then if jG.airporthangar.firsttimecheck then jG.airporthangar.firsttimecheck=nil;c(d.property_check,'airporthangar')end;lU("You need to own LSIA hangar.",lL)elseif Vdist2(-1656.4895019531,-3150.2131347656,13.992022514343,table.unpack(e2))>1600.0 then lU("You need to be in LSIA hangar.",lL)elseif nN.lsiahangar_timestamp==nil or GetGameTimer()>nN.lsiahangar_timestamp then if IsControlJustPressed(0,176)then nN.lsiahangar_timestamp=GetGameTimer()+180000;local e1=nV[math.random(1,#nV)]RequestModel(e1)while not HasModelLoaded(e1)do Wait(0)end;local Y=CreateVehicle(e1,e2.x,e2.y,e2.z-0.5,heading,true,false)SetModelAsNoLongerNeeded(e1)SetVehicleDoorsLocked(Y,0)SetVehicleHasBeenOwnedByPlayer(Y,true)SetVehicleNeedsToBeHotwired(Y,false)SetPedIntoVehicle(ns,Y,-1)DecorSetInt(Y,"nowantedforstealing",GetPlayerServerId(PlayerId()))SetVehicleDirtLevel(Y,0.0)SetEntityAsNoLongerNeeded(Y)else lU("Request plane?",lL)nN.lsiahangar_timestamp=nil end else local dK=math.floor((nN.lsiahangar_timestamp+50-GetGameTimer())/100)local nO=dK%10;local nP=math.floor((dK-nO)/10)lU("Cooldown:"..nP.."."..nO,lL)end;Wait(0)end end;Wait(200)while true do while not IsControlJustPressed(0,27)do Wait(10)end;local nW="~s~Property abilities\n~s~Party/Squad\n~s~Gang Wars\n~s~Missions\n~s~Civilian Jobs\n~s~Waypoints\n~s~Hide blips\nTetris\nAutopilot\nRetire\nQuit"fd=false;if bm.is_cop then CreateMobilePhone(0)lL.width=30;lL.height=40;lL.text_offset=.05;lL.font=0;lL.dict="3dtextures"lL.sprite="mpgroundlogo_cops"lL.bgcolor={0,64,128,255}lL.cursor_color={100,160,255,64}lL.cursor_step=0.1175;lL.maxlines=8;lL.scale={5.0,0.625}nW="Call backup\nTetris\nAutopilot\nEvacuation\nJobs\nRetire\nQuit"elseif bm.civilian then CreateMobilePhone(0)lL.width=30;lL.height=40;lL.text_offset=.05;lL.font=0;lL.dict="commonmenu"lL.sprite="interaction_bgd"lL.bgcolor={0,64,64,255}lL.cursor_color={100,160,255,64}lL.cursor_step=0.1175;lL.maxlines=8;lL.scale={5.0,0.625}nW="Call police\nTetris\nAutopilot\nEvacuation\nRetire\nQuit"elseif bm.money==nil or bm.money==0 then CreateMobilePhone(4)lL.text_offset=.05;lL.font=4;lL.dict="commonmenu"lL.sprite="interaction_bgd"lL.bgcolor={25,25,25,255}lL.cursor_color={100,100,100,125}lL.cursor_step=.17;lL.maxlines=5;lL.scale={1.0,1.0}elseif bm.money<5000 then CreateMobilePhone(1)lL.text_offset=.05;lL.font=0;lL.dict="commonmenu"lL.sprite="interaction_bgd"lL.bgcolor={255,0,0,255}lL.cursor_color={255,100,0,125}lL.cursor_step=0.1175;lL.maxlines=8;lL.scale={5.0,0.625}elseif bm.money<15000 then CreateMobilePhone(2)lL.text_offset=.05;lL.font=0;lL.dict="commonmenu"lL.sprite="interaction_bgd"lL.bgcolor={75,225,75,255}lL.cursor_color={0,255,0,64}lL.cursor_step=0.1175;lL.maxlines=8;lL.scale={5.0,0.625}else CreateMobilePhone(0)lL.text_offset=.05;lL.font=0;lL.dict="commonmenu"lL.sprite="interaction_bgd"lL.bgcolor={255,255,255,255}lL.cursor_color={100,160,255,64}lL.cursor_step=0.1175;lL.maxlines=8;lL.scale={5.0,0.625}end;RequestStreamedTextureDict(lL.dict,false)while nL>0 do nL=nL-3;SetMobilePhonePosition(130.0,-70.0-nL,-150.0)SetMobilePhoneRotation(nL-90.0,.0-nL,.0,0)if HasStreamedTextureDictLoaded(lL.dict)then lU(nW,lL)end;if fd then break end;Wait(5)end;while not HasStreamedTextureDictLoaded(lL.dict)do Wait(10)end;if bm.is_cop then lV(nW,{nG.app,nc.game,gK.app,nH.app,function(lL)lV("~s~Patrol\n",{mZ.app},lL)end,nK.app,nM},lL)elseif bm.civilian then lV(nW,{nG.app,nc.game,gK.app,nH.app,nK.app,nM},lL)else lV(nW,{function(lL)lV("~s~Hostel\n~s~Alta Hotel\n~s~Stilt house\n~c~Biker club\n~s~Sportbike club\n~s~Helitours\n~s~Deluxe motorsport\n~c~Pillbox center\n~s~LSIA Hangar",{nN.hostel,nN.altahotel,nN.stilthouse,nN.bikerclub,nN.sportbike,nN.helitours,nN.deluxe,nN.pillbox,nN.lsiahangar},lL)end,nm,j4.app,function(lL)lV("~s~Contracts\n~s~Heist\n~s~Hitman\n~s~Carjack\n~s~Gang Attack",{nr.app,function(lL)c(d.startheist)end,l_.app,m8.app,nA.app},lL)end,function(lL)lV("~s~Trucker\n~s~Pilot\n~s~Racing\n~s~Taxi Driver\n~s~Garbage man",{mo.app,me.app,nE.app,mz.app,mt.app},lL)end,function(lL)lV("Factions\nHeist\nChange clothes\nWeapon shop\nCar shop\nArmor shop\nMedic\nGarage",{function(lL)na(lL,hh)end,function(lL)n5(lL,fl)end,function(lL)na(lL,kx)end,function(lL)na(lL,j6)end,function(lL)na(lL,kC)end,function(lL)na(lL,jf)end,function(lL)na(lL,jh)end,function(lL)na(lL,fx)end},lL)end,function(lL)lV("Heist\nChange clothes\nWeapon shop\nCar shop\nArmor shop\nMedic\nGarage\nHide All\nShow all",{function(lL)for f,g in pairs(fl)do SetBlipSprite(g,406)end end,function(lL)j2(kx)end,function(lL)j2(j6)end,function(lL)j2(kC)end,function(lL)j2(jf)end,function(lL)j2(jh)end,function(lL)j2(fx)end,function(lL)j2(kx)j2(j6)j2(kC)j2(jf)j2(jh)j2(fx)end,function(lL)j1(kx)j1(j6)j1(kC)j1(jf)j1(jh)j1(fx)if not bm.is_cop then c(d.startheist)end end},lL)end,nc.game,gK.app,nK.app,nM},lL)end;while nL<90 do nL=nL+3;SetMobilePhonePosition(130.0,-70.0-nL,-150.0)SetMobilePhoneRotation(nL-90.0,.0-nL,.0,0)lU(nW,lL)Wait(5)end;DestroyMobilePhone()SetStreamedTextureDictAsNoLongerNeeded(lL.dict)end end)Citizen.CreateThread(function()Wait(5300)local gY={{{x=179.10368347168,y=-1000.4413452148,z=-98.99991607666},{x=116.38549804688,y=-1088.2795410156,z=29.224967956543},2},{{x=-99.94327545166,y=367.87149047852,z=136.88540649414},{x=-96.979698181152,y=375.31661987305,z=142.68031311035},2},{{x=-84.280181884766,y=326.18963623047,z=142.59918212891},{x=-88.136299133301,y=316.81741333008,z=136.85623168945},2},{{x=-60.255195617676,y=360.07702636719,z=113.05644989014},{x=-51.465496063232,y=362.58261108398,z=142.58668518066},2},{{x=136.1,y=-761.66,z=45.752017974854},{x=136.1,y=-761.66,z=242.15190124512},0},{{x=132.29234313965,y=-726.45343017578,z=258.15216064453},{x=136.35061645508,y=-761.8837890625,z=234.15199279785},0},{{x=157.91926574707,y=-764.91473388672,z=258.15267944336},{x=138.98735046387,y=-762.93859863281,z=45.752010345459},0},{{x=176.38948059082,y=-728.78857421875,z=39.403697967529},{x=140.85789489746,y=-766.53277587891,z=45.752010345459},0},{{x=10.514255523682,y=-671.0830078125,z=33.449558258057},{x=-0.14778167009354,y=-705.87750244141,z=16.131242752075},0},{{x=3540.58,y=3675.33,z=20.991785049438},{x=3540.58,y=3675.33,z=28.121145248413},0},{{x=-1388.7384033203,y=-586.38250732422,z=30.219308853149},{x=-1387.2426757813,y=-588.39855957031,z=30.319528579712},0},{{x=-569.6,y=-927.70080566406,z=36.83358001709},{x=-575.14349365234,y=-940.65777587891,z=23.861577987671},2},{{x=-2360.7565917969,y=3249.4221191406,z=32.810726165771},{x=-2360.7565917969,y=3249.4221191406,z=92.907936096191},0},{{x=254.12356567383,y=-1372.3323974609,z=29.64799118042},{x=240.92289733887,y=-1379.1862792969,z=33.741725921631},2},{{x=-1452.4008789063,y=-540.41760253906,z=74.044342041016},{x=-1447.3759765625,y=-537.69561767578,z=34.740215301514},2},{{x=-1450.0135498047,y=-525.79852294922,z=69.556594848633},{x=-1478.0023193359,y=-519.32653808594,z=34.736682891846},2},{{x=-1450.0438232422,y=-525.75653076172,z=56.9289894104},{x=-1456.2885742188,y=-514.37127685547,z=31.581815719604},2},{{x=-781.84002685547,y=326.09646606445,z=223.25758361816},{x=-776.84765625,y=318.22915649414,z=85.662567138672},1},{{x=-784.33197021484,y=323.65408325195,z=211.99722290039},{x=-794.24645996094,y=353.65585327148,z=87.875015258789},1},{{x=-774.25115966797,y=331.22692871094,z=207.62103271484},{x=-784.26202392578,y=353.65585327148,z=87.874526977539},1},{{x=-781.84069824219,y=326.09136962891,z=176.80363464355},{x=-771.80993652344,y=353.65585327148,z=87.868003845215},1},{{x=-774.63720703125,y=331.50643920898,z=160.00144958496},{x=-771.12036132813,y=318.1640625,z=85.662567138672},1},{{x=-755.70623779297,y=334.61624145508,z=230.63687133789},{x=-761.83123779297,y=353.65585327148,z=87.860282897949},1},{{x=-596.49578857422,y=56.059864044189,z=108.02702331543},{x=-614.59069824219,y=45.853183746338,z=43.591464996338},1},{{x=-603.65313720703,y=58.958003997803,z=98.200202941895},{x=-621.07495117188,y=45.856052398682,z=43.591464996338},1},{{x=-604.97869873047,y=51.153518676758,z=93.626129150391},{x=-636.29132080078,y=44.208354949951,z=42.69766998291},1},{{x=-30.793453216553,y=-595.20989990234,z=80.030899047852},{x=-36.039257049561,y=-570.05126953125,z=38.833343505859},1},{{x=-18.444511413574,y=-591.36114501953,z=90.114807128906},{x=-14.568516731262,y=-612.93511962891,z=35.861480712891},1},{{x=-25.372816085815,y=-607.34533691406,z=100.2328414917},{x=-39.100040435791,y=-614.44342041016,z=35.268527984619},1},{{x=-907.68786621094,y=-453.58840942383,z=126.53441619873},{x=-906.79760742188,y=-451.81100463867,z=39.605278015137},1},{{x=-890.73608398438,y=-436.62799072266,z=121.60710144043},{x=-909.53356933594,y=-446.46926879883,z=39.605278015137},1},{{x=-890.71032714844,y=-452.80456542969,z=95.461090087891},{x=-914.08471679688,y=-443.30319213867,z=39.605293273926},1},{{x=-888.82916259766,y=-443.88052368164,z=168.11874389648},{x=-908.36840820313,y=-455.20474243164,z=39.605278015137},1},{{x=-888.82916259766,y=-443.88052368164,z=168.11874389648},{x=-907.28411865234,y=-457.83926391602,z=39.605293273926},1},{{x=-913.20983886719,y=-365.29461669922,z=114.27479553223},{x=-936.55914306641,y=-379.01208496094,z=38.961292266846},1},{{x=-907.26800537109,y=-372.271484375,z=109.440284729},{x=-933.64636230469,y=-384.37829589844,z=38.96134185791},1},{{x=-922.8896484375,y=-378.71728515625,z=85.480476379395},{x=-902.41082763672,y=-378.19281005859,z=38.961330413818},0},{{x=-908.51147460938,y=-369.88528442383,z=113.07417297363},{x=-903.18896484375,y=-370.01379394531,z=136.28221130371},0},{{x=-1370.6779785156,y=-503.3337097168,z=33.15739440918},{x=-1396.0753173828,y=-479.81362915039,z=72.042175292969},0},{{x=-1392.8668212891,y=-479.35598754883,z=72.042175292969},{x=-1368.9675292969,y=-471.51470947266,z=84.446922302246},0},{{x=-66.987716674805,y=-822.03552246094,z=321.28732299805},{x=-76.518287658691,y=-826.76751708984,z=243.38597106934},1},{{x=-66.977386474609,y=-802.21911621094,z=44.227298736572},{x=-77.63794708252,y=-829.80676269531,z=243.38597106934},1},{{x=-136.60023498535,y=-596.10064697266,z=206.91572570801},{x=-140.41282653809,y=-620.84814453125,z=168.82055664063},1},{{x=-116.81313323975,y=-604.64208984375,z=36.28071975708},{x=-140.70249938965,y=-617.53430175781,z=168.82055664063},1},{{x=-1561.2158203125,y=-568.74938964844,z=114.44840240479},{x=-1578.7490234375,y=-564.43121337891,z=108.52295684814},0},{{x=-1581.5513916016,y=-557.98529052734,z=34.953018188477},{x=-1580.8099365234,y=-561.62872314453,z=108.52295684814},0},{{x=132.21673583984,y=-1462.0244140625,z=29.357046127319},{x=134.1340637207,y=-1463.7073974609,z=29.357027053833},0},{{x=992.35400390625,y=-1397.9366455078,z=31.534893035889},{x=991.15936279297,y=-1395.9020996094,z=31.538208007813},0},{{x=988.66223144531,y=-1383.0205078125,z=31.548046112061},{x=989.18890380859,y=-1380.8845214844,z=31.543363571167},0},{{x=406.80325317383,y=-1347.3693847656,z=41.053558349609},{x=402.17990112305,y=-1352.4173583984,z=39.741680145264},0},{{x=1906.3560791016,y=3711.7106933594,z=32.808532714844},{x=1907.5242919922,y=3709.90234375,z=32.714233398438},0}}while true do while not IsControlPressed(0,86)do Wait(10)end;local ped=PlayerPedId()local cO=GetEntityCoords(ped)local T,U,V=cO.x,cO.y,cO.z;for f,g in pairs(gY)do local a4,a5,d5=T-g[1].x,U-g[1].y,V-g[1].z;if g[3]==0 then if d5<.2 and d5>-.2 and a4*a4+a5*a5<1.0 then SetEntityCoords(ped,g[2].x+a4,g[2].y+a5,g[2].z+d5)Wait(1000)break end;a4,a5,d5=T-g[2].x,U-g[2].y,V-g[2].z;if d5<.2 and d5>-.2 and a4*a4+a5*a5<1.0 then SetEntityCoords(ped,g[1].x+a4,g[1].y+a5,g[1].z+d5)Wait(1000)break end;DrawBox(g[1].x-1.0,g[1].y-1.0,g[1].z-.2,g[1].x+1.0,g[1].y+1.0,g[1].z+.2,255,0,0,100)DrawBox(g[2].x-1.0,g[2].y-1.0,g[2].z-.2,g[2].x+1.0,g[2].y+1.0,g[2].z+.2,255,0,0,100)elseif g[3]==1 then if math.abs(d5)<.2 and math.abs(a4)<1.0 and math.abs(a5)<1.0 then SetEntityCoords(ped,g[2].x+a4,g[2].y+a5,g[2].z+d5)Wait(1000)break end;a4,a5,d5=T-g[2].x,U-g[2].y,V-g[2].z;if math.abs(d5)<.2 and math.abs(a4)<1.0 and math.abs(a5)<1.0 then SetEntityCoords(ped,g[1].x+a4,g[1].y+a5,g[1].z+d5)Wait(1000)break end;DrawBox(g[1].x-1.0,g[1].y-1.0,g[1].z-.2,g[1].x+1.0,g[1].y+1.0,g[1].z+.2,0,255,0,100)DrawBox(g[2].x-1.0,g[2].y-1.0,g[2].z-.2,g[2].x+1.0,g[2].y+1.0,g[2].z+.2,0,255,0,100)else if math.abs(d5)<.2 and math.abs(a4)+math.abs(a5)<1.0 then SetEntityCoords(ped,g[2].x+a4,g[2].y+a5,g[2].z+d5)Wait(1000)break end;a4,a5,d5=T-g[2].x,U-g[2].y,V-g[2].z;if math.abs(d5)<.2 and math.abs(a4)+math.abs(a5)<1.0 then SetEntityCoords(ped,g[1].x+a4,g[1].y+a5,g[1].z+d5)Wait(1000)break end;DrawBox(g[1].x-1.0,g[1].y-1.0,g[1].z-.2,g[1].x+1.0,g[1].y+1.0,g[1].z+.2,0,0,255,100)DrawBox(g[2].x-1.0,g[2].y-1.0,g[2].z-.2,g[2].x+1.0,g[2].y+1.0,g[2].z+.2,0,0,255,100)end end;Wait(0)end end)Citizen.CreateThread(function()while true do Wait(0)local ped=PlayerPedId()cO=GetEntityCoords(ped)if math.abs(cO.x+268.26617431641)+math.abs(cO.y+958.71459960938)<20.0 then if cO.z>35.0 and cO.z<36.0 then SetHighFallTask(ped,2000,-1,-1)end end end end)local nX={}nX[GetHashKey("AMBIENT_GANG_LOST")]=hi.lost;nX[GetHashKey("AGGRESSIVE_INVESTIGATE")]=hi.merc;nX[GetHashKey("MISSION2")]=hi.anarchy;nX[GetHashKey("AMBIENT_GANG_BALLAS")]=hi.ballas;nX[GetHashKey("AMBIENT_GANG_FAMILY")]=hi.fams;nX[GetHashKey("AMBIENT_GANG_SALVA")]=hi.salva;nX[GetHashKey("AMBIENT_GANG_WEICHENG")]=hi.triads;nX[GetHashKey("AMBIENT_GANG_MARABUNTE")]=hi.armmob;nX[GetHashKey("MISSION3")]=hi.heister;nX[GetHashKey("MISSION4")]=hi.elite;nX[GetHashKey("MISSION5")]=hi.pirates;a(d.savenquit_load)b(d.savenquit_load,function(cO,aW,gn,iA,b4,bc,gy,bf,jL,jM)while GetEntityModel(PlayerPedId())~=aW do Wait(50)end;Wait(600)if aW==941695432 then hi.fbi()Wait(100)jt(PlayerPedId())return elseif aW==365775923 then hi.criminal()Wait(100)jt(PlayerPedId())return elseif aW==225514697 then hi.merc()Wait(100)jt(PlayerPedId())return elseif aW==-1686040670 then hi.heister()Wait(100)jt(PlayerPedId())return elseif aW==-1692214353 then hi.elite()Wait(100)jt(PlayerPedId())return elseif aW==1330042375 then if gn[10+1]<1 then hi.anarchy()else hi.lost()end;return end;local nY=nX[jL]if nY~=nil then nY()else if hj.pirates[aW]~=nil then hi.pirates()elseif hj.cartel[aW]~=nil then hi.cartel()elseif hj.vagos[aW]~=nil then hi.vagos()else if aW==-1920001264 then if gn[10+1]==0 and jM[10+1]==1 then hi.fbiswat()else hi.noose()end;return end;for f,g in pairs(fB.FBISWAT)do if aW==g then hi.fbiswat()break end end;for f,g in pairs(fB.LSFD)do if aW==g then hi.firefighters()break end end;for f,g in pairs(fB.REPORTERS)do if aW==g then hi.reporters()break end end;for f,g in pairs(fB.MEDICS)do if aW==g then hi.paramedics()break end end;for f,g in pairs(fB.FBI)do if aW==g then hi.fbi()break end end;for f,g in pairs(fB.LSPD)do if aW==g then if gn[9+1]==2 then hi.lspdheavy()else hi.lspd()end;break end end;for f,g in pairs(fB.COASTGUARD)do if aW==g then hi.coastguard()break end end;for f,g in pairs(fB.BORDERPATROL)do if aW==g then hi.borderpatrol()break end end;for f,g in pairs(fB.DETECTIVESHEAVY)do if aW==g then hi.detectivesheavy()break end end;for f,g in pairs(fB.DETECTIVES)do if aW==g then hi.detectives()break end end;for f,g in pairs(fB.SECURITY)do if aW==g then hi.security()break end end;for f,g in pairs(fB.NYSP)do if aW==g then hi.nysp()break end end;for f,g in pairs(fB.SSPD)do if aW==g then if gn[9+1]==2 then hi.sspdheavy()else hi.sspd()end;break end end;for f,g in pairs(fB.SAHP)do if aW==g then if gn[8+1]==1 then hi.sahpheavy()else hi.sahp()end;break end end;for f,g in pairs(fB.SAPR)do if aW==g then hi.sapr()break end end;for f,g in pairs(fB.MILITARY)do if aW==g then hi.military()break end end;for f,g in pairs(fB.NAVY)do if aW==g then hi.navy()break end end end end end)Citizen.CreateThread(function()local bB;local cI;while true do local g1=PlayerId()if bm.is_cop then local nZ=false;cO=GetEntityCoords(PlayerPedId())if cI==nil then cI={}end;local n_=GetPlayerWantedLevel(g1)>0 and ArePlayerStarsGreyedOut(g1)for u=0,31 do if NetworkIsPlayerActive(u)then if u~=g1 then local h3=GetPlayerPed(u)if IsPedCop(h3)then local o0=GetBlipFromEntity(h3)if o0~=0 then SetBlipShowCone(o0,n_)end end end;if GetPlayerWantedLevel(u)>0 then local eC=cI[u]local o1=GetPlayerWantedCentrePosition(u)local a4,a5=cO.x-o1.x,cO.y-o1.y;local ml=a4*a4+a5*a5;if ml>10000.0 then ml=100.001 else local d5=cO.z-o1.z;if ml+d5*d5<10000.0 then nZ=true end;if ml<4.0 then ml=2.001 else ml=math.sqrt(ml)end end;if eC==nil then eC=AddBlipForRadius(o1.x,o1.y,o1.z,1.0)cI[u]=eC;SetBlipDisplay(eC,2)SetBlipSprite(eC,9)SetBlipColour(eC,3)SetBlipAlpha(eC,100)SetBlipScale(eC,ml)else SetBlipCoords(eC,o1.x,o1.y,o1.z)SetBlipScale(eC,ml)end elseif cI[u]~=nil then RemoveBlip(cI[u])cI[u]=nil end elseif cI[u]~=nil then RemoveBlip(cI[u])cI[u]=nil end end;if bB~=nil then RemoveBlip(bB)bB=nil end;if nZ then Wait(100)else Wait(1000)end else if bm.wanted>0 and GetPlayerWantedLevel(g1)>0 and bm.wanted==GetPlayerWantedLevel(g1)then local a9=PlayerPedId()cO=GetEntityCoords(a9)local o2=GetPlayerWantedCentrePosition(g1)if bB==nil then bB=AddBlipForRadius(o2.x,o2.y,o2.z,100.0)SetBlipDisplay(bB,2)SetBlipSprite(bB,9)SetBlipColour(bB,3)SetBlipAlpha(bB,100)else SetBlipCoords(bB,o2.x,o2.y,o2.z)end;local n_=ArePlayerStarsGreyedOut(g1)for u=0,31 do if u~=g1 and NetworkIsPlayerActive(u)then local h3=GetPlayerPed(u)if IsPedCop(h3)then local o0=GetBlipFromEntity(h3)local o3=GetEntityCoords(h3)if o0~=0 then SetBlipShowCone(o0,n_)end;local a4,a5=cO.x-o3.x,cO.y-o3.y;local ml=a4*a4+a5*a5;if ml<4500.0 then local d5=cO.z-o3.z;local heading=GetEntityHeading(h3)*math.pi/180.0;local o4=math.atan(a5,a4)if o4~=nil then local gL=heading-o4;if gL>3.5 and gL<5.7 or gL>-2.6 and gL<-.5 then if HasEntityClearLosToEntity(h3,a9,17)then if n_ then SetPlayerWantedLevel(g1,0,false)SetPlayerWantedLevelNow(g1,false)end;SetPlayerWantedLevel(g1,bm.wanted,false)SetPlayerWantedLevelNow(g1,false)SetPlayerWantedCentrePosition(g1,cO.x,cO.y,cO.z)end end end end end end end else for u=0,31 do if u~=g1 and NetworkIsPlayerActive(u)then local h3=GetPlayerPed(u)if IsPedCop(h3)then local o0=GetBlipFromEntity(h3)if o0~=0 then SetBlipShowCone(o0,false)end end end end;if bB~=nil then RemoveBlip(bB)bB=nil end end;if cI~=nil then for f,g in pairs(cI)do RemoveBlip(g)end;cI=nil end;Wait(0)end end end)Citizen.CreateThread(function()local function o5()local bH=GetPlayerWantedLevel(PlayerId())local o6=0;local bX=GetGameTimer()if bH==1 then o6=math.floor(bm.money*0.4)elseif bH==2 then o6=math.floor(bm.money*0.6)elseif bH==3 then o6=math.floor(bm.money*0.7)elseif bH==4 then o6=math.floor(bm.money*0.8)elseif bH==5 then o6=math.floor(bm.money*0.9)elseif bH==6 then o6=math.floor(bm.money*0.95)end;bm.money=bm.money-o6;gd(bm.money,o6)c(d.buy,o6)bm.wanted=0;SetPlayerWantedLevel(PlayerId(),0,false)SetPlayerWantedLevelNow(PlayerId(),false)SetMaxWantedLevel(0)if GetFakeWantedLevel()~=0 then SetFakeWantedLevel(0)end;SetEnableHandcuffs(PlayerPedId(),true)c(d.wanted,0)while GetGameTimer()<bX+5000 do local ped=PlayerPedId()SetPedToRagdoll(ped,5000,1000,0,true,true,false)Wait(0)end;TriggerEvent(d.savenquit_none,math.random(0,0xFFFFFF),"You got arrested and lost $"..o6)Wait(10000)SetEnableHandcuffs(PlayerPedId(),false)Wait(1000)bm.surrendering=false end;local function o7()local o8=GetHashKey("COP")local bX=GetGameTimer()while bm.surrendering do local ped=PlayerPedId()local o9=5.0;for h3 in EnumeratePeds()do if not IsPedAPlayer(h3)and GetPedRelationshipGroupHash(h3)==o8 and not IsEntityDead(h3)then if IsPedInCombat(h3,ped)then ClearPedTasks(h3)TaskGotoEntityAiming(h3,ped,3.0,3.0)end;local o3=GetEntityCoords(h3)local ml=math.abs(cO.x-o3.x)+math.abs(cO.y-o3.y)+math.abs(cO.z-o3.z)if ml<o9 then o9=ml end end end;DrawRect(.5,.9,.2,.025,0,0,0,255)if o9>4.9 then bX=GetGameTimer()else local oa=GetGameTimer()-bX;if oa>10000 then Citizen.CreateThread(o5)Wait(0)while bm.surrendering do local ob=PlayerPedId()for h3 in EnumeratePeds()do if not IsPedAPlayer(h3)and GetPedRelationshipGroupHash(h3)==o8 and not IsEntityDead(h3)then if IsPedInCombat(h3,ob)then ClearPedTasks(h3)TaskGotoEntityAiming(h3,ob,3.0,3.0)end end end;DrawRect(.5,.9,.2,.025,0,0,0,255)Wait(0)end;return else DrawRect(.4+oa*.00001,.9,oa*.00002,.025,255,0,0,255)end end;Wait(0)end end;local eX,lo='random@arrests@busted','idle_a'RequestAnimDict(eX)while not HasAnimDictLoaded(eX)do Wait(10)end;while true do Wait(0)local ped=PlayerPedId()if not IsPedInAnyVehicle(ped)and IsControlPressed(0,74)then if bm.is_cop then local h3=PlayerPedId()local cO=GetEntityCoords(h3)local oc=false;for u=0,31 do if NetworkIsPlayerActive(u)then local od=GetPlayerPed(u)if od~=nil then if od~=0 then if od~=h3 then if(IsEntityPlayingAnim(od,eX,lo,3)or IsPedRagdoll(od))and hj.government[GetEntityModel(od)]==nil then local oe=GetEntityCoords(od)local a4,a5,d5=oe.x-cO.x,oe.y-cO.y,oe.z-cO.z;if a4*a4+a5*a5+d5*d5<4.0 then c(d.take_suspect_alive,GetPlayerServerId(u))oc=true end end end end end end end;if oc then Wait(1000)end else ClearPedTasks(ped)RequestAnimDict(eX)TaskPlayAnim(ped,eX,lo,2.0,-8.0,-1,0,0,0,0,0)Wait(2000)bm.surrendering=true;Citizen.CreateThread(o7)while bm.surrendering and not IsControlPressed(0,21)do TaskPlayAnim(ped,eX,lo,2.0,-8.0,-1,0,0,0,0,0)SimpleNotification("Hold ~g~SPRINT ~s~button to stop surrendering.")if IsControlPressed(0,21)or not bm.surrendering then break end;Wait(1000)if IsControlPressed(0,21)or not bm.surrendering then break end;Wait(1000)if IsControlPressed(0,21)or not bm.surrendering then break end;Wait(1000)end;bm.surrendering=false;Wait(1000)ClearPedTasks(PlayerPedId())end end end end)Citizen.CreateThread(function()local o8=GetHashKey("COP")local of=1127131465;local og=-1647941228;local oh=1922257928;local oi=-1205689942;local oj=2071877360;local ok=0x48157027;local ol=74062924;local om=-34623805;local on=1912215274;local oo=-1683328900;local op=456714581;local oq=-1627000575;local os=-1973172295;local ot=321739290;local ou=-823509173;local ov=-1693015116;local ow=-1536924937;local ox=-1779120616;local oy=GetHashKey("ngranger")local oz;local oA;local oB=1747439474;local oC=1581098148;local oD=GetHashKey("D_O_V_Dick_01")local oE=GetHashKey("s_m_m_dick_01")local oF=-1320879687;local oG=1939545845;local oH=-1920001264;local oI=2072724299;local oJ=GetHashKey("s_m_y_swat_02")local oK=1925237458;local oL=-220552467;local oM=1702441027;local oN=-839953400;local oO=451459928;local oP=GetHashKey("D_O_V_NPatrol_01")RequestModel(oE)RequestModel(oD)RequestModel(oi)RequestModel(oj)RequestModel(ok)RequestModel(om)RequestModel(of)RequestModel(oI)RequestModel(oJ)RequestModel(oG)RequestModel(op)RequestModel(ot)RequestModel(ol)RequestModel(os)RequestModel(oq)RequestModel(ou)RequestModel(ov)RequestModel(oK)RequestModel(oN)RequestModel(ow)RequestModel(ox)RequestModel(oO)RequestModel(oP)RequestModel(oy)RequestModel(oB)local oQ={}local oR={}local oS={{mdl=om,limits={{oQ,om,2},{oR,oG,2}},team={[-1]={need=60000,type=6,mdl=oG,rndp=true,prop={{0,0,0}},wpns={[WEAPON.COMBATPISTOL]={}}}}},{mdl=os,limits={{oQ,os,2},{oR,oE,4}},team={[-1]={need=60000,type=6,cop=true,rel=o8,mdl=oE,rndp=true,wpns={[WEAPON.COMBATPISTOL]={}}},[0]={need=60000,type=6,cop=true,rel=o8,mdl=oE,rndp=true,wpns={[WEAPON.SNSPISTOLMK2]={}}}}},{mdl=oy,limits={{oQ,oy,1},{oR,oP,4}},team={[-1]={need=60000,type=6,cop=true,rel=o8,mdl=oP,rndp=true,wpns={[WEAPON.PISTOL]={}}},[0]={need=60000,type=6,cop=true,rel=o8,mdl=oP,rndp=true,wpns={[WEAPON.PISTOL]={upgr={'flashlight'}}}},[1]={need=60000,type=6,cop=true,rel=o8,mdl=oP,rndp=true,wpns={[WEAPON.PISTOL]={upgr={'flashlight'}}}},[2]={need=60000,type=6,cop=true,rel=o8,mdl=oP,rndp=true,wpns={[WEAPON.CARBINERIFLE]={upgr={'flashlight'}}}}}},{mdl=oq,limits={{oQ,oq,2},{oR,oG,2}},team={[-1]={need=60000,type=6,mdl=oG,rndp=true,wpns={[WEAPON.REVOLVER]={}}}}},{mdl=ov,limits={{oQ,ov,1},{oR,oN,4}},team={[-1]={need=60000,type=29,cop=true,rel=o8,mdl=oN,rndp=true,dontleavecar=true,melee=true,prop={{0,1,0}},armor=150,wpns={[WEAPON.NIGHTSTICK]={}}},[0]={need=60000,type=6,cop=true,rel=o8,mdl=oN,rndp=true,melee=true,prop={{0,1,0}},armor=150,wpns={[WEAPON.NIGHTSTICK]={}}},[1]={need=60000,type=6,cop=true,rel=o8,mdl=oN,rndp=true,melee=true,prop={{0,1,0}},armor=150,wpns={[WEAPON.NIGHTSTICK]={}}},[2]={need=60000,type=6,cop=true,rel=o8,mdl=oN,rndp=true,melee=true,armor=150,prop={{0,1,0}},wpns={[WEAPON.NIGHTSTICK]={}}}}}}local oT={{mdl=oi,rem=true,limits={{oR,oH,4},{oQ,oi,1}},team={[-1]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.SMG]={upgr={'flashlight'}}}},[0]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.CARBINERIFLE]={upgr={'grip','flashlight'}}}},[1]={mdl=oH,need=60000,type=27,rndp=true,wpns={[WEAPON.MARKSMANRIFLE]={}}},[2]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.SPECIALCARBINE]={upgr={'scope','grip','flashlight'}}}}}},{mdl=oq,limits={{oQ,oq,2},{oR,oG,4}},team={[-1]={need=60000,type=6,mdl=oG,armor=100,rndp=true,comp={{8,1,0,0}},wpns={[WEAPON.CARBINERIFLE]={}}},[0]={need=60000,type=6,mdl=oG,armor=100,rndp=true,comp={{8,1,0,0}},wpns={[WEAPON.MARKSMANRIFLE]={}}}}},{mdl=of,rem=true,limits={{oR,oI,4},{oQ,of,1}},team={[-1]={mdl=oI,need=60000,type=27,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.SMG]={upgr={'scope'}},[WEAPON.HEAVYPISTOL]={}}},[0]={mdl=oI,need=60000,type=27,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.MICROSMG]={upgr={'silencer','extendedmag'}}}},[1]={mdl=oI,need=60000,type=27,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.COMBATPDW]={upgr={'grip','scope'}},[WEAPON.HEAVYPISTOL]={}}},[2]={mdl=oI,need=60000,type=27,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.SMG]={upgr={'grip','scope','silencer'}},[WEAPON.HEAVYPISTOL]={}}}}},{mdl=os,rem=true,limits={{oR,oD,4},{oQ,os,2}},team={[-1]={mdl=oD,need=60000,comp={{8,1,0,0}},type=6,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.PISTOL]={}}},[0]={mdl=oD,need=60000,comp={{8,1,0,0}},type=6,cop=true,rel=o8,rndp=true,armor=100,wpns={[WEAPON.PISTOL]={}}}}},{mdl=op,rem=true,limits={{oR,oC,4},{oQ,op,1}},team={[-1]={mdl=oC,need=60000,comp={{9,2,0,0}},type=6,rndp=true,armor=100,wpns={[WEAPON.SMG]={upgr={'flashlight'}}}},[0]={mdl=oC,need=60000,comp={{9,2,0,0}},type=6,rndp=true,armor=100,wpns={[WEAPON.SMG]={upgr={'flashlight'}}}},[1]={mdl=oC,need=60000,comp={{9,2,0,0}},type=6,rndp=true,armor=100,wpns={[WEAPON.PUMPSHOTGUN]={upgr={'flashlight'}}}},[2]={mdl=oC,need=60000,comp={{9,2,0,0}},type=6,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={upgr={'flashlight'}}}}}},{mdl=og,rem=true,limits={{oR,oH,4},{oR,oI,4},{oQ,og,2}},team={[-1]={mdl=oI,need=60000,type=27,rndp=true,armor=100,wpns={[WEAPON.ASSAULTSMG]={}}},[0]={mdl=oH,need=60000,comp={{10,0,1,0}},type=27,rndp=true,armor=100,wpns={[WEAPON.ASSAULTSMG]={upgr={'scope','flashlight','silencer'}}}},[1]={mdl=oH,need=60000,comp={{10,0,1,0}},type=27,rndp=true,armor=100,wpns={[WEAPON.ADVANCEDRIFLE]={upgr={'scope'}}}},[2]={mdl=oH,need=60000,comp={{10,0,1,0}},type=27,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={upgr={'scope','grip','silencer'}}}}}},{mdl=ot,rem=true,limits={{oR,oK,4},{oQ,ot,1}},team={[-1]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.SMG]={tint=4}}},[0]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={tint=4},[WEAPON.COMBATPISTOL]={}}},[1]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={tint=4},[WEAPON.COMBATPISTOL]={}}},[2]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.COMBATMG]={tint=4},[WEAPON.COMBATPISTOL]={}}}}},{mdl=ol,rem=true,limits={{oR,oK,5},{oQ,ol,1}},team={[-1]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.SMG]={tint=4}}},[0]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={tint=4},[WEAPON.COMBATPISTOL]={}}},[1]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={tint=4},[WEAPON.COMBATPISTOL]={}}},[2]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.COMBATMG]={tint=4},[WEAPON.COMBATPISTOL]={}}},[3]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.ASSAULTRIFLE]={tint=4},[WEAPON.COMBATPISTOL]={}}}}},{mdl=ou,rem=true,limits={{oR,oL,4},{oR,oM,4},{oR,oK,4},{oQ,ou,1}},team={[-1]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.SMG]={tint=4}}},[0]={mdl=oM,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.SMG]={tint=4}}},[1]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[2]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[3]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[4]={mdl=oM,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[5]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.COMBATMG]={tint=4}}},[6]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.COMBATMG]={tint=4}}},[7]={mdl=oM,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[8]={mdl=oK,type=29,cop=true,rel=o8,need=60000,rndp=true,armor=100,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[9]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}},[10]={mdl=oL,type=29,cop=true,rel=o8,need=60000,rndp=true,wpns={[WEAPON.CARBINERIFLE]={tint=4}}}}},{mdl=oj,rem=true,limits={{oR,oH,4},{oQ,oj,1}},clr1=11,clr2=11,team={[-1]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.SMG]={upgr={'flashlight'}}}},[0]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.CARBINERIFLE]={upgr={'grip','flashlight'}}}},[1]={mdl=oH,need=60000,type=27,rndp=true,wpns={[WEAPON.MARKSMANRIFLE]={}}},[2]={mdl=oH,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.SPECIALCARBINE]={upgr={'scope','grip','flashlight'}}}}}},{mdl=ok,rem=true,limits={{oR,oJ,4},{oQ,ok,1}},clr1=152,clr2=152,team={[-1]={mdl=oJ,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.PISTOLMK2]={}}},[0]={mdl=oJ,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.PUMPSHOTGUNMK2]={}}},[1]={mdl=oJ,need=60000,type=27,rndp=true,wpns={[WEAPON.SMGMK2]={upgr={'flashlight'}}}},[2]={mdl=oJ,need=60000,type=27,rndp=true,prop={{0,0,0}},wpns={[WEAPON.ADVANCEDRIFLE]={upgr={'scope','flashlight','silencer'}}}}}}}local oU={}oU[on]={oC,oS}oU[oo]={oF,oS}oU[og]={oH,oT}oU[oh]=oU[og]for aW,oV in pairs(oU)do for oW,oX in pairs(oV[2])do if oX.limits~=nil then for _,oY in pairs(oX.limits)do if oY[1]==oR then oR[oY[2]]=0 elseif oY[1]==oQ then oQ[oY[2]]=0 end end end;for bZ,oZ in pairs(oX.team)do for o_,p0 in pairs(oZ.wpns)do if p0.upgr~=nil then for p1,p2 in pairs(p0.upgr)do if weapon_upgrades[p2]~=nil then p0.upgr[p1]=weapon_upgrades[p2][o_]end end end end end end end;Wait(15000)while true do for f,g in pairs(oR)do oR[f]=0 end;for f,g in pairs(oQ)do oQ[f]=0 end;local bX=GetSyncTimer()for ped in EnumeratePeds()do if not IsPedAPlayer(ped)then if GetEntityHealth(ped)==0 then if DecorExistOn(ped,fp.corpseremovaltimestamp)then if DecorGetInt(ped,fp.corpseremovaltimestamp)<bX then RemovePedElegantly(ped)end else DecorSetInt(ped,fp.corpseremovaltimestamp,bX+20000)end elseif DecorExistOn(ped,fp.customdispatchtimestamp)and DecorGetInt(ped,fp.customdispatchtimestamp)<bX then SetPedAsNoLongerNeeded(ped)end;local aW=GetEntityModel(ped)if oR[aW]~=nil then oR[aW]=oR[aW]+1 end end end;local p3={}for Y in EnumerateVehicles()do local aW=GetEntityModel(Y)if oQ[aW]~=nil then oQ[aW]=oQ[aW]+1 end;local p4=oU[aW]if p4~=nil and not DecorExistOn(Y,fp.dontchangemodel)then local ped=GetPedInVehicleSeat(Y,-1)if ped~=0 and not IsPedAPlayer(ped)and GetEntityModel(ped)==p4[1]then local p5=p4[2]local oX=p5[1+math.abs(GetHashKey(GetVehicleNumberPlateText(Y)))%#p5]p3[Y]=oX end end end;for p6,oX in pairs(p3)do if oX.limits~=nil then for _,oY in pairs(oX.limits)do if oY[1][oY[2]]>=oY[3]then if oX.rem then SetEntityAsMissionEntity(p6,true,true)DeleteVehicle(p6)else DecorSetBool(p6,fp.dontchangemodel)end;goto p7 end end end;SetEntityAsMissionEntity(p6,true,true)local cO=GetEntityCoords(p6)local gL=GetEntityHeading(p6)DeleteVehicle(p6)if oQ[oX.mdl]~=nil then oQ[oX.mdl]=oQ[oX.mdl]+1 end;local Y=CreateVehicle(oX.mdl,cO.x,cO.y,cO.z-.99,gL,true,false)SetVehicleColorsEnhanced(Y,oX.clr1,oX.clr2)for bZ,oZ in pairs(oX.team)do if oR[oZ.mdl]~=nil then oR[oZ.mdl]=oR[oZ.mdl]+1 end;local ped=CreatePedInsideVehicle(Y,oZ.type,oZ.mdl,bZ,true,false)if oZ.cop then SetPedAsCop(ped,true)end;if oZ.rel~=nil then SetPedRelationshipGroupHash(ped,oZ.rel)end;if oZ.dontleavecar then gs(ped)else gt(ped)end;if oZ.melee then SetPedCombatMovement(ped,3)end;if oZ.rndp then SetPedRandomProps(ped)end;if oZ.rndc then SetPedRandomComponentVariation(ped,false)end;if oZ.prop~=nil then for _,g in pairs(oZ.prop)do SetPedPropIndex(ped,g[1],g[2],g[3],true)end end;if oZ.comp~=nil then for _,g in pairs(oZ.comp)do SetPedComponentVariation(ped,g[1],g[2],g[3],g[4])end end;if oZ.armor~=nil then SetPedArmour(ped,oZ.armor)end;for o_,p0 in pairs(oZ.wpns)do GiveWeaponToPed(ped,o_,1000,false,true)if p0.tint~=nil then SetPedWeaponTintIndex(ped,o_,p0.tint)end;if p0.upgr~=nil then for p1,je in pairs(p0.upgr)do GiveWeaponComponentToPed(ped,o_,je)end end end;if oZ.need~=nil then DecorSetInt(ped,fp.customdispatchtimestamp,bX+oZ.need)else SetPedAsNoLongerNeeded(ped)end end;SetVehicleAsNoLongerNeeded(Y)::p7::end;Wait(0)end end)Citizen.CreateThread(function()while true do Wait(0)for u=0,16 do SetDispatchTimeBetweenSpawnAttemptsMultiplier(1,10.0)u=u+1 end;SetAiWeaponDamageModifier(1.0)end end)Citizen.CreateThread(function()while not IsPlayerPlaying(PlayerId())do Wait(50)end;while not NetworkIsPlayerActive(PlayerId())do Wait(50)end;Wait(1000)TextCommandPrint(8000,true,"~r~Loading character...")Wait(8000)c(d.savenquit_load)end)local function dT(dU,dV)local g1=dU;SetPlayerControl(g1,not dV,false)local ped=GetPlayerPed(g1)if not dV then if not IsEntityVisible(ped)then SetEntityVisible(ped,true)end;if not IsPedInAnyVehicle(ped)then SetEntityCollision(ped,true)end;FreezeEntityPosition(ped,false)else if IsEntityVisible(ped)then SetEntityVisible(ped,false)end;SetEntityCollision(ped,false)FreezeEntityPosition(ped,true)if not IsPedFatallyInjured(ped)then ClearPedTasksImmediately(ped)end end end;a(d.savenquit_load)b(d.savenquit_load,function(cO,aW,gn,iA,b4,bc,gy,bf,jL,jM)DoScreenFadeOut(500)while IsScreenFadingOut()do Citizen.Wait(0)end;dT(PlayerId(),true)local ped=PlayerPedId()if aW~=GetEntityModel(ped)then RequestModel(aW)while not HasModelLoaded(aW)do Wait(10)end;SetPlayerModel(PlayerId(),aW)SetModelAsNoLongerNeeded(aW)ped=PlayerPedId()end;SetEntityCoords(ped,cO.x,cO.y,cO.z)SetEntityCoordsNoOffset(ped,cO.x,cO.y,cO.z,false,false,false,true)NetworkResurrectLocalPlayer(cO.x,cO.y,cO.z,.0,false)if fc~=nil then SetPedMaxHealth(ped,fc)end;SetEntityHealth(ped,b4)SetPedArmour(ped,bc)for u=0,11 do SetPedComponentVariation(ped,u,gn[u+1],jM[u+1],0)end;for u=0,3 do SetPedPropIndex(ped,u,iA[u+1],0,true)end;for f,g in pairs(gy)do GiveWeaponToPed(ped,f,0,false,true)for u,jp in pairs(g)do GiveWeaponComponentToPed(ped,f,jp)end end;for f,g in pairs(bf)do SetPedAmmoByType(ped,f,g)end;SetPedRelationshipGroupHash(ped,jL)RequestCollisionAtCoord(cO.x,cO.y,cO.z)while not HasCollisionLoadedAroundEntity(ped)do Citizen.Wait(0)end;ShutdownLoadingScreen()DoScreenFadeIn(500)while IsScreenFadingIn()do Citizen.Wait(0)end;dT(PlayerId(),false)TriggerEvent('playerSpawned')Wait(100)SimpleNotification("~g~Character loaded!")end)local function dA(dB,dC)local dD=dC*dC;local dE=dC+dC;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dB.x=math.random()*dE-dC;dB.y=math.random()*dE-dC;if dB.x*dB.x+dB.y*dB.y<dD then return end;dE=dC*1.41421356237;dB.x=math.random()*dE;dB.y=math.random()*dE;dE=dE*.5;dB.x=dB.x-dE;dB.y=dB.y-dE end;local function dF()local dG=GetGameTimer()while GetTimeDifference(GetGameTimer(),dG)<5000 do local ped=PlayerPedId()local cO=GetEntityCoords(ped)if cO.z>.0 then break end;if GetEntityHealth(ped)<150 or IsEntityInWater(ped)then SetEntityCoords(ped,cO.x,cO.y,1000.0)GiveWeaponToPed(ped,0xFFFFFFFFFBAB5776,1,false,true)break end;Wait(10)end end;a(d.savenquit_none)b(d.savenquit_none,function(ev,ey)math.randomseed(ev)math.random()math.random()math.random()math.random()math.random()bm.scuba_gear=nil;DoScreenFadeOut(500)while IsScreenFadingOut()do Citizen.Wait(0)end;dT(PlayerId(),true)local dv=-44.8;local dw=-706.756;local dx=1500.1;local dz={"A_M_M_MexLabor_01","S_M_M_AutoShop_01","A_M_Y_Beach_02","A_M_Y_BeachVesp_01","A_M_Y_BeachVesp_02","A_M_M_BevHills_01","A_M_Y_BevHills_01","A_M_M_BevHills_02","A_M_Y_BevHills_02","A_M_Y_BusiCas_01","A_M_Y_Business_02","A_M_Y_Business_03","S_M_O_Busker_01","A_M_Y_Cyclist_01","S_M_Y_Dealer_01","A_M_Y_Downtown_01","A_M_M_EastSA_01","A_M_Y_EastSA_01","A_M_M_EastSA_02","A_M_Y_EastSA_02","U_M_M_Edtoh","A_M_Y_Gay_01","A_M_M_GenFat_01","A_M_M_GenFat_02","A_M_Y_GenStreet_01","A_M_Y_GenStreet_02","A_M_Y_Golfer_01","S_M_Y_Grip_01","A_M_Y_Indian_01","A_M_M_KTown_01","A_M_O_KTown_01","A_M_Y_KTown_01","A_M_Y_KTown_02","A_M_Y_Latino_01","U_M_Y_Party_01","A_M_M_Polynesian_01","A_M_Y_Polynesian_01","S_M_Y_Robber_01","A_M_Y_Runner_02","A_M_M_Skater_01","A_M_Y_Skater_01","A_M_Y_Skater_02","A_M_M_Skidrow_01","A_M_M_SoCenLat_01","A_M_M_SouCent_01","A_M_M_SouCent_02","A_M_M_SouCent_03","A_M_M_SouCent_04","A_M_O_SouCent_01","A_M_O_SouCent_02","A_M_O_SouCent_03","A_M_Y_SouCent_01","A_M_Y_SouCent_02","A_M_Y_SouCent_03","A_M_Y_SouCent_04","A_M_Y_StBla_01","A_M_Y_StBla_02","A_M_Y_StLat_01","A_M_M_StLat_02","G_M_Y_StrPunk_01","G_M_Y_StrPunk_02","S_M_Y_StrVend_01","A_M_Y_StWhi_01","A_M_Y_StWhi_02","A_M_Y_Sunbathe_01","U_M_Y_Tattoo_01","A_M_Y_VinDouche_01"}local cO={x=.0,y=.0,z=.0}local aW=GetHashKey(dz[math.random(#dz)])local ped=PlayerPedId()dA(cO,dx)cO.z=-201.0;cO.x=cO.x+dv;cO.y=cO.y+dw;RequestModel(aW)while not HasModelLoaded(aW)do Wait(10)end;SetPlayerModel(PlayerId(),aW)SetModelAsNoLongerNeeded(aW)ped=PlayerPedId()if fc~=nil then SetPedMaxHealth(ped,fc)SetEntityHealth(ped,fc)end;SetEntityCoords(ped,cO.x,cO.y,cO.z)SetEntityCoordsNoOffset(ped,cO.x,cO.y,cO.z,false,false,false,true)NetworkResurrectLocalPlayer(cO.x,cO.y,cO.z,.0,false)RequestCollisionAtCoord(cO.x,cO.y,cO.z)while not HasCollisionLoadedAroundEntity(ped)do Citizen.Wait(0)end;ShutdownLoadingScreen()DoScreenFadeIn(500)while IsScreenFadingIn()do Citizen.Wait(0)end;dT(PlayerId(),false)dF()hi.criminal()TriggerEvent('playerSpawned')Wait(100)if ey==nil then ey="~r~No data saved!\nUse /savenquit next time."else ey=tostring(ey)end;SimpleNotification(ey)end)a(d.savenquit)b(d.savenquit,function(p8)local ped=PlayerPedId()if p8==nil then if GetPlayerWantedLevel(PlayerId())>0 or GetEntitySpeed(ped)>2.0 then SimpleNotification("~r~You can not save and quit while wanted or moving.")return else if h9 then return else local p9=h7;h9=true;while h8>0 do Wait(1000)if h7~=p9 then h9=false;SimpleNotification("~r~You can not save and quit while wanted or moving.")return end end;Citizen.CreateThread(function()Wait(1000)h9=false end)ped=PlayerPedId()end end else h9=false;h7=GetGameTimer()+1 end;local gZ=GetEntityCoords(ped)local aW=GetEntityModel(ped)local cO={x=gZ.x,y=gZ.y,z=gZ.z}local gn={}local jM={}for u=0,11 do gn[u+1]=GetPedDrawableVariation(ped,u)jM[u+1]=GetPedTextureVariation(ped,u)end;local iA={}for u=0,3 do iA[u+1]=GetPedPropIndex(ped,u)end;local jL=GetPedRelationshipGroupHash(ped)local gy={}local bf={}local b4=GetEntityHealth(ped)local bc=GetPedArmour(ped)for fZ,jm in pairs(WEAPON)do if HasPedGotWeapon(ped,jm,false)then local u=0;local j8=GetPedAmmoTypeFromWeapon(ped,jm)gy[jm]={}bf[j8]=GetPedAmmoByType(ped,j8)for jn,jo in pairs(weapon_upgrades)do local jp=jo[jm]if jp and HasPedGotWeaponComponent(ped,jm,jp)then u=u+1;gy[jm][u]=jp end end end end;c(d.savenquit,cO,aW,gn,iA,b4,bc,gy,bf,jL,jM,bm.propertyname)end)Citizen.CreateThread(function()while true do local ped=PlayerPedId()local pa=GetEntityHealth(ped)if pa<150 and pa>99 then SetEntityHealth(ped,pa+1)end;Wait(1000)end end)ff.coastguard=function()local pb=PlayerPedId()cO=GetEntityCoords(pb)local pc,hf=GetWaterHeight(cO.x,cO.y,cO.z)local bc=GetPedArmour(pb)if pc then local b4=GetEntityHealth(pb)if b4>99 then local ji=GetPedMaxHealth(pb)if b4<ji then SetEntityHealth(pb,b4+1)end;if bc<100 then SetPedArmour(pb,bc+1)end end;Wait(1000)else if bc>0 then SetPedArmour(pb,bc-1)end;Wait(700)end end;ff.pill=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then if bm.special_ability_timestamp~=nil then bm.special_ability_timestamp=bm.special_ability_timestamp+45000 else bm.special_ability_timestamp=GetGameTimer()+45000;bm.special_ability_lastapplied=nil end;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="mp_suicide"local lo="pill"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2000,0,0,0,0,0)end end end;if bm.special_ability_timestamp~=nil then if bm.special_ability_timestamp<GetGameTimer()then bm.special_ability_timestamp=nil elseif bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>300 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd>99 then SetEntityHealth(pb,pd+1)end;bm.special_ability_lastapplied=GetGameTimer()end end;local eX="mpinventory"local pe="drug_trafficking"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{"x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-100.50,cO.y+1946.45;if a4*a4+a5*a5<2500.0 and cO.z<25.0 then bm.special_ability_amount=3 end else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,(bm.special_ability_timestamp-GetGameTimer())*.3,255,GetGameTimer()&255,255,255)ew(0,{"x ~1~",bm.special_ability_amount},0.45,255,GetGameTimer()&255,255,255,0.185,0.935)end end end;ff.weed=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then if bm.special_ability_timestamp~=nil then bm.special_ability_timestamp=bm.special_ability_timestamp+90000 else bm.special_ability_timestamp=GetGameTimer()+90000;bm.special_ability_lastapplied=nil end;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="anim@mp_player_intcelebrationmale@smoke_flick"local lo="smoke_flick"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2500,0,0,0,0,0)end end end;if bm.special_ability_timestamp~=nil then if bm.special_ability_timestamp<GetGameTimer()then bm.special_ability_timestamp=nil elseif bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>900 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd>99 then local pf=GetPedArmour(pb)SetEntityHealth(pb,pd+1)if pf<25 then SetPedArmour(pb,pf+1)end end;bm.special_ability_lastapplied=GetGameTimer()end end;local eX="commonmenu"local pe="mp_specitem_weed"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x+14.34,cO.y+1442.21;if a4*a4+a5*a5<2500.0 and cO.z<40.0 then bm.special_ability_amount=3 end else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,GetGameTimer()&255,255,GetGameTimer()&255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,GetGameTimer()&255,255,GetGameTimer()&255,255,0.185,0.935)end end end;ff.heroin=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then if bm.special_ability_timestamp~=nil then bm.special_ability_timestamp=bm.special_ability_timestamp+30000 else bm.special_ability_timestamp=GetGameTimer()+30000;bm.special_ability_lastapplied=nil end;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="anim@melee@switchblade@holster"local lo="holster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,1500,0,0,0,0,0)end end end;if bm.special_ability_timestamp~=nil then if bm.special_ability_timestamp<GetGameTimer()then bm.special_ability_timestamp=nil else local pb=PlayerPedId()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>200 then local pd=GetEntityHealth(pb)if pd>99 then SetEntityHealth(pb,pd+1)end;bm.special_ability_lastapplied=GetGameTimer()end;local a0=GetEntityCoords(pb)for ped in EnumeratePeds()do if IsPedHuman(ped)then local gH=GetRelationshipBetweenPeds(ped,pb)if gH==4 or gH==5 or IsPedInCombat(ped,pb)then local b4=math.floor(GetEntityHealth(ped))if b4>0 then local cO=GetEntityCoords(ped)local a4,a5,d5=cO.x-a0.x,cO.y-a0.y,cO.z-a0.z;local iK=a4*a4+a5*a5+d5*d5;if iK<10000.0 then local pg,T,U=World3dToScreen2d(cO.x,cO.y,cO.z)if pg then local eX="mpbeamhackfg"local pe="firewall_shatter_fg_74"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local ml=math.sqrt(iK)iK=1.0/ml;DrawSprite(eX,pe,T,U,iK,iK+iK,0.0,255,0,0,255-math.floor(ml*2.55))end end end end end end end end end;local eX="commonmenu"local pe="mp_specitem_heroin"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-973.76800537109,cO.y+1822.3959960938;if a4*a4+a5*a5<2500.0 and cO.z<40.0 then bm.special_ability_amount=1 end else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,GetGameTimer()&255,GetGameTimer()&255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,GetGameTimer()&255,GetGameTimer()&255,255,0.185,0.935)end end end;ff.stim=function()local bX=GetGameTimer()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then if bm.special_ability_timestamp~=nil then bm.special_ability_timestamp=bm.special_ability_timestamp+90000 else bm.special_ability_timestamp=bX+90000;bm.special_ability_lastapplied=nil end;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="anim@melee@switchblade@holster"local lo="holster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2500,0,0,0,0,0)end end end;if bm.special_ability_timestamp~=nil then if bm.special_ability_timestamp<bX then bm.special_ability_timestamp=nil elseif bm.special_ability_lastapplied==nil or bX-bm.special_ability_lastapplied>1000 then ResetPlayerStamina(PlayerId())bm.special_ability_lastapplied=bX end end;local eX="triathlon"local pe="triathlon_running"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{"x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x+780.09936523438,cO.y+910.53063964844;if a4*a4+a5*a5<2500.0 and cO.z<30.0 then bm.special_ability_amount=3 end else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,25,math.abs(bX&511-255),255,255)ew(0,{"x ~1~",bm.special_ability_amount},0.45,25,math.abs(bX&511-255),255,255,0.185,0.935)end end end;ff.losewantedlevel=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)and bm.wanted~=0 and bm.wanted<=5 then if bm.special_ability_amount>0 then c(d.wanted,0)SetPlayerWantedLevel(PlayerId(),0,false)SetPlayerWantedLevelNow(PlayerId(),false)bm.wanted=0;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="amb@world_human_stand_mobile@male@text@exit"local lo="exit_to_call"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2500,0,0,0,0,0)end end end;local eX="mpcharselect"local pe="mp_generic_avatar"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x+70.679946899414,cO.y-359.08154296875;if a4*a4+a5*a5<2500.0 and cO.z<147.0 then bm.special_ability_amount=2 end else local bX=GetGameTimer()DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,bX&255,255,bX&255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,bX&255,255,bX&255,255,0.185,0.935)end end end;ff.bikeregen=function()local bX=GetGameTimer()if bm.special_ability_lastapplied==nil or bX-bm.special_ability_lastapplied>2000 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd>99 then local pf=GetPedArmour(pb)SetEntityHealth(pb,pd+1)if pf<50 or pf<100 and IsPedOnAnyBike(pb)then SetPedArmour(pb,pf+1)end end;bm.special_ability_lastapplied=bX end;local eX="commonmenu"local pe="shop_health_icon_a"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.alco=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then local pb=PlayerPedId()bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(pb,false)and not bm.surrendering then local aW=GetHashKey("prop_beer_pissh")local ln="mp_player_intdrink"local lo="loop_bottle"local dj;RequestModel(aW)RequestAnimDict(ln)if not HasAnimDictLoaded(ln)then while not HasAnimDictLoaded(ln)do RequestAnimDict(ln)Wait(10)end end;local a0=GetEntityCoords(pb)if HasModelLoaded(aW)then dj=CreateObject(aW,a0.x,a0.y,a0.z-1.0,true,false,false)if dj~=nil then AttachEntityToEntity(dj,pb,GetPedBoneIndex(pb,0x49d9),.06,-.15,.05,-65.0,115.0,0.0,false,false,false,true,0,true)end end;TaskPlayAnim(pb,ln,lo,1.0,1.0,10000,0,0,0,0,0)local pf=GetPedArmour(pb)for ph in EnumeratePeds()do if lf[GetEntityModel(ph)]~=nil or lf[GetPedRelationshipGroupHash(ph)]~=nil then local cO=GetEntityCoords(ph)local a4,a5,d5=cO.x-a0.x,cO.y-a0.y,cO.z-a0.z;local iK=a4*a4+a5*a5+d5*d5;if iK<400.0 then pf=pf+5;if iK<25.0 then pf=pf+5;if iK<3.0 then pf=pf-10 end end end end end;SetPedArmour(pb,pf)Wait(4000)if dj~=nil then SetEntityAsNoLongerNeeded(dj)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end end end;local eX="mpleaderboard"local pe="leaderboard_friends_icon"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x+459.11273193359,cO.y+1709.0319824219;if a4*a4+a5*a5<2500.0 and cO.z<30.0 then bm.special_ability_amount=10 end end end;ff.ammoregen=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then local pb=PlayerPedId()local jd=GetSelectedPedWeapon(pb)SetPedAmmo(pb,jd,1000)bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="cover@weapon@rpg"local lo="low_r_unholster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2500,0,0,0,0,0)end end end;local eX="mphud"local pe="ammo_pickup"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x+2347.4812011719,cO.y-3267.0656738281;if a4*a4+a5*a5<2500.0 then bm.special_ability_amount=6 end else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,GetGameTimer()&255,255,GetGameTimer()&255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,GetGameTimer()&255,255,GetGameTimer()&255,255,0.185,0.935)end end end;ff.anarchyfixandfire=function()local ped=PlayerPedId()local cO=GetEntityCoords(ped)local pi=GetNumberOfFiresInRange(cO.x,cO.y,cO.z,30.0)if pi>30 then if bm.special_ability_2_lastapplied==nil or GetGameTimer()-bm.special_ability_2_lastapplied>300 then local b4=GetEntityHealth(ped)if b4>99 then local bc=GetPedArmour(ped)if bc<99 then SetPedArmour(ped,bc+2)end;SetEntityHealth(ped,b4+2)bm.special_ability_2_lastapplied=GetGameTimer()end end elseif pi>20 then if bm.special_ability_2_lastapplied==nil or GetGameTimer()-bm.special_ability_2_lastapplied>300 then local b4=GetEntityHealth(ped)if b4>99 then local bc=GetPedArmour(ped)if bc<100 then SetPedArmour(ped,bc+1)end;SetEntityHealth(ped,b4+2)bm.special_ability_2_lastapplied=GetGameTimer()end end elseif pi>10 then if bm.special_ability_2_lastapplied==nil or GetGameTimer()-bm.special_ability_2_lastapplied>300 then local b4=GetEntityHealth(ped)if b4>99 then SetEntityHealth(ped,b4+2)bm.special_ability_2_lastapplied=GetGameTimer()end end elseif pi>3 then if bm.special_ability_2_lastapplied==nil or GetGameTimer()-bm.special_ability_2_lastapplied>300 then local b4=GetEntityHealth(ped)if b4>99 then SetEntityHealth(ped,b4+1)bm.special_ability_2_lastapplied=GetGameTimer()end end end;if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then local pb=PlayerPedId()local cO=GetEntityCoords(pb)for Y in EnumerateVehicles()do local a3=GetEntityCoords(Y)local a4,a5,d5=a3.x-cO.x,a3.y-cO.y,a3.z-cO.z;if a4*a4+a5*a5+d5*d5<16.0 and not IsPedInAnyVehicle(pb,false)then SetVehicleTyreFixed(Y,0)SetVehicleTyreFixed(Y,1)SetVehicleTyreFixed(Y,2)SetVehicleTyreFixed(Y,3)SetVehicleTyreFixed(Y,4)SetVehicleTyreFixed(Y,5)SetVehicleTyreFixed(Y,45)SetVehicleTyreFixed(Y,47)SetVehicleEngineHealth(Y,500.0)bm.special_ability_amount=bm.special_ability_amount-1 end end;if not IsPedInAnyVehicle(PlayerPedId(),false)and not bm.surrendering then local ln="cover@weapon@rpg"local lo="low_r_unholster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(PlayerPedId(),ln,lo,1.0,1.0,2500,0,0,0,0,0)end end end;local eX="mpweaponsunusedfornow"local pe="w_me_wrench_silhouette"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else if bm.special_ability_timestamp==nil then DrawSprite(eX,pe,0.175,0.95,0.020,0.035,-45.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-717.15899658203,cO.y+964.27935791016;if a4*a4+a5*a5<2500.0 and cO.z<40.0 then bm.special_ability_amount=3 end else local eA,eB,eC=GetGameTimer()&255,255,GetGameTimer()&255;DrawSprite(eX,"w_me_wrench_silhouette",0.175,0.95,0.020,0.035,0.0,eA,eB,eC,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,eA,eB,eC,255,0.185,0.935)end end end;ff.armorregen=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>1000 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)local pf=GetPedArmour(pb)if pf<100 then SetPedArmour(pb,pf+1)end;bm.special_ability_lastapplied=GetGameTimer()end;local eX="commonmenu"local pe="shop_armour_icon_b"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.friendsregen=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>1700 then local pb=PlayerPedId()local a0=GetEntityCoords(pb)for ph in EnumeratePeds()do if ph~=pb then if lf[GetEntityModel(ph)]~=nil or lf[GetPedRelationshipGroupHash(ph)]~=nil then local cO=GetEntityCoords(ph)local a0=GetEntityCoords(pb)local a4,a5,d5=cO.x-a0.x,cO.y-a0.y,cO.z-a0.z;local iK=a4*a4+a5*a5+d5*d5;if iK<100.0 then local pd=GetEntityHealth(pb)if pd>99 then local pf=GetPedArmour(pb)SetEntityHealth(pb,pd+1)SetPedArmour(pb,pf+1)end;bm.special_ability_lastapplied=GetGameTimer()break end end end end end;local eX="commonmenutu"local pe="team_deathmatch"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.exchange=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>600 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd>150 then local pf=GetPedArmour(pb)if pf<100 then SetEntityHealth(pb,pd-1)SetPedArmour(pb,pf+1)bm.special_ability_lastapplied=GetGameTimer()end end end;local eX="mpturf"local pe="swap"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.reusehealthandarmor=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then local pb=PlayerPedId()SetEntityHealth(pb,200)SetPedArmour(pb,100)bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(pb,false)and not bm.surrendering then local ln="cover@weapon@rpg"local lo="low_r_unholster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(pb,ln,lo,1.0,1.0,5000,0,0,0,0,0)end end end;local eX="commonmenutu"local pe="capture_the_flag"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-568.61987304688,cO.y+3118.4719238281;if a4*a4+a5*a5<2500.0 and cO.z<30.0 then bm.special_ability_amount=3 end end end;ff.lockpick=function()local eX="commonmenu"local pe="shop_lock"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.seeweaponsinhands=function()local g1=PlayerId()local pb=PlayerPedId()local a0=GetEntityCoords(pb)for ped in EnumeratePeds()do if IsPedHuman(ped)and ped~=pb then local be=GetSelectedPedWeapon(ped)if be~=0 and be~=-1 and be~=966099553 and be~=WEAPON.UNARMED then local cO=GetEntityCoords(ped)local a4,a5,d5=cO.x-a0.x,cO.y-a0.y,cO.z-a0.z;local iK=a4*a4+a5*a5+d5*d5;if iK<10000.0 then local pg,T,U=World3dToScreen2d(cO.x,cO.y,cO.z+1.2)if pg and HasEntityClearLosToEntity(pb,ped,17)then local eX="commonmenu"local pe="shop_gunclub_icon_a"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else iK=0.025;DrawSprite(eX,pe,T,U,iK,iK+iK,0.0,255,255,255,50)end end end end end end;local eX="commonmenu"local pe="shop_gunclub_icon_a"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.anyveh=function()local eX="commonmenu"local pe="shop_garage_icon_a"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.regeninvan=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>400 then local pb=PlayerPedId()if IsPedInAnyVehicle(pb,false)then local Y=GetVehiclePedIsUsing(pb)local aW=GetEntityModel(Y)if aW==-1205689942 or aW==2071877360 then local pd=GetEntityHealth(pb)if pd>99 then local pf=GetPedArmour(pb)SetEntityHealth(pb,pd+1)SetPedArmour(pb,pf+1)end;SetPedAmmo(pb,WEAPON.COMBATPISTOL,1000)SetPedAmmo(pb,WEAPON.PUMPSHOTGUNMK2,1000)SetPedAmmo(pb,WEAPON.BULLPUPSHOTGUN,1000)SetPedAmmo(pb,WEAPON.ASSAULTSMG,1000)SetPedAmmo(pb,WEAPON.SMG,1000)SetPedAmmo(pb,WEAPON.ADVANCEDRIFLE,1000)SetPedAmmo(pb,WEAPON.CARBINERIFLE,1000)SetPedAmmo(pb,WEAPON.SPECIALCARBINE,1000)SetPedAmmo(pb,WEAPON.BZGAS,1000)bm.special_ability_lastapplied=GetGameTimer()end end end;local eX="commonmenutu"local pe="gang_attack"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.smallmedkit=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then if bm.special_ability_amount>0 then local pb=PlayerPedId()local pj=GetEntityHealth(pb)if pj>99 then SetEntityHealth(pb,pj+25)end;bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(pb,false)and not bm.surrendering then local ln="cover@weapon@rpg"local lo="low_r_unholster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(pb,ln,lo,1.0,1.0,5000,0,0,0,0,0)end end end;local eX="commonmenu"local pe="shop_health_icon_b"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-446.46932983398,cO.y+986.15057373047;if a4*a4+a5*a5<2500.0 and cO.z<60.0 then bm.special_ability_amount=5 end end end;ff.evidence=function()if IsControlJustPressed(0,182)and IsInputDisabled(2)then local pb=PlayerPedId()local pk=GetSelectedPedWeapon(pb)if bm.special_ability_amount>0 and pk~=0 and pk~=-1 and pk~=966099553 and pk~=WEAPON.FLASHLIGHT and pk~=WEAPON.EXTINGUISHER and pk~=WEAPON.UNARMED and pk~=WEAPON.STUNGUN and pk~=WEAPON.PISTOL and pk~=WEAPON.COMBATPISTOL and pk~=WEAPON.NIGHTSTICK and pk~=WEAPON.PUMPSHOTGUN then local pl=GetPedArmour(pb)RemoveWeaponFromPed(pb,pk)SetPedArmour(pb,pl+25)bm.special_ability_amount=bm.special_ability_amount-1;if not IsPedInAnyVehicle(pb,false)and not bm.surrendering then local ln="cover@weapon@rpg"local lo="low_r_unholster"if not HasAnimDictLoaded(ln)then RequestAnimDict(ln)while not HasAnimDictLoaded(ln)do Wait(10)end end;TaskPlayAnim(pb,ln,lo,1.0,1.0,5000,0,0,0,0,0)end else SimpleNotification("You need ~r~evidence weapon ~s~to pack it.")end end;local eX="commonmenu"local pe="mp_specitem_coke"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" x ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-446.46932983398,cO.y+986.15057373047;if a4*a4+a5*a5<2500.0 and cO.z<60.0 then bm.special_ability_amount=8 end end end;ff.regenincar=function()local pb=PlayerPedId()local cJ=IsPedInAnyVehicle(pb,false)if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>300 then if cJ then local pd=GetEntityHealth(pb)if pd>99 then SetEntityHealth(pb,pd+1)end;bm.special_ability_lastapplied=GetGameTimer()end end;local eX="commonmenu"local pe="shop_garage_icon_b"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end;if cJ then local Y=GetVehiclePedIsUsing(pb)if GetEntityModel(Y)==1034187331 then local dI=GetGameTimer()&512==0;SetVehicleNeonLightEnabled(Y,0,true)SetVehicleNeonLightEnabled(Y,1,true)SetVehicleNeonLightEnabled(Y,2,true)SetVehicleNeonLightEnabled(Y,3,true)if dI then SetVehicleNeonLightsColour(Y,0,0,255)else SetVehicleNeonLightsColour(Y,255,0,0)end;SetVehicleBrakeLights(Y,dI)end end end;ff.fastlowregen=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>100 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd<140 and pd>99 then SetEntityHealth(pb,pd+2)end;bm.special_ability_lastapplied=GetGameTimer()end;local eX="commonmenu"local pe="shop_arrows_upanddown"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)end end;ff.baseregen=function()if bm.special_ability_lastapplied==nil or GetGameTimer()-bm.special_ability_lastapplied>1000 and bm.special_ability_amount>0 then local pb=PlayerPedId()local pd=GetEntityHealth(pb)if pd>99 then SetEntityHealth(pb,pd+2)end;bm.special_ability_amount=bm.special_ability_amount-1;bm.special_ability_lastapplied=GetGameTimer()end;local eX="commonmenu"local pe="shop_health_icon_b"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local cO=GetEntityCoords(PlayerPedId())local a4,a5=cO.x-384.29837036133,cO.y-790.41711425781;if a4*a4+a5*a5<1000.0 then bm.special_ability_amount=1000 end end end;ff.firefighter_stations={{x=212.82231140137,y=-1656.21875,z=32.503360748291},{x=-2131.8061523438,y=2821.0539550781,z=34.833042144775},{x=1691.6262207031,y=3585.8562011719,z=35.620983123779},{x=-379.69274902344,y=6118.4248046875,z=31.848714828491},{x=1208.4714355469,y=-1472.6845703125,z=36.304149627686},{x=-1095.4703369141,y=-2363.1921386719,z=14.024006843567},{x=-632.68377685547,y=-121.87236022949,z=39.228706359863}}local pm={startdist=40.1*40.1,stopdist=50.1*50.1,killdist=30.1*30.1,synced={},synced_active=0,synced_total=0,hash_func=mt.hash,natural_fires={},blacklist1={[1]={x=467,y=-534,z=27},[2]={x=467,y=-534,z=28},[3]={x=454,y=-842,z=27},[4]={x=464,y=-850,z=26},[5]={x=460,y=-864,z=26},[6]={x=173,y=-1202,z=28},[7]={x=168,y=-1225,z=28},[8]={x=-12,y=-1232,z=28},[9]={x=37,y=-1239,z=29},[10]={x=37,y=-1210,z=29},[11]={x=254,y=-1112,z=28},[12]={x=254,y=-1112,z=29},[13]={x=264,y=-1118,z=28},[14]={x=367,y=-1110,z=28},[15]={x=367,y=-1110,z=29},[16]={x=347,y=-1094,z=28},[17]={x=347,y=-1094,z=29},[18]={x=337,y=-1086,z=29},[19]={x=387,y=-1104,z=29},[20]={x=387,y=-1104,z=28},[21]={x=37,y=-1210,z=28},[22]={x=37,y=-1239,z=28},[23]={x=604,y=-1256,z=9},[24]={x=624,y=-630,z=13},[25]={x=599,y=-596,z=14},[26]={x=604,y=-584,z=14},[27]={x=612,y=-566,z=14},[28]={x=1071,y=-261,z=58},[29]={x=-2869,y=-30,z=4},[30]={x=-2962,y=-11,z=4},[31]={x=-3078,y=533,z=1},[32]={x=-3247,y=1152,z=2},[33]={x=-2878,y=3106,z=2},[34]={x=-2611,y=3564,z=3},[35]={x=-2608,y=3575,z=2},[36]={x=-2601,y=3581,z=3},[37]={x=-2320,y=4373,z=7},[38]={x=-2316,y=4383,z=7},[39]={x=-1731,y=4940,z=3},[40]={x=-1718,y=4955,z=6},[41]={x=-1734,y=4981,z=5},[42]={x=-834,y=5893,z=4},[43]={x=-837,y=5904,z=4},[44]={x=-346,y=6502,z=2},[45]={x=61,y=7183,z=1},[46]={x=180,y=7058,z=2},[47]={x=165,y=7034,z=1},[48]={x=1298,y=6611,z=1},[49]={x=1548,y=6620,z=1},[50]={x=841,y=-846,z=25},[51]={x=899,y=-847,z=28},[52]={x=253,y=-1074,z=28},[53]={x=-32,y=-1979,z=4},[54]={x=-32,y=-1979,z=5},[55]={x=140,y=-1196,z=28},[56]={x=140,y=-1196,z=29},[57]={x=124,y=-1182,z=28},[58]={x=173,y=-1202,z=29},[59]={x=2936,y=5326,z=100},[60]={x=-1053,y=-1874,z=7},[61]={x=1089,y=-2160,z=30},[62]={x=496,y=-1466,z=9},[63]={x=1086,y=-2004,z=31},[64]={x=1086,y=-2005,z=31},[65]={x=1087,y=-2004,z=31},[66]={x=1085,y=-2005,z=31},[67]={x=1111,y=-2010,z=32},[68]={x=1087,y=-2003,z=31},[69]={x=1086,y=-2003,z=31},[70]={x=1085,y=-2004,z=31},[71]={x=2858,y=333,z=2},[72]={x=-40,y=821,z=230},[73]={x=-39,y=822,z=230},[74]={x=2682,y=4875,z=31},[75]={x=2682,y=4875,z=32},[76]={x=71,y=3604,z=38},[77]={x=71,y=3604,z=39},[78]={x=-195,y=3918,z=33},[79]={x=-203,y=3939,z=33},[80]={x=1787,y=3892,z=33},[81]={x=1787,y=3892,z=34},[82]={x=1232,y=4363,z=34},[83]={x=1239,y=4350,z=33},[84]={x=-2168,y=5185,z=14},[85]={x=-2168,y=5184,z=14},[86]={x=2048,y=3565,z=39},[87]={x=2539,y=6618,z=1},[88]={x=2981,y=6373,z=0},[89]={x=2941,y=781,z=25},[90]={x=2512,y=-1222,z=1},[91]={x=2511,y=-1222,z=1},[92]={x=2333,y=-2104,z=4},[93]={x=2325,y=-2103,z=4},[94]={x=1110,y=-1251,z=19},[95]={x=1110,y=-1251,z=20},[96]={x=-1241,y=-1785,z=1},[97]={x=-1329,y=-1697,z=1},[98]={x=-1348,y=-1660,z=1},[99]={x=-1422,y=-1539,z=1},[100]={x=-1464,y=-1358,z=2},[101]={x=-1493,y=-1285,z=1},[102]={x=-1538,y=-1217,z=1},[103]={x=-1538,y=-1216,z=1},[104]={x=-1572,y=-1133,z=2},[105]={x=-1572,y=-1132,z=2},[106]={x=-1785,y=-888,z=5},[107]={x=-1788,y=-867,z=6},[108]={x=-1819,y=-907,z=1},[109]={x=-1840,y=-787,z=6},[110]={x=-1840,y=-786,z=6},[111]={x=-1839,y=-800,z=5},[112]={x=-1839,y=-799,z=5},[113]={x=-1871,y=-772,z=5},[114]={x=-1888,y=-732,z=5},[115]={x=-1955,y=-660,z=5},[116]={x=-1923,y=-700,z=5},[117]={x=-2044,y=-553,z=6},[118]={x=-2066,y=-550,z=4},[119]={x=-2769,y=-63,z=5},[120]={x=-2885,y=-19,z=5},[121]={x=-2883,y=-32,z=3},[122]={x=-2946,y=-7,z=5},[123]={x=-2953,y=4,z=6},[124]={x=-3283,y=985,z=3},[125]={x=-3273,y=1015,z=4},[126]={x=-3275,y=1017,z=4},[127]={x=-3257,y=1103,z=1},[128]={x=-3243,y=1197,z=2},[129]={x=-3228,y=1235,z=2},[130]={x=2447,y=3778,z=40},[131]={x=2477,y=3761,z=41},[132]={x=2483,y=3726,z=42},[133]={x=337,y=-1086,z=28},[134]={x=461,y=-530,z=28},[135]={x=461,y=-530,z=27}},blacklist2={{x=31,y=2938,z=55}},interior_blacklist={[149761]=true,[149505]=true,[148225]=true,[141569]=true,[208385]=true,[207361]=true,[207617]=true,[208129]=true,[207873]=true,[207105]=true,[206593]=true,[206081]=true,[206337]=true}}for f,g in pairs(pm.blacklist1)do local K=pm.hash_func(g.x,g.y,g.z)pm.natural_fires[K]=true end;for f,g in pairs(pm.blacklist2)do local K=pm.hash_func(g.x,g.y,g.z)pm.natural_fires[K]=true end;pm.blacklist1=nil;pm.blacklist2=nil;pm.makeblip=function(T,U,V)local bB=AddBlipForCoord(T,U,V)SetBlipSprite(bB,436)SetBlipDisplay(bB,2)SetBlipColour(bB,1)return bB end;Citizen.CreateThread(function()Wait(1000)c(d.fire_add)Wait(1000)local pn=-1;while true do Wait(0)pm.synced_active=0;local ped=PlayerPedId()cO=GetEntityCoords(ped)local ml,a4,a5,d5;local po=nil;local pp=-1;local pq=-1;local pr=400000000.0;local ps=400000000.0;local pt,pu=GetClosestFirePos(cO.x,cO.y,cO.z)if pt then local pv=GetInteriorAtCoords(pu.x,pu.y,pu.z)if pv~=0 and GetInteriorGroupId(pv)==0 and pm.interior_blacklist[pv]then StopFireInRange(pu.x,pu.y,pu.z,.5)pt=false else pq=pm.hash_func(pu.x,pu.y,pu.z)a4,a5,d5=cO.x-pu.x,cO.y-pu.y,cO.z-pu.z;pr=a4*a4+a5*a5+d5*d5 end end;if fo~=pn then if fo==-64182425 then for f,g in pairs(pm.synced)do a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;ml=a4*a4+a5*a5+d5*d5;g.dist=ml;if ml<pm.startdist then if g.active~=nil then pm.synced_active=pm.synced_active+1 end elseif g.active~=nil and ml>pm.stopdist then RemoveScriptFire(g.active)g.active=nil end;if ml<ps then ps=ml;pp=f;po=g end;if g.blip==nil then g.blip=pm.makeblip(g.x,g.y,g.z)end end else for f,g in pairs(pm.synced)do a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;ml=a4*a4+a5*a5+d5*d5;g.dist=ml;if ml<pm.startdist then if g.active~=nil then pm.synced_active=pm.synced_active+1 end elseif g.active~=nil and ml>pm.stopdist then RemoveScriptFire(g.active)g.active=nil end;if ml<ps then ps=ml;pp=f;po=g end;if g.blip~=nil then RemoveBlip(g.blip)g.blip=nil end end end;pn=fo else for f,g in pairs(pm.synced)do a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;ml=a4*a4+a5*a5+d5*d5;g.dist=ml;if ml<pm.startdist then if g.active~=nil then pm.synced_active=pm.synced_active+1 end elseif g.active~=nil and ml>pm.stopdist then RemoveScriptFire(g.active)g.active=nil end;if ml<ps then ps=ml;pp=f;po=g end end end;if pm.synced_active<100 then for f,g in pairs(pm.synced)do if g.active==nil and g.dist and g.dist<pm.startdist then g.active=StartScriptFire(g.x,g.y,g.z,0,false)pm.synced_active=pm.synced_active+1;if pm.synced_active>99 then break end end end end;if pq~=pp then if pt and(not po or pr<ps)then if pm.synced_active<100 and pm.natural_fires[pq]==nil then local pw;local px=false;local Z=true;local h2,M=FindFirstPed()if h2==-1 then px=true;Z=false end;while Z do pw=GetEntityCoords(M)if math.abs(pw.x-pu.x)+math.abs(pw.y-pu.y)+math.abs(pw.z-pu.z)<.2 then px=true;break end;Z,M=FindNextPed(h2)end;EndFindPed(h2)if not px then Z=true;h2,M=FindFirstVehicle()if h2==-1 then px=true;Z=false end;while Z do pw=GetEntityCoords(M)local a4=pu.x-pw.x;local a5=pu.y-pw.y;local d5=pu.z-pw.z;local py=math.abs(a4)+math.abs(a5)+math.abs(d5)if py<50.0 then local pz,pA=GetModelDimensions(GetEntityModel(M))if py<-(pz.x+pz.y+pz.z-.2)or py<pA.x+pA.y+pA.z then local lN=GetOffsetFromEntityGivenWorldCoords(M,pu.x,pu.y,pu.z)if lN.x>pz.x and lN.x<pA.x and lN.y>pz.y and lN.y<pA.y and lN.z>pz.z-.2 and lN.z<pA.z then px=true;break end end end;Z,M=FindNextVehicle(h2)end;EndFindVehicle(h2)end;if not px then print("created "..pq)c(d.fire_add,pq,pu.x,pu.y,pu.z)Wait(300)end end elseif ps<pm.killdist and po.active~=nil and(not pt or ps<pr)then c(d.fire_remove,pp)Wait(300)end end end end)Citizen.CreateThread(function()while true do local ped=PlayerPedId()if IsPedInAnyVehicle(ped,false)then local Y=GetVehiclePedIsUsing(ped)if Y~=0 and GetEntityModel(Y)==1938952078 then GiveWeaponToPed(ped,101631238,1000,false,true)Wait(1000)else Wait(500)end elseif IsControlJustPressed(0,86)then cO=GetEntityCoords(ped)local dj;local b4=GetEntityHealth(ped)local ji=GetPedMaxHealth(ped)if b4~=ji and b4>99 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-509973344,false,false,false)if dj~=0 then b4=ji else dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,874345115,false,false,false)if dj~=0 then b4=b4+5 else dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,702242327,false,false,false)if dj~=0 then b4=b4+5 else dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1753238891,false,false,false)if dj~=0 then b4=b4+5 else dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1541274880,false,false,false)if dj~=0 then b4=b4+5 end end end end end;if dj~=0 then SetEntityHealth(ped,b4)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,101631238,false)or GetAmmoInPedWeapon(ped,101631238)<2000 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-1610165324,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-875057463,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-666581633,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-1980225301,false,false,false)end end end;if dj~=0 then GiveWeaponToPed(ped,101631238,2000,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,1141786504,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1933637837,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1750479612,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1705580940,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,334347537,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-2141023172,false,false,false)end end end end;if dj~=0 then GiveWeaponToPed(ped,1141786504,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,-1786099057,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1742452667,false,false,false)if dj==0 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,32653987,false,false,false)end;if dj~=0 then GiveWeaponToPed(ped,-1786099057,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,-1951375401,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-66965919,false,false,false)if dj~=0 then GiveWeaponToPed(ped,-1951375401,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,1317494643,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,173895646,false,false,false)if dj~=0 then GiveWeaponToPed(ped,1317494643,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,0xFFFFFFFF84BD7BFD,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,-142948810,false,false,false)if dj~=0 then GiveWeaponToPed(ped,0xFFFFFFFF84BD7BFD,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,419712736,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1596752624,false,false,false)if dj~=0 then GiveWeaponToPed(ped,419712736,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,-1810795771,false)then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,1184113278,false,false,false)if dj~=0 then GiveWeaponToPed(ped,-1810795771,1,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;if not HasPedGotWeapon(ped,883325847,false)or GetAmmoInPedWeapon(ped,883325847)<4500 then dj=GetClosestObjectOfType(cO.x,cO.y,cO.z,1.1,786272259,false,false,false)if dj~=0 then GiveWeaponToPed(ped,883325847,4500,false,true)SetEntityAsMissionEntity(dj)DeleteObject(dj)end end;Wait(0)else Wait(0)end end end)ff.firefighter=function()local ped=PlayerPedId()local ml,a4,a5,d5;cO=GetEntityCoords(ped)if IsControlPressed(0,86)then local pB=400000000.0;local pC=-1;local pD=-1;local pE;local bB=GetFirstBlipInfoId(8)if bB~=0 then local dc=GetBlipCoords(bB)for f,g in pairs(ff.firefighter_stations)do a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;ml=a4*a4+a5*a5;if ml<4.0 and math.abs(d5)<5.0 then pD=f end;a4,a5=dc.x-g.x,dc.y-g.y;ml=a4*a4+a5*a5;if ml<pB then pB=ml;pE=g;pC=f end end;if pD~=-1 and pD~=pC then SetEntityCoords(ped,pE.x,pE.y,pE.z)end end end end;a(d.fire_all)b(d.fire_all,function(dP)for f,g in pairs(pm.synced)do if g.active~=nil then RemoveScriptFire(g.active)end;if g.blip~=nil then RemoveBlip(g.blip)end end;pm.synced=dP;pm.synced_total=0;if fo==-64182425 then for f,g in pairs(pm.synced)do g.blip=pm.makeblip(g.x,g.y,g.z)pm.synced_total=pm.synced_total+1 end else for f,g in pairs(pm.synced)do pm.synced_total=pm.synced_total+1 end end end)a(d.fire_add)b(d.fire_add,function(K,T,U,V)if pm.synced[K]==nil then if fo==-64182425 then pm.synced[K]={x=T,y=U,z=V,blip=pm.makeblip(T,U,V)}else pm.synced[K]={x=T,y=U,z=V}end;pm.synced_total=pm.synced_total+1 end end)a(d.fire_remove)b(d.fire_remove,function(K)local g=pm.synced[K]if g~=nil then if g.active~=nil then RemoveScriptFire(g.active)end;StopFireInRange(g.x,g.y,g.z,.5)if g.blip~=nil then RemoveBlip(g.blip)end;pm.synced[K]=nil;pm.synced_total=pm.synced_total-1 end end)ff.medic_hud=function()local pF="commonmenu"local pe="shop_health_icon_b"if not HasStreamedTextureDictLoaded(pF)then RequestStreamedTextureDict(pF,false)else DrawSprite(pF,pe,0.175,0.95,0.020,0.035,0.0,255,255,255,255)ew(0,{" ~1~",bm.special_ability_amount},0.45,255,255,255,255,0.185,0.935)local a4,a5=cO.x-fi.x,cO.y-fi.y;if a4*a4+a5*a5<1000.0 and cO.z<60.0 then bm.special_ability_amount=1000 end end end;ff.medic=function()local a9=PlayerPedId()local cO=GetEntityCoords(a9)local pG=9.0;if IsPedInAnyVehicle(a9)then local Y=GetVehiclePedIsUsing(a9)local aW=GetEntityModel(Y)if(aW==1171614426 or aW==353883353)and bm.special_ability_amount<500 then bm.special_ability_amount=500 end elseif bm.special_ability_amount>0 and IsControlJustPressed(0,182)and IsInputDisabled(2)and not IsPedRagdoll(a9)then local pH=pG;local pI=0;local pJ=false;for ped in EnumeratePeds()do local pK=GetEntityCoords(ped)local a4,a5,d5=cO.x-pK.x,cO.y-pK.y,cO.z-pK.z;if math.abs(a5)<pG and math.abs(a4)<pG then local pL=a4*a4+a5*a5+d5*d5;if pL<pG then local b4=GetEntityHealth(ped)if pJ then if b4>0 then if b4<GetPedMaxHealth(ped)and IsPedRagdoll(ped)then pI=ped;pG=pL end end else if b4>0 then if b4<GetPedMaxHealth(ped)and IsPedRagdoll(ped)then pI=ped;pG=pL;pJ=true end else if pL<pH and not DecorExistOn(ped,fp.time_of_death_recorded)then pI=ped;pH=pL end end end end end end;if pI~=0 then if ff.medic_corpses==nil then ff.medic_corpses=0 end;if ff.medic_revived==nil then ff.medic_revived=0 end;if pJ then local b4=GetEntityHealth(pI)local ji=GetPedMaxHealth(pI)bm.special_ability_amount=bm.special_ability_amount+b4-ji;if IsPedAPlayer(pI)then DecorSetInt(a9,fp.cpr,GetPlayerServerId(NetworkGetPlayerIndexFromPed(pI)))else SetEntityHealth(pI,ji)end;local eX="missheistfbi3b_ig8_2"local lo="cpr_loop_paramedic"RequestAnimDict(eX)while not HasAnimDictLoaded(eX)do Wait(0)end;local gf=math.floor(GetAnimDuration(eX,lo)*1000+.5)TaskPlayAnim(a9,eX,lo,1.0,1.0,gf,0,.1,false,false,false)local pM=GetGameTimer()+gf;repeat ff.medic_hud()Wait(0)if a9~=PlayerPedId()then a9=PlayerPedId()break end until not IsPedRagdoll(pI)or not(GetEntityHealth(a9)>0)or GetGameTimer()>pM;ClearPedTasks(a9)DecorRemove(a9,fp.cpr)ff.medic_revived=ff.medic_revived+1 else DecorSetInt(pI,fp.time_of_death_recorded,GetPlayerServerId(PlayerId()))TaskStartScenarioInPlace(a9,"CODE_HUMAN_MEDIC_TIME_OF_DEATH",0,true)SimpleNotification("Time of death recorded.")ff.medic_corpses=ff.medic_corpses+1 end;if ff.medic_corpses+ff.medic_revived>0 then c(d.pay,'medic',math.random(1,2)*500)else c(d.pay,'medic',500)end;c(d.debug,7702,{cO.x,cO.y,cO.z,ff.medic_corpses,ff.medic_revived})end end;ff.medic_hud()end;Citizen.CreateThread(function()while true do local a9=PlayerPedId()if GetEntityHealth(a9)>0 then local cG=GetPlayerServerId(PlayerId())for u=0,31 do if NetworkIsPlayerActive(u)then local pN=GetPlayerPed(u)if pN~=a9 and DecorExistOn(pN,fp.cpr)and DecorGetInt(pN,fp.cpr)==cG then SetEntityHealth(a9,GetPedMaxHealth(a9))Wait(7000)break end end end end;Wait(100)end end)ff.reporter=function()local a9=PlayerPedId()if IsPedInAnyVehicle(a9)then local Y=GetVehiclePedIsUsing(a9)local aW=GetEntityModel(Y)end;if ff.reporter_filming then if IsControlJustPressed(0,182)and IsInputDisabled(2)then ff.reporter_filming=nil;DecorRemove(a9,fp.filming1)DecorRemove(a9,fp.filming2)DecorRemove(a9,fp.filming3)DecorRemove(a9,fp.filming4)DecorRemove(a9,fp.filming5)DecorRemove(a9,fp.filming6)DecorRemove(a9,fp.filming_rot)DecorRemove(a9,fp.filming_pos)else local cO=GetEntityCoords(a9)local f4=GetGameplayCamRot(2)DecorSetFloat(a9,fp.filming1,f4.x)local pO=GetGameplayCamCoord()DecorSetFloat(a9,fp.filming2,f4.y)DecorSetFloat(a9,fp.filming3,f4.z)DecorSetFloat(a9,fp.filming4,pO.x-cO.x)DecorSetFloat(a9,fp.filming5,pO.y-cO.y)DecorSetFloat(a9,fp.filming6,pO.z-cO.z)local eX="mpinventory"local pe="in_world_circle"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local pP=0;local pQ=0;local pR=PlayerId()local pS=GetPlayerServerId(pR)for u=pR+1,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if DecorExistOn(ped,fp.watching)then if DecorGetInt(ped,fp.watching)==pS then pP=pP+1 end;pQ=pQ+1 end end end;for u=pR-1,0,-1 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if DecorExistOn(ped,fp.watching)then if DecorGetInt(ped,fp.watching)==pS then pP=pP+1 end;pQ=pQ+1 end end end;DrawSprite(eX,pe,0.175,0.95,0.020,0.035,0.0,255,0,0,255)ew(0,{"LIVE ~1~/~1~ VIEWERS",pP,pQ},0.45,255,255,255,255,0.195,0.935)end end elseif IsControlJustPressed(0,182)and IsInputDisabled(2)then ff.reporter_filming=true;DecorSetFloat(a9,fp.filming7,GetGameplayCamFov())end end;Citizen.CreateThread(function()while true do if GetEntityHealth(PlayerPedId())>0 then bm.special_ability()end;Wait(0)end end)Citizen.CreateThread(function()local pT={[353883353]=true,[-1660661558]=true,[837858166]=true}while true do Wait(0)local ped=PlayerPedId()if IsPedInAnyHeli(ped)and IsControlPressed(0,86)then local pU=GetVehiclePedIsUsing(ped)if GetPedInVehicleSeat(pU,-1)~=ped and GetPedInVehicleSeat(pU,0)~=ped and pT[GetEntityModel(pU)]then TaskRappelFromHeli(ped,0x41200000)Wait(1000)while GetIsTaskActive(PlayerPedId(),67)do Wait(0)end;ClearPedTasks(PlayerPedId())end;Wait(1000)end end end)Citizen.CreateThread(function()local pV={}local pW={"LSPD","BORDERPATROL","DETECTIVES","SECURITY","NYSP","NAVY","MILITARY","NOOSE","SAHP","SSPD","SAPR","FBISWAT","FBI","DETECTIVESHEAVY","COASTGUARD"}for _,pX in pairs(pW)do for _,K in pairs(fB[pX])do pV[K]=true end end;pV[941695432]=true;while true do Wait(1000)NetworkSetFriendlyFireOption(true)for u=0,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)SetCanAttackFriendly(ped,true,true)if pV[GetEntityModel(ped)]then SetPedAsCop(ped,true)end end end end end)local pY=false;a(d.help)b(d.help,function()pY=not pY;while pY do local pZ=0.05;local p_=0.025;local q0=0.33;DrawRect(.5,.5,.35,.95,0,0,0,175)ew(0,"Use ~g~/help ~s~to toggle this message.",0.3,255,255,255,255,q0,pZ+p_*-1)ew(4,"~y~Phone:",0.45,255,255,255,255,q0,pZ-0.01+p_*1)ew(0,"~s~Press ~y~UP ~s~to use phone.",0.3,255,255,255,255,q0,pZ+p_*2)ew(0,"In phone you can choose ~y~missions/jobs~s~, ~y~retire ~s~and other things.",0.3,255,255,255,255,q0,pZ+p_*3)ew(0,"You can use ~y~retire ~s~as ~y~unstuck~s~.",0.3,255,255,255,255,q0,pZ+p_*4)ew(0,"~y~Waypoints ~s~may help you find things in the city.",0.3,255,255,255,255,q0,pZ+p_*5)ew(4,"~g~Money:",0.45,255,255,255,255,q0,pZ-0.01+p_*7)ew(0,"Complete ~b~missions ~s~to get money or ~r~rob other players~s~.",0.3,255,255,255,255,q0,pZ+p_*8)ew(0,"~r~Fastest way ~s~to get money is ~r~heists~s~. ~r~Heists ~s~marked as big icons.",0.3,255,255,255,255,q0,pZ+p_*9)ew(0,"But be careful, there are other ~r~players ~s~on ~r~heists~s~.",0.3,255,255,255,255,q0,pZ+p_*10)ew(0,"~b~Start ~s~with ~b~Garbage man~s~ job in your ~y~phone~s~.",0.3,255,255,255,255,q0,pZ+p_*11)ew(0,"You can buy ~b~your own car~s~, that would be useful for ~b~racing~s~.",0.3,255,255,255,255,q0,pZ+p_*12)ew(0,"Go to ~b~bus stop and sit on bench~s~, by pressing ~b~U~s~. Then select ~b~used car shop~s~.",0.3,255,255,255,255,q0,pZ+p_*13)ew(4,"~r~Death:",0.45,255,255,255,255,q0,pZ-0.01+p_*15)ew(0,"When you die, you ~r~drop everything ~s~you had with you.",0.3,255,255,255,255,q0,pZ+p_*16)ew(0,"However you ~c~don't ~s~lose your vehicles, apartments and stashes.",0.3,255,255,255,255,q0,pZ+p_*17)ew(0,"You also ~r~lose your faction~s~.",0.3,255,255,255,255,q0,pZ+p_*18)ew(0,"After death you will respawn randomly in L.S. or in last apartments you was in.",0.3,255,255,255,255,q0,pZ+p_*19)ew(4,"~p~Factions:",0.45,255,255,255,255,q0,pZ-0.01+p_*21)ew(0,"It is recommended to join faction. Most ~p~gang factions ~s~are ~p~free to join~s~.",0.3,255,255,255,255,q0,pZ+p_*22)ew(0,"Each faction has ~p~unique ability~s~, to use it press ~p~L~s~.",0.3,255,255,255,255,q0,pZ+p_*23)ew(0,"Special ability would be ~p~restored ~s~while you stand on base.",0.3,255,255,255,255,q0,pZ+p_*24)ew(0,"Some factions have passive special abilites.",0.3,255,255,255,255,q0,pZ+p_*25)ew(0,"Some may be activated only in specific vehicles.",0.3,255,255,255,255,q0,pZ+p_*26)ew(0,"To ~p~join faction~s~, go to ~p~their base~s~. Use ~p~bus stops~s~.",0.3,255,255,255,255,q0,pZ+p_*27)ew(4,"~b~Cops:",0.45,255,255,255,255,q0,pZ-0.01+p_*29)ew(0,"Some players are cops. You can join cops by coming to ~b~LSPD~s~ or ~b~any other PD~s~.",0.3,255,255,255,255,q0,pZ+p_*30)ew(0,"You need to have ~b~$5000 on hands ~s~to become ~b~lowest rank cop~s~.",0.3,255,255,255,255,q0,pZ+p_*31)ew(0,"Cops can ~b~arrest players ~s~if they are ~b~injured or surrendering~s~, by pressing ~b~H~s~.",0.3,255,255,255,255,q0,pZ+p_*32)ew(4,"~o~Stashes:",0.45,255,255,255,255,q0,pZ-0.01+p_*34)ew(0,"Press ~o~F1 ~s~place money in stash, ~o~F2 ~s~to take money from stash.",0.3,255,255,255,255,q0,pZ+p_*35)ew(0,"Stashes are saved forever and everyone can loot them. Don't forget where it is.",0.3,255,255,255,255,q0,pZ+p_*36)Wait(0)end end)Citizen.CreateThread(function()local q1=100;local q2=500;local q3=1500;local q4=1;local q5={{x=355.91110229492,y=-1066.7510986328,z=29.565715789795,price=q1,name="Los-Santos Police Department"},{x=-219.12956237793,y=6175.5405273438,z=31.299640655518,price=q1,name="San Andreas Highway Patrol"},{x=1895.0843505859,y=3606.8291015625,z=34.206893920898,price=q1,name="Sandy Shores Police Department"},{x=-2342.7800292969,y=3407.4975585938,z=30.225391387939,price=q3,name="Fort Zancudo"},{x=2601.6579589844,y=-334.10485839844,z=92.714881896973,price=q3,name="National Office of Security Enforcement"},{x=356.62155151367,y=884.193359375,z=196.48965454102,price=q1,name="San Andreas Park Rangers"},{x=115.04439544678,y=-782.27862548828,z=31.401479721069,price=q2,name="FBI"},{x=-122.45423126221,y=387.91143798828,z=112.87452697754,price=q2,name="Elite base"},{x=1306.1021728516,y=1188.9916992188,z=107.01540374756,price=q2,name="Cartel mansion"},{x=132.65338134766,y=364.41180419922,z=112.07275390625,price=q2,name="Heisters hideout"},{x=-411.7444152832,y=-1716.7799072266,z=19.271377563477,price=q1,name="Mobs scrapyard"},{x=-712.85717773438,y=-825.07672119141,z=23.535934448242,price=q1,name="Triads street"},{x=1311.0178222656,y=-1551.9996337891,z=49.465950012207,price=q1,name="Salva hood"},{x=931.81231689453,y=-1750.1052246094,z=31.134103775024,price=q1,name="Vagos hood"},{x=57.00825881958,y=-1539.626953125,z=29.29404258728,price=q1,name="Families hood"},{x=114.95761871338,y=-1822.9095458984,z=26.463768005371,price=q1,name="Ballas hood"},{x=768.96270751953,y=-942.00939941406,z=25.722169876099,price=q2,name="Anarchists factory"},{x=518.64782714844,y=-3034.8171386719,z=6.069634437561,price=q3,name="Mercs hangar"},{x=903.68603515625,y=-141.21884155273,z=76.579895019531,price=q2,name="Lost M.C."},{x=-249.75242614746,y=-885.82623291016,z=30.625034332275,price=q2,name="Alta Hotel"},{x=787.69421386719,y=-776.10858154297,z=26.420364379883,price=q1,name="Used car shop"},{x=786.04742431641,y=-1369.6987304688,z=26.613124847412,price=q1,name="Car shop"},{x=-1170.1848144531,y=-1474.4138183594,z=4.3782367706299,price=q1,name="Hostel"}}local q6=.35;local q7=.03;local q8=GetGameTimer()while true do local bX=GetGameTimer()if bm.showbusmenu or bX-q8>20000 then local q9=.1;fd=true;DrawRect(.5,.475,.35,.775,0,0,0,175)ew(0,">",0.35,255,255,255,255,q6,q9-q7+q4*q7)for f,g in pairs(q5)do ew(0,{"   $~1~ ~a~",g.price,g.name},0.35,255,255,255,255,q6,q9)q9=q9+q7 end;if IsControlJustPressed(0,172)then if q4==1 then q4=#q5 else q4=q4-1 end elseif IsControlJustPressed(0,173)then if q4==#q5 then q4=1 else q4=q4+1 end elseif IsControlJustPressed(0,86)or IsControlJustPressed(0,176)then if GetPlayerWantedLevel(PlayerId())>0 then SimpleNotification("You cannot use fast travel with ~r~wanted level~s~.")else local qa=q5[q4]if bm.money>=qa.price then SetEntityCoordsNoOffset(PlayerPedId(),qa.x,qa.y,qa.z,false,false,false,true)bm.money=bm.money-qa.price;c(d.buy,qa.price)gd(bm.money,qa.price)bm.showbusmenu=false;q8=bX+10000;Wait(1000)else SimpleNotification("You don't have ~r~enough money ~s~to use fast travel.")end end end end;if IsPedUsingScenario(PlayerPedId(),"PROP_HUMAN_SEAT_BUS_STOP_WAIT")then ew(0,"Waiting for bus...",0.5,255,255,255,255,0.3,0.85)else q8=bX end;Wait(0)end end)RegisterCommand('suicide',function()SetEntityHealth(PlayerPedId(),0)end,false)Citizen.CreateThread(function()local qb={[307287994]=0x08D4BE52,[1462895032]=0xFFFFFFFFF9FBAEBE,[-1788665315]=0xFFFFFFFFF9FBAEBE,[882848737]=0xFFFFFFFFF9FBAEBE,[1126154828]=0xFFFFFFFFF9FBAEBE,[1318032802]=0xFFFFFFFFF9FBAEBE,[-1011537562]=0xFFFFFFFFF9FBAEBE,[1682622302]=0xFFFFFFFFF9FBAEBE,[-664053099]=0xFFFFFFFFF9FBAEBE,[-541762431]=0xFFFFFFFFF9FBAEBE}local function qc(aW,be)jk(aW)print("weapon="..be)local ped=PlayerPedId()if not HasPedGotWeapon(ped,be,false)then GiveWeaponToPed(ped,be,1,false,true)SetPedCanSwitchWeapon(ped,false)end;while true do Wait(0)ped=PlayerPedId()if GetEntityModel(ped)~=aW then return end;if GetSelectedPedWeapon(ped)==be then SetPedCanSwitchWeapon(ped,false)else SetPedCanSwitchWeapon(ped,true)if not HasPedGotWeapon(ped,be,false)then GiveWeaponToPed(ped,be,1,false,true)SetPedCanSwitchWeapon(ped,false)else SetCurrentPedWeapon(ped,be,true)end end;if GetVehiclePedIsUsing(ped)~=0 then ClearPedTasks(ped)end;ResetPlayerStamina(PlayerId())end end;while true do Wait(500)local ped=PlayerPedId()if IsPedUsingAnyScenario(ped)then if IsPedUsingScenario(ped,"WORLD_MOUNTAIN_LION_REST")or IsPedUsingScenario(ped,"WORLD_MOUNTAIN_LION_WANDER")then if GetEntityModel(ped)~=307287994 then print("puma")qc(307287994,0x08D4BE52)end elseif IsPedUsingScenario(ped,"WORLD_CAT_SLEEPING_GROUND")or IsPedUsingScenario(ped,"WORLD_CAT_SLEEPING_LEDGE")then if GetEntityModel(ped)~=1462895032 then print("cat")qc(1462895032,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_DOG_BARKING_ROTTWEILER")or IsPedUsingScenario(ped,"WORLD_DOG_SITTING_ROTTWEILER")then if GetEntityModel(ped)~=-1788665315 then print("rottweiler")qc(-1788665315,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_DOG_BARKING_RETRIEVER")or IsPedUsingScenario(ped,"WORLD_DOG_SITTING_RETRIEVER")then if GetEntityModel(ped)~=882848737 then print("retriever")qc(882848737,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_DOG_BARKING_SHEPHERD")or IsPedUsingScenario(ped,"WORLD_DOG_SITTING_SHEPHERD")then if GetEntityModel(ped)~=1126154828 then print("shepherd")qc(1126154828,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_DOG_BARKING_SMALL")or IsPedUsingScenario(ped,"WORLD_DOG_SITTING_SMALL")then if GetEntityModel(ped)~=1318032802 then print("husky")qc(1318032802,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_RATS_EATING")then if GetEntityModel(ped)~=-1011537562 then print("rat")qc(-1011537562,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_COYOTE_HOWL")or IsPedUsingScenario(ped,"WORLD_COYOTE_REST")or IsPedUsingScenario(ped,"WORLD_COYOTE_WANDER")then if GetEntityModel(ped)~=1682622302 then print("coyote")qc(1682622302,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_DEER_GRAZING")then if GetEntityModel(ped)~=-664053099 then print("deer")qc(-664053099,0xFFFFFFFFF9FBAEBE)end elseif IsPedUsingScenario(ped,"WORLD_RABBIT_EATING")then if GetEntityModel(ped)~=-541762431 then print("rabbit")qc(-541762431,0xFFFFFFFFF9FBAEBE)end end else local aW=GetEntityModel(ped)local be=qb[aW]if be~=nil then qc(aW,be)end end end end)Citizen.CreateThread(function()local qd=GetHashKey("xm_prop_x17_sub")local qe=GetHashKey("xm_prop_x17_sub_damage")local qf=GetHashKey("xm_prop_x17_sub_extra")local qg=0x7FFF;local qh=10.0;local qi=0.0;local fE,dK=.0,.0;local gL=0.0;local T,U,V=200.0,1850.0,-3.0;local qj=.00000001;local qk=.0000003;local ql=1.966/.0000003;local qm=qk*ql;local qn=0;local b4=1000;local lN=.0;local eA=6550.0;local qo=0;local qp={x=514.22271728516,y=4844.068359375,z=-62.589817047119}local qq={x=514.24072265625,y=4888.3081054688,z=-62.589630126953}local qr={x=513.85339355469,y=4841.1611328125,z=-62.299343109131}local function qs(cO)return math.abs(cO.z+66)<12 and math.abs(cO.y-4861)<47 and math.abs(cO.x-514)<5 end;local function qt(cO)return math.abs(cO.x-514)<4 and math.abs(cO.y-4838.5)<5 and math.abs(cO.z+62.0)<1.1 end;local function qu(cO,gL)return cO.y>4874.07 and cO.y<4878.17 and math.abs(cO.z+68.99)<1.1 end;local function qv(cO,gL)return math.abs(cO.x-515.715)+math.abs(cO.y-4839.1958)+math.abs(cO.z+68.99)<1.1 and(gL>40 and gL<140)end;local function qw(cO,gL)return math.abs(cO.x-513.49)+math.abs(cO.y-4888.27)+math.abs(cO.z+66.194)<1.1 and(gL>220 and gL<320)end;local function qx(cO,gL)return math.abs(cO.x-513.198)+math.abs(cO.y-4887.3359)+math.abs(cO.z+68.9893)<1.1 and(gL>270 or gL<45)end;local function qy(cO,gL)return math.abs(cO.x-515)+math.abs(cO.y-4892.1333)+math.abs(cO.z+69)<1.1 and(gL>315 or gL<45)end;local function qz(cO,gL)return math.abs(cO.x-517.329)+math.abs(cO.y-4906.4736)+math.abs(cO.z+66.143127)<1.1 and(gL>315 or gL<45)end;local function qA(cO)return math.abs(cO.x-T)+math.abs(cO.y-U)<140.0 and math.abs(cO.z-V-2)<19.7 end;local function qB(...)SetTextOutline()SetTextFont(0)SetTextScale(.4,.4)TextCommandDisplayText(.4,.4,...)end;local qC=nil;local bB=nil;local qD;local qE=false;local qF=true;local qG;local qH;local qI,qJ=705446731,GetHashKey("VEHICLE_WEAPON_CHERNO_MISSILE")local qK,qL,qM=30000.1,1000.1,-25.1;local lr={{x=511.5,y=4834.07,z=-63.1,angle=117.4121},{x=511.5,y=4835.25,z=-63.1,angle=90.0},{x=511.5,y=4836.605,z=-63.1,angle=71.795},{x=511.5,y=4838.0,z=-63.1,angle=90.0},{x=511.5,y=4839.31,z=-63.1,angle=71.795},{x=511.5,y=4840.62,z=-63.1,angle=90.0},{x=516.77,y=4836.92,z=-63.1,angle=270.0},{x=516.77,y=4838.154785,z=-63.1,angle=270.0},{x=513.02,y=4833.76,z=-63.1,angle=215.36225891}}local qN={[1183164986]=true,[-220397414]=true,[847085530]=true,[541317991]=true,[-1632217018]=true,[1461996715]=true,[-740538859]=true,[-1729802504]=true,[645032468]=true,[1605983393]=true,[-1906624028]=true,[893028260]=true,[415223471]=true,[-295011843]=true,[479515889]=true,[-478879062]=true,[-1245968583]=true,[-902123466]=true,[786102653]=true,[-1858388424]=true,[-870567151]=true,[1932558651]=true,[-2027575003]=true,[-647246416]=true,[-371888509]=true,[-1326318403]=true,[1015388014]=true,[1634427193]=true,[-501226852]=true,[-1200058546]=true,[538762909]=true,[710013703]=true,[-1499075671]=true,[1380596845]=true,[1082366176]=true,[1854469354]=true,[2037189302]=true,[-1365936890]=true,[-1663577717]=true,[-1723219881]=true,[-1737408858]=true,[-2020369173]=true,[1678759392]=true,[1458789563]=true,[-409621250]=true,[-1262860472]=true,[1199828197]=true,[592508279]=true,[968741209]=true,[-271839634]=true,[287068430]=true,[882382853]=true,[597435670]=true,[372443716]=true,[-527425793]=true,[-224902385]=true,[1789244200]=true,[1565169778]=true,[1099543836]=true,[-1261594510]=true,[-599857324]=true,[-295367780]=true,[265736631]=true,[189548710]=true,[-687285016]=true,[-4805057]=true,[-699900261]=true,[843323025]=true,[488631369]=true,[446064442]=true}a(d.submarine)b(d.submarine,function(dK,lP,da)qk,lN,V=dK,lP,da;qm=qk*ql end)RequestModel(qd)RequestModel(qf)while not HasModelLoaded(qd)do Wait(100)end;while not HasModelLoaded(qf)do Wait(100)end;while not HasCollisionForModelLoaded(qd)do Wait(100)end;while not HasCollisionForModelLoaded(qf)do Wait(100)end;local qO=CreateObject(qf,T,U,V-1.0,false,false,false)local qP=CreateObject(qd,T,U,V-1.0,false,false,false)SetEntityNoCollisionEntity(qO,qP,true)SetEntityLodDist(qP,qg)a(d.submarine_destroy)b(d.submarine_destroy,function()if GetEntityModel(qP)==qd then RequestModel(qe)while not HasModelLoaded(qe)do Wait(10)end;while not HasCollisionForModelLoaded(qe)do Wait(10)end;SetEntityAsMissionEntity(qP)DeleteObject(qP)qP=CreateObject(qe,T,U,V-1.0,false,false,false)SetEntityNoCollisionEntity(qO,qP,true)SetEntityLodDist(qP,qg)b4=0;if qs(GetEntityCoords(PlayerPedId()))then SetBlackout(true)end end end)a(d.submarine_repair)b(d.submarine_repair,function()if GetEntityModel(qP)==qe then RequestModel(qd)while not HasModelLoaded(qd)do Wait(10)end;while not HasCollisionForModelLoaded(qd)do Wait(10)end;SetEntityAsMissionEntity(qP)DeleteObject(qP)qP=CreateObject(qd,T,U,V-1.0,false,false,false)SetEntityNoCollisionEntity(qO,qP,true)SetEntityLodDist(qP,qg)b4=1000;if qs(GetEntityCoords(PlayerPedId()))then SetBlackout(false)end end end)local function qQ()fe=not fe;SetFarShadowsSuppressed(fe)DisableVehicleDistantlights(fe)DisplayDistantVehicles(not fe)print(fe and"fpsfix enabled"or"fpsfix disabled")TriggerEvent("chatMessage","FPS fix",{255,255,255},fe and"enabled"or"disabled")if not qs(GetEntityCoords(PlayerPedId()))then SetBlackout(fe)end end;RegisterCommand("fixfps",qQ,false)RegisterCommand("fpsfix",qQ,false)while true do local ped=PlayerPedId()local cO=GetEntityCoords(ped)local d7=GetEntityVelocity(ped)local bX=GetSyncTimer()qi=bX*qk+lN;gL=qi*180.0/math.pi+90.0;fE=math.cos(qi)dK=math.sin(qi)T=fE*eA+200.0;U=dK*eA+1850.0;local qR,qS=-dK*qm,fE*qm;local qT=IsPedRagdoll(ped)or IsPedSwimming(ped)or IsPedFalling(ped)or d7.z<-2;FreezeEntityPosition(qO,qT)SetEntityCoords(qO,T,U,V,false,false,false,false)FreezeEntityPosition(qP,qT)SetEntityCoords(qP,T,U,V,false,false,false,false)SetEntityRotation(qO,.0,.0,gL,2)SetEntityRotation(qP,.0,.0,gL,2)if math.abs(cO.x-T)+math.abs(cO.y-U)<90.0 then if cO.z>2.0 then SetEntityVelocity(qO,qR,qS,.0)SetEntityVelocity(qP,qR,qS,.0)elseif cO.z<1.0 then SetEntityVelocity(qO,.0,.0,.0)SetEntityVelocity(qP,.0,.0,.0)else local qU=cO.z-1.0;SetEntityVelocity(qO,qR*qU,qS*qU,.0)SetEntityVelocity(qP,qR*qU,qS*qU,.0)end end;local qV={x=T-dK*2.05+fE*.54,y=U+fE*2.05+dK*.54,z=V+19.5}local qW=(V+1.0)*.09*qm*4.0;if V>-1.0 then local iY=67.0+qm*.5;ModifyWater(T-dK*iY,U+fE*iY,qW,qW)ModifyWater(T-dK*iY+fE*2.5,U+fE*iY+dK*2.5,qW,qW)ModifyWater(T-dK*iY-fE*2.5,U+fE*iY-dK*2.5,qW,qW)iY=iY-1.0;ModifyWater(T-dK*iY+fE*5,U+fE*iY+dK*5,qW,qW)ModifyWater(T-dK*iY-fE*5,U+fE*iY-dK*5,qW,qW)iY=iY-1.5;ModifyWater(T-dK*iY+fE*7.5,U+fE*iY+dK*7.5,qW,qW)ModifyWater(T-dK*iY-fE*7.5,U+fE*iY-dK*7.5,qW,qW)iY=iY-2.0;ModifyWater(T-dK*iY+fE*10,U+fE*iY+dK*10,qW,qW)ModifyWater(T-dK*iY-fE*10,U+fE*iY-dK*10,qW,qW)iY=iY-2.0;ModifyWater(T-dK*iY+fE*10,U+fE*iY+dK*10,qW,qW)ModifyWater(T-dK*iY-fE*10,U+fE*iY-dK*10,qW,qW)elseif V>-11.0 then ModifyWater(T-dK*4.0,U+fE*4.0,qm,qm)elseif V>-16.0 then ModifyWater(T-dK*2.0,U+fE*2.0,qm*.1,qm*.1)end;if V>-8.0 and V<-1.0 then ModifyWater(T+dK*53.0,U-fE*53.0,qm,qm)end;if V>-16.0 and qm>5.0 then ModifyWater(T+dK*64.4+fE*7.0,U-fE*64.4+dK*7.0,-10000.0,10000.0)ModifyWater(T+dK*64.4-fE*7.0,U-fE*64.4-dK*7.0,-10000.0,10000.0)ModifyWater(T+dK*68.0+fE*7.0,U-fE*68.0+dK*7.0,10000.0,10000.0)ModifyWater(T+dK*68.0-fE*7.0,U-fE*68.0-dK*7.0,10000.0,10000.0)end;if b4>0 then if math.abs(bX-qn)>200 and IsExplosionInSphere(-1,T,U,V,70.0)then qn=bX;b4=b4-1;if IsExplosionInSphere(-1,T,U,V,50.0)then b4=b4-9;if IsExplosionInSphere(-1,T,U,V,30.0)then b4=b4-15 end end;print("sub health="..b4)if b4<0 then b4=0 end;if b4==0 then c(d.submarine_destroy)end end elseif qs(cO)then local h2,dj=FindFirstObject()local Z=h2~=-1;while Z do local cO=GetEntityCoords(dj)if qs(cO)and qN[GetEntityModel(dj)]then SetEntityAsMissionEntity(dj)DeleteObject(dj)end;Z,dj=FindNextObject(h2)end;EndFindObject(h2)end;local heading=GetEntityHeading(ped)if qu(cO,heading)then qB("reactor")elseif qv(cO,heading)then qB("front diesel")elseif qw(cO,heading)then qB("back diesel")elseif qx(cO,heading)then qB("heat exchanger")elseif qy(cO,heading)then qB("turbine")elseif qz(cO,heading)then qB("idk something")end;if qE then if GetEntityModel(qD)~=qI then SetFocusEntity(qP)qD=nil;qE=false else qG=GetEntityCoords(qD)local hf=math.min(qG.z-V,qG.z)local f4=GetGameplayCamRot(2)local qX;_,qX=GetCamMatrix(qC)SetCamRot(qC,f4.x,f4.y,f4.z+gL+90.0,2)if hf>0.0 then if qH==nil then qH=bX;SetEntityRotation(qD,.0,.0,f4.z+gL+90.0,2)SetEntityVelocity(qD,.0,.0,qK)else local d6=bX-qH;if d6<500 then local qY=d6*0.002;local qZ=1.0-qY;local X={x=qX.x*qK*qY,y=qX.y*qK*qY,z=qX.z*qK*qY+qK*qZ}SetEntityRotation(qD,f4.x*qY,f4.y*qY,f4.z+gL+90.0,2)SetEntityVelocity(qD,X.x,X.y,X.z)else qE=false;if qF then SetFocusEntity(qD)end;local X={x=qX.x*qK,y=qX.y*qK,z=qX.z*qK}SetEntityRotation(qD,f4.x,f4.y,f4.z+gL+90.0,2)SetEntityVelocity(qD,X.x,X.y,X.z)end end else SetEntityRotation(qD,.0,.0,f4.z+gL+90.0,2)SetEntityVelocity(qD,.0,.0,qK)end end elseif qD then if math.abs(cO.x-qr.x)+math.abs(cO.y-qr.y)>4.0 or math.abs(cO.z-qr.z)>.2 or IsControlJustPressed(0,86)or IsControlJustPressed(0,75)then RenderScriptCams(false,false,0,1,0)DestroyCam(qC,false)qC=nil;SetFocusEntity(ped)qD=nil elseif GetEntityModel(qD)==qI then qG=GetEntityCoords(qD)local f4=GetGameplayCamRot(2)local qX;_,qX=GetCamMatrix(qC)SetCamRot(qC,f4.x,f4.y,f4.z+gL+90.0,2)SetCamCoord(qC,qG.x+qX.x*qM,qG.y+qX.y*qM,qG.z+qX.z*qM)DisableControlAction(1,30,true)DisableControlAction(1,31,true)DisablePlayerFiring(PlayerId(),true)local X={x=qX.x*qK,y=qX.y*qK,z=qX.z*qK}SetEntityRotation(qD,f4.x,f4.y,f4.z+gL+90.0,2)SetEntityVelocity(qD,X.x,X.y,X.z)else SetFocusEntity(qP)SetCamFov(qC,qh)qD=nil end elseif qC then if math.abs(cO.x-qr.x)+math.abs(cO.y-qr.y)>4.0 or math.abs(cO.z-qr.z)>.2 or IsControlJustPressed(0,86)or IsControlJustPressed(0,75)then RenderScriptCams(false,false,0,1,0)DestroyCam(qC,false)qC=nil;SetFocusEntity(ped)else SetCamCoord(qC,qV.x,qV.y,qV.z)local f4=GetGameplayCamRot(2)SetCamRot(qC,f4.x,f4.y,f4.z+gL+90.0,2)DisableControlAction(1,30,true)DisableControlAction(1,31,true)DisablePlayerFiring(PlayerId(),true)end;local qX;_,qX=GetCamMatrix(qC)if b4>0 and IsDisabledControlJustPressed(0,24)then RequestWeaponAsset(qJ,31,0)RequestModel(qI)if not HasWeaponAssetLoaded(qJ)then GiveWeaponToPed(ped,qJ,1,false,true)else local q_;local r0=math.random(1,6)if r0==6 then q_={x=T-dK*26.5-fE*3.5,y=U+fE*26.5-dK*3.5,z=V+2.6}elseif r0==5 then q_={x=T-dK*22.25-fE*3.5,y=U+fE*22.25-dK*3.5,z=V+2.6}elseif r0==4 then q_={x=T-dK*17.0-fE*3.5,y=U+fE*17.0-dK*3.5,z=V+2.6}elseif r0==3 then q_={x=T-dK*26.5+fE*3.5,y=U+fE*26.5+fE*3.5,z=V+2.6}elseif r0==2 then q_={x=T-dK*22.25+fE*3.5,y=U+fE*22.25+fE*3.5,z=V+2.6}elseif r0==1 then q_={x=T-dK*17.0+fE*3.5,y=U+fE*17.0+dK*3.5,z=V+2.6}end;ShootSingleBulletBetweenCoords(q_.x,q_.y,q_.z,q_.x,q_.y,q_.z+400.0,10000.0,false,qJ,ped,true,true,qK)local h2,dj=FindFirstObject()local Z=h2~=-1;print("loop "..h2)while Z do if GetEntityModel(dj)==qI then local cO=GetEntityCoords(dj)if math.abs(cO.x-q_.x)+math.abs(cO.y-q_.y)+math.abs(cO.z-q_.z)<1.0 then qD=dj;qG=cO;SetEntityVelocity(qD,qR,qS,qK)if qF then SetCamFov(qC,60.0)SetCamCoord(qC,q_.x-qX.x*300.0,q_.y-qX.y*300.0,q_.z-qX.z*300.0)else SetFocusEntity(qD)end;qH=nil;qE=true;break end end;Z,dj=FindNextObject(h2)end;EndFindObject(h2)end end;if bB~=nil then RemoveBlip(bB)bB=nil end elseif IsControlJustPressed(0,86)or IsControlJustPressed(0,75)then if qs(cO)then if math.abs(cO.x-qr.x)+math.abs(cO.y-qr.y)<4.0 and math.abs(cO.z-qr.z)<.2 then qC=CreateCameraWithParams("DEFAULT_SCRIPTED_CAMERA",0.001,0.001,0.001,-90.0,.0,.0,90.0,1,2)SetCamFov(qC,qh)RenderScriptCams(true,false,1,true,true)SetCamActive(qC,true)SetCamAffectsAiming(qC,false)SetFocusEntity(qP)SetCamCoord(qC,qV.x,qV.y,qV.z)local f4=GetGameplayCamRot(2)SetCamRot(qC,f4.x,f4.y,f4.z+gL+90.0,2)elseif qt(cO)then local r1="PROP_HUMAN_SEAT_BENCH"local a4,a5,d5;local ml;local iJ;local o9=100.0;if IsPedUsingScenario(ped,r1)then ClearPedTasks(ped)SetEntityCoords(ped,(cO.x-514)*.7+514,cO.y,-62.58)else for u=0,31 do if NetworkIsPlayerActive(u)then local e2=GetEntityCoords(GetPlayerPed(u))if qt(e2)then for f,g in pairs(lr)do if math.abs(e2.x-g.x)+math.abs(e2.y-g.y)+math.abs(e2.z-g.z)<.2 then g.occupied=true;break end end end end end;for f,g in pairs(lr)do if g.occupied then g.occupied=nil else a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;ml=a4*a4+a5*a5+d5*d5;if ml<o9 then o9=ml;iJ=g end end end;if o9<1.0 then TaskStartScenarioAtPosition(ped,r1,iJ.x,iJ.y,iJ.z,iJ.angle,-1,true,true)end end else local r2={x=T+dK*10.218,y=U-fE*10.218,z=V+11.0}local r3={x=T+dK*47.815,y=U-fE*47.815,z=V-1.5}if math.abs(cO.x-qq.x)+math.abs(cO.y-qq.y)+math.abs(cO.z-qq.z)<2.0 then SetEntityCoords(ped,r3.x,r3.y,r3.z-.5,false,false,false,false)SetEntityVelocity(ped,qR,qS,.0)if not fe then SetBlackout(false)end elseif math.abs(cO.x-qp.x)+math.abs(cO.y-qp.y)+math.abs(cO.z-qp.z)<2.0 then SetEntityCoords(ped,r2.x,r2.y,r2.z-.2,false,false,false,false)SetEntityVelocity(ped,qR,qS,.0)if not fe then SetBlackout(false)end end end elseif qA(cO)then local r2={x=T+dK*10.218,y=U-fE*10.218,z=V+11.0}local a4,a5,d5=r2.x-cO.x,r2.y-cO.y,r2.z-cO.z;if a4*a4+a5*a5+d5*d5<9.0 then SetEntityCoords(ped,qp.x,qp.y,qp.z,false,false,false,false)if b4==0 then SetBlackout(true)end else local r3={x=T+dK*47.815,y=U-fE*47.815,z=V-1.5}a4,a5,d5=r3.x-cO.x,r3.y-cO.y,r3.z-cO.z;if a4*a4+a5*a5+d5*d5<9.0 then SetEntityCoords(ped,qq.x,qq.y,qq.z,false,false,false,false)if b4==0 then SetBlackout(true)end end end end elseif b4>0 and qt(cO)then qB("Speed: ~1~kn\nDepth: ~1~m\nHull: ~1~%",math.floor(qm/.514),math.floor(10-V),b4*.1)if qo<bX then local r4=false;if IsControlPressed(0,172)and V<9.0 then V=V+.05;r4=true elseif IsControlPressed(0,173)and V>-190.0 then V=V-.05;r4=true end;if IsControlPressed(0,175)and qm<21.6 then qk=qk+qj;qm=qk*ql;lN=lN-bX*qj;r4=true elseif IsControlPressed(0,174)and qm>0.2 then qk=qk-qj;qm=qk*ql;lN=lN+bX*qj;r4=true end;if r4 then qo=bX+150;c(d.submarine,qk,lN,V)end end;if bB==nil then bB=AddBlipForCoord(T,U,V)SetBlipSprite(bB,308)SetBlipColour(bB,1)else SetBlipCoords(bB,T,U,V)end elseif math.abs(cO.x+2357.65)<5 and math.abs(cO.y-3250.0)<3 and math.abs(cO.z-101.45)<.2 or math.abs(cO.x-3091.35)<2.5 and math.abs(cO.y+4723.1)<2.5 and math.abs(cO.z-27.25)<2.2 or math.abs(cO.x-3085.61)<5 and math.abs(cO.y+4689.48)<5 and math.abs(cO.z-27.25)<2.2 then if bB==nil then bB=AddBlipForCoord(T,U,V)SetBlipSprite(bB,308)SetBlipColour(bB,1)else SetBlipCoords(bB,T,U,V)end else if bB~=nil then RemoveBlip(bB)bB=nil end end;Wait(0)end end)Citizen.CreateThread(function()local M;while true do M=GetClosestObjectOfType(-1149.71,-1521.09,10.78,0.1,-607040053,false,false,false)SetEntityHeading(M,35.000)FreezeEntityPosition(M,true)Wait(0)M=GetClosestObjectOfType(-31.73,-1101.85,26.57,0.1,-2051651622,false,false,false)SetEntityHeading(M,69.920)FreezeEntityPosition(M,true)Wait(0)M=GetClosestObjectOfType(-1614.77,-3153.15,13.89,0.1,1797500920,false,false,false)FreezeEntityPosition(M,true)Wait(0)M=GetClosestObjectOfType(-1615.2,-3153.67,13.89,0.1,1797500920,false,false,false)FreezeEntityPosition(M,true)Wait(0)M=GetClosestObjectOfType(453.07,-983.19,30.83,0.1,749848321,false,false,false)FreezeEntityPosition(M,false)Wait(0)M=GetClosestObjectOfType(-590.175,-1621.495,33.16,1.9,812467272,false,false,false)if M~=0 then SetEntityAsMissionEntity(M)DeleteObject(M)end;Wait(0)end end)Citizen.CreateThread(function()local function r5(aW,T,U,V,gL)local dj=CreateObject(aW,T,U,V,false,false,false)SetEntityVisible(dj,false,0)if gL~=nil then SetEntityHeading(dj,gL)end;FreezeEntityPosition(dj,true)return dj end;local r6={{x=-1632.4475097656,y=-3166.619140625},{x=-1616.5848388672,y=-3147.9265136719},{x=-1612.6760986328,y=-3151.1022949219},{x=-1628.5764160156,y=-3170.0402832031}}local r7=GetHashKey("stt_prop_track_link")local r8=180592504;local r9=2108146567;local eD,eC;RequestModel(r7)while not HasModelLoaded(r7)do Wait(0)end;RequestModel(r9)while not HasModelLoaded(r9)do Wait(0)end;RequestModel(r8)while not HasModelLoaded(r8)do Wait(0)end;local dj=r5(r7,314.2419128418,-593.57293701172,43.260837554932-1.0-0.37)SetEntityRotation(dj,0,180.1-.1,252.001+90.0)dj=r5(r7,314.2419128418,-593.57293701172,46.760837554932-1.0-0.37)SetEntityRotation(dj,0,180.1-.1,252.001+90.0)eD,eC=.53,.47;dj=r5(r7,r6[1].x*eD+r6[2].x*eC,r6[1].y*eD+r6[2].y*eC,-1.79)SetEntityRotation(dj,90.1-.1,90.1-.1,230.1-.1)dj=r5(r7,r6[1].x*eC+r6[2].x*eD,r6[1].y*eC+r6[2].y*eD,-1.79)SetEntityRotation(dj,90.1-.1,90.1-.1,230.1-.1)dj=r5(r7,r6[3].x*eD+r6[4].x*eC,r6[3].y*eD+r6[4].y*eC,-1.79)SetEntityRotation(dj,90.1-.1,90.1-.1,50.1-.1)dj=r5(r7,r6[3].x*eC+r6[4].x*eD,r6[3].y*eC+r6[4].y*eD,-1.79)SetEntityRotation(dj,90.1-.1,90.1-.1,50.1-.1)eD,eC=.38,.62;r5(r9,r6[1].x*eC+r6[4].x*eD,r6[1].y*eC+r6[4].y*eD,12.49,140.1-.1)r5(r9,r6[1].x*eD+r6[4].x*eC,r6[1].y*eD+r6[4].y*eC,12.49,140.1-.1)r5(r9,r6[2].x*eC+r6[3].x*eD,r6[2].y*eC+r6[3].y*eD,12.49,320.1-.1)r5(r9,r6[2].x*eD+r6[3].x*eC,r6[2].y*eD+r6[3].y*eC,12.49,320.1-.1)r5(r9,303.14384227991,-580.9409404397,42.245590209961,340.75720214844)r5(r9,306.80571722984,-582.21986839771,42.244525909424,340.75720214844)r5(r9,310.60110670328,-583.69450907707,42.245006561279,340.75720214844)r5(r9,312.56925644875,-584.1685956955,42.245338439941,72.378913879395-180.0)r5(r9,313.73987131119,-586.72501893044,43.24560546875,159.16955566406-180.0)r5(r9,317.12903263569,-587.53602507114,43.245983123779,2.5214028358459)r5(r9,321.99633811712,-588.04154200554,42.245197296143,160.4330291748-180.0)r5(r9,325.69876739979,-589.24966273308,42.245208740234,160.51724243164-180.0)r5(r9,328.97306342125,-590.45397012234,42.245239257813,159.01550292969-180.0)r5(r9,328.54960048199,-591.56347482204,42.24728012085,298.03909301758)r5(r9,328.56815433502,-594.96763951778,42.247379302979,250.01731872559)r5(r9,328.67022200823,-597.16271226406,42.247623443604,340.34378051758-180.0)r5(r9,326.02302324772,-598.53410321474,42.247219085693,249.43344116211)r5(r9,323.53159086742,-600.52500598431,42.247123718262,179.81518554688)r5(r9,318.37322318554,-600.23599205017,42.246520996094,161.85870361328)r5(r9,316.33099359274,-599.57956571579,42.246307373047,160.43476867676)r5(r9,314.33975784779,-599.37933373451,42.245872497559,249.73738098145-180.0)r5(r9,313.12245323658,-596.85303764343,42.245822906494,160.01754760742)r5(r9,311.65027256012,-599.38266977072,42.245555877686,249.31227111816)r5(r9,310.5222566247,-602.00753350258,42.240966796875,344.45452880859)r5(r9,310.42322990894,-602.803379035,42.240985870361,249.82260131836)r5(r9,307.96855646372,-603.41801025867,42.240985870361,159.8858795166)r5(r9,304.25722866058,-602.03607141972,42.241004943848,158.96794128418)r5(r9,300.54194885492,-600.67457711697,42.241020202637,160.49287414551)r5(r9,296.71898254156,-599.31054069996,42.241024017334,160.07502746582)r5(r8,311.8790699482,-597.01931984425,42.745555877686,305.90689086914)r5(r8,309.42846791744,-601.08368059397,42.741069793701,249.06173706055)r5(r8,307.04223710299,-586.91633212566,42.74471282959,340.85052490234)r5(r8,323.48099386692,-594.84088951349,42.746700286865,251.75482177734)r5(r8,307.14996874332,-600.04622876644,42.745239257813,158.97486877441)r5(r8,300.68341106176,-595.26827394962,42.741073608398,341.45007324219)dj=r5(r8,311.8790699482*.5+309.67651367188*.5,-597.01931984425*.5-596.31536865234*.5,40.545555877686,340.01-.01)SetEntityRotation(dj,0,90.1-.1,340.01-.01)dj=r5(r8,307.04223710299,-586.91633212566,40.34471282959,340.01-.01)SetEntityRotation(dj,0,90.1-.1,340.01-.01)r5(r8,323.48099386692*.5+322.74032592773*.5,-594.84088951349*.5-597.04119873047*.5,38.8,251.75482177734)dj=r5(r8,321.08981323242,-597.56762695313,39.246738433838,158.97486877441)SetEntityRotation(dj,0,.1-.1,158.97486877441)dj=r5(r8,300.68341106176,-595.26827394962,40.341073608398,340.01-.01)SetEntityRotation(dj,0,90.1-.1,340.01-.01)end)local function ra(ped)local Y=GetVehiclePedIsIn(ped)local rb=GetVehicleMaxNumberOfPassengers(Y)-1;for u=-1,rb do if GetPedInVehicleSeat(Y,u)==ped then return u end end;return 0 end;Citizen.CreateThread(function()local rc={red=1,green=2,blue=3,white=4,yellow=5,orange=47,purple=50,pink=48,grey=39}local rd={[1]={255,59,59},[2]={121,206,121},[3]={101,185,231},[4]={241,241,241},[5]={240,203,88},[47]={255,154,24},[50]={138,109,227},[48]={247,69,165},[39]={159,159,159},[72]={0,0,0},[85]={0,0,0}}local re;local rf=4;local rg=false;local rh=true;local ri=true;local rj=true;local rk=false;local rl={}local dh={}local rm={}local rn;local ro=1.0;local rp=0xFFFFF;local rq=0x100000;local rr=0x80000;local rs=0x40000;local rt=rp|rq;local function ru(jq)return jq~math.random(0,0x7FF)*0x200000 end;local function rv(ped,jq)DecorSetInt(ped,fp.partynumber,ru(jq))end;local function rw(ped)return DecorGetInt(ped,fp.partynumber)&rt end;local function rx(ped,jq)DecorSetInt(ped,fp.partytraitor,ru(jq))end;local function ry(ped)return DecorGetInt(ped,fp.partytraitor)&rt end;local function rz(ped,jq)if jq&(rs|rr)~=0 then if GetEntityHealth(ped)<100 then return false end;if jq&rs~=0 and IsPedCop(ped)then return false end;if jq&rr~=0 and not IsPedCop(ped)then return false end end;return true end;DecorRegister(fp.partytraitor,3)local function rA(gE,t,rB)if t[1]~=nil then if rc[t[1]]~=nil then rf=rc[t[1]]DecorSetInt(PlayerPedId(),fp.partycolor,rf)elseif rd[tonumber(t[1])]~=nil then rf=tonumber(t[1])DecorSetInt(PlayerPedId(),fp.partycolor,rf)end end end;local rC={federals=911|rq|rr,scpfoundation=682|rq,meninblack=682|rq,altahotel=1|rq|rs,hostel=2|rq|rs}local function rD(ey)local aZ=rC[ey]if aZ~=nil then return aZ else aZ=tonumber(ey)if aZ~=nil then aZ=aZ&rp end;return aZ end end;local function rE(gE,t,rB)local jq=rD(t[1])if jq==nil and t[2]~=nil then jq=rD(t[2])end;if jq~=nil and(re==nil or re&rq==0)then local ped=PlayerPedId()if jq&rq==0 or rz(ped,jq)and rn==nil then re=jq;rv(ped,re)DecorSetInt(ped,fp.partycolor,rf)end end end;local function rF(rG,ey)if ey==nil then return not rG elseif ey=="y"or ey=="1"then return true elseif ey=="n"or ey=="0"then return false end;return rG end;local function rH(gE,t,rB)local rI=tonumber(t[1])if rI~=nil then ro=rI+.1-.1 end end;local function rJ(gE,t,rB)rg=rF(rg,t[1])end;local function rK(gE,t,rB)rh=rF(rh,t[1])end;local function rL(gE,t,rB)ri=rF(ri,t[1])end;local function rM(gE,t,rB)rj=rF(rj,t[1])end;local function rN(rB,rO)if re==nil then print("you are not in party")TriggerEvent("chatMessage","Party chat error",{255,255,255},"you are not in party")else local ey=" "..string.sub(rB,rO)for u=0,31 do if NetworkIsPlayerActive(u)and re==rw(GetPlayerPed(u))then ExecuteCommand("msg_no_echo "..tostring(GetPlayerServerId(u))..ey)end end end end;RegisterCommand("partychat",function(gE,t,rB)return rN(rB,11)end,false)RegisterCommand("p",function(gE,t,rB)return rN(rB,3)end,false)RegisterCommand("partys",rH,false)RegisterCommand("partysc",rH,false)RegisterCommand("partyscale",rH,false)RegisterCommand("partyc",rA,false)RegisterCommand("partycolor",rA,false)RegisterCommand("partyss",rJ,false)RegisterCommand("partyshowself",rJ,false)RegisterCommand("partyshowselfface",rK,false)RegisterCommand("partyshowface",rK,false)RegisterCommand("partyshowmarkers",rL,false)RegisterCommand("partyshowmymarker",rM,false)RegisterCommand("partysf",rK,false)RegisterCommand("partysm",rL,false)RegisterCommand("partysmm",rM,false)RegisterCommand("join",rE,false)RegisterCommand("create",rE,false)RegisterCommand("party",rE,false)RegisterCommand("createparty",rE,false)RegisterCommand("joinparty",rE,false)RegisterCommand("partycreate",rE,false)RegisterCommand("partyjoin",rE,false)RegisterCommand("createjoin",rE,false)RegisterCommand("joincreate",rE,false)RegisterCommand("leave",function(gE,t,rB)if re&rq==0 then re=nil;DecorRemove(PlayerPedId(),fp.partynumber)end end,false)Citizen.CreateThread(function()while true do if rn~=nil then rx(PlayerPedId(),rn)end;Wait(0)if re~=nil then local ped=PlayerPedId()if re&rq~=0 then if GetEntityHealth(ped)<100 then re=nil elseif not rz(ped,re)then re=nil;DecorRemove(ped,fp.partynumber)Wait(500)else rv(ped,re)Wait(3000)end else rv(ped,re)Wait(5000)end else Wait(1000)end end end)Citizen.CreateThread(function()for u=0,32 do UnregisterPedheadshot(u)end;while true do Wait(360000)for f,g in pairs(rl)do UnregisterPedheadshot(g)end;rl={}end end)local rP=PlayerPedId()local rQ=7;local rR=255;while true do Wait(0)local rS=.950;local rT=.925;local rU=PlayerId()local a9=PlayerPedId()if rP~=a9 then rP=a9;if re~=nil then rv(a9,re)end;DecorSetInt(a9,fp.partycolor,rf)elseif GetEntityHealth(a9)>0 and DecorExistOn(a9,fp.partynumber)then re=rw(a9)end;if re~=nil and rj then local rV=GetFirstBlipInfoId(8)if rV==0 then DecorRemove(a9,fp.party_x)DecorRemove(a9,fp.party_y)DecorRemove(a9,fp.party_z)else local gr=GetBlipCoords(rV)DecorSetInt(a9,fp.party_x,math.floor(gr.x+.5))DecorSetInt(a9,fp.party_y,math.floor(gr.y+.5))DecorSetInt(a9,fp.party_z,math.floor(gr.z+.5))end else DecorRemove(a9,fp.party_x)DecorRemove(a9,fp.party_y)DecorRemove(a9,fp.party_z)end;if re==nil then for g1=0,31 do local pb=GetPlayerPed(g1)local bB=GetBlipFromEntity(pb)if bB~=0 then RemoveBlip(bB)end end;local k8=false;for g1,rW in pairs(rl)do UnregisterPedheadshot(rW)k8=true end;if k8 then rl={}end;k8=false;for g1,rX in pairs(rm)do RemoveBlip(rX)k8=true end;if k8 then rm={}end elseif re&rq~=0 then local pO=GetRenderingCam()if pO==-1 then pO=GetGameplayCamCoord()else pO=GetCamCoord(pO)end;for g1=0,31 do local pb=GetPlayerPed(g1)local rY=4;local bB=GetBlipFromEntity(pb)local rW=rl[g1]local rX=rm[g1]if DecorExistOn(pb,fp.partytraitor)and ry(pb)==re then if dh[g1]==nil then dh[g1]=pb elseif dh[g1]~=pb then dh[g1]=pb;if rW~=nil then UnregisterPedheadshot(rW)rl[g1]=nil end end;rY=1;if rW==nil then rW=RegisterPedheadshot(pb)rl[g1]=rW end;if bB==0 then bB=AddBlipForEntity(pb)end;SetBlipSprite(bB,119)SetBlipScale(bB,1.0)SetBlipColour(bB,rY)if ri and DecorExistOn(pb,fp.party_x)and DecorExistOn(pb,fp.party_y)and DecorExistOn(pb,fp.party_z)then if rX==nil then local T=DecorGetInt(pb,fp.party_x)+.001;local U=DecorGetInt(pb,fp.party_y)+.001;local V=DecorGetInt(pb,fp.party_z)+.001;rX=AddBlipForCoord(T,U,V)SetBlipSprite(rX,162)SetBlipDisplay(rX,2)SetBlipScale(rX,1.0)rm[g1]=rX end;SetBlipColour(rX,rY)elseif rX~=nil then RemoveBlip(rX)rm[g1]=nil end;local pj=GetEntityHealth(pb)-100;local rZ=GetEntityMaxHealth(pb)-100;local pl=GetPedArmour(pb)local bH=GetPlayerWantedLevel(g1)if rk and(rh or g1~=rU)and IsPedheadshotReady(rW)and IsPedheadshotValid(rW)then DrawRect(rS,rT,0.044,0.066,0,0,0,255)local r_=GetPedheadshotTxdString(rW)if pj>0 then DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,255,255,255)if(pj-1)*2>rZ then DrawRect(rS,rT-0.022,pj*0.0003,0.004,0,200,0,255)SetTextColour(0,200,0,255)else DrawRect(rS,rT-0.022,pj*0.0003,0.004,200,0,0,255)SetTextColour(200,0,0,255)end;SetTextCentre(true)SetTextOutline()SetTextFont(4)SetTextScale(.35,.35)BeginTextCommandDisplayText("NUMBER")AddTextComponentInteger(pj)EndTextCommandDisplayText(rS,rT+0.023)DrawRect(rS,rT-0.020,pl*0.0003,0.004,0,150,255,255)else DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,0,0,255)end;local eX="crosstheline"local s0="timer_largecross_32"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else DrawSprite(eX,s0,rS,rT,0.04,0.06,0.0,255,0,0,255)end;if bH>0 then local eX="commonmenu"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local s1="shop_new_star"local U=rT+0.023;DrawSprite(eX,s1,rS-0.016,U,0.016,0.024,0.0,255,255,255,255)if bH>1 then DrawSprite(eX,s1,rS-0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>2 then DrawSprite(eX,s1,rS,U,0.016,0.024,0.0,255,255,255,255)if bH>3 then DrawSprite(eX,s1,rS+0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>4 then DrawSprite(eX,s1,rS+0.016,U,0.016,0.024,0.0,255,255,255,255)end end end end end end;if rS>.801 then rS=rS-.05 else rS=.950;rT=rT-.075 end end elseif DecorExistOn(pb,fp.partynumber)and rw(pb)==re then local s2=bm.civilian or bm.is_cop==IsPedCop(pb)if dh[g1]==nil then dh[g1]=pb elseif dh[g1]~=pb then dh[g1]=pb;if rW~=nil then UnregisterPedheadshot(rW)rl[g1]=nil end end;if DecorExistOn(pb,fp.partycolor)then rY=DecorGetInt(pb,fp.partycolor)end;if rW==nil then rW=RegisterPedheadshot(pb)rl[g1]=rW end;if s2 then if bB==0 then bB=AddBlipForEntity(pb)SetBlipScale(bB,0.6)end;SetBlipColour(bB,rY)if ri and DecorExistOn(pb,fp.party_x)and DecorExistOn(pb,fp.party_y)and DecorExistOn(pb,fp.party_z)then local T=DecorGetInt(pb,fp.party_x)+.001;local U=DecorGetInt(pb,fp.party_y)+.001;local V=DecorGetInt(pb,fp.party_z)+.001;if rX==nil then rX=AddBlipForCoord(T,U,V)SetBlipSprite(rX,162)SetBlipDisplay(rX,2)SetBlipScale(rX,1.0)rm[g1]=rX else SetBlipCoords(rX,T,U,V)end;SetBlipColour(rX,rY)elseif rX~=nil then RemoveBlip(rX)rm[g1]=nil end else if bB~=0 then RemoveBlip(bB)end;if rX~=nil then RemoveBlip(rX)rm[g1]=nil end end;local pj=GetEntityHealth(pb)-100;local rZ=GetEntityMaxHealth(pb)-100;local pl=GetPedArmour(pb)local bH=GetPlayerWantedLevel(g1)local s3=rd[rY]if pj<0 and pb~=a9 and rn==nil then local lG=GetPedKiller(pb)print("killer="..lG)if lG~=0 then if lG==a9 or lG==GetVehiclePedIsUsing(a9)then rn=re;rx(a9,rn)DecorRemove(a9,fp.partynumber)re=nil end end end;if rg or g1~=rU then local cO=GetEntityCoords(pb)local s4,T,U=N_0xf9904d11f1acbec3(cO.x,cO.y,cO.z+0.35)if not s4 and(s2 or HasEntityClearLosToEntity(a9,pb,17))then local ez=#(pO-cO)if ez>100 then ez=100 elseif ez<20 then ez=20 end;ez=ro*30/ez;if IsPedSittingInAnyVehicle(pb)then U=U+ra(pb)*ez*.025 end;if bH>0 then SetTextCentre(true)SetTextOutline()SetTextFont(7)SetTextScale(ez*.3,ez*.3)if pj>0 then SetTextColour(s3[1],s3[2],s3[3],rR)else SetTextColour(255,0,0,rR)end;TextCommandDisplayText(T,U-ez*.0175,string.rep("*",bH))end;SetTextCentre(true)SetTextOutline()SetTextFont(rQ)SetTextScale(ez*.3,ez*.3)if pj>0 then SetTextColour(s3[1],s3[2],s3[3],rR)else SetTextColour(255,0,0,rR)end;TextCommandDisplayText(T,U,GetPlayerName(g1))if pj>0 then if pl~=0 then DrawRect(T+(pl-100)*0.000125,U+ez*.023,pl*0.00025,0.003,0,150,255,150)U=U+ez*.028 else U=U+ez*.022 end;DrawRect(T,U,0.025,0.005,0,0,0,255)if(pj-1)*2>rZ then DrawRect(T+(pj-100)*0.000125,U,pj*0.00025,0.003,100,255,100,150)else DrawRect(T+(pj-100)*0.000125,U,pj*0.00025,0.003,255,0,0,150)end end end end;if(rh or g1~=rU)and IsPedheadshotReady(rW)and IsPedheadshotValid(rW)then if s3~=nil then DrawRect(rS,rT,0.044,0.066,s3[1],s3[2],s3[3],255)end;local r_=GetPedheadshotTxdString(rW)if pj>0 then DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,255,255,255)if(pj-1)*2>rZ then DrawRect(rS,rT-0.022,pj*0.0003,0.004,0,200,0,255)SetTextColour(0,200,0,255)else DrawRect(rS,rT-0.022,pj*0.0003,0.004,200,0,0,255)SetTextColour(200,0,0,255)end;SetTextCentre(true)SetTextOutline()SetTextFont(4)SetTextScale(.35,.35)BeginTextCommandDisplayText("NUMBER")AddTextComponentInteger(pj)EndTextCommandDisplayText(rS,rT+0.023)DrawRect(rS,rT-0.020,pl*0.0003,0.004,0,150,255,255)else DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,0,0,255)end;if bH>0 then local eX="commonmenu"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local s1="shop_new_star"local U=rT+0.023;DrawSprite(eX,s1,rS-0.016,U,0.016,0.024,0.0,255,255,255,255)if bH>1 then DrawSprite(eX,s1,rS-0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>2 then DrawSprite(eX,s1,rS,U,0.016,0.024,0.0,255,255,255,255)if bH>3 then DrawSprite(eX,s1,rS+0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>4 then DrawSprite(eX,s1,rS+0.016,U,0.016,0.024,0.0,255,255,255,255)end end end end end end;if rS>.801 then rS=rS-.05 else rS=.950;rT=rT-.075 end end else if rW~=nil then UnregisterPedheadshot(rW)rl[g1]=nil end;if bB~=0 then RemoveBlip(bB)end;if rX~=nil then RemoveBlip(rX)rm[g1]=nil end end end else local pO=GetRenderingCam()if pO==-1 then pO=GetGameplayCamCoord()else pO=GetCamCoord(pO)end;for g1=0,31 do local pb=GetPlayerPed(g1)local rY=4;local bB=GetBlipFromEntity(pb)local rW=rl[g1]local rX=rm[g1]local s5=DecorExistOn(pb,fp.partynumber)and rw(pb)==re;local s2=s5 and(bm.civilian or bm.is_cop==IsPedCop(pb))if s5 then if dh[g1]==nil then dh[g1]=pb elseif dh[g1]~=pb then dh[g1]=pb;if rW~=nil then UnregisterPedheadshot(rW)rl[g1]=nil end end;if DecorExistOn(pb,fp.partycolor)then rY=DecorGetInt(pb,fp.partycolor)end;if rW==nil then rW=RegisterPedheadshot(pb)rl[g1]=rW end;local pj=GetEntityHealth(pb)-100;local rZ=GetEntityMaxHealth(pb)-100;local pl=GetPedArmour(pb)local bH=GetPlayerWantedLevel(g1)local s3=rd[rY]if rg or g1~=rU then local cO=GetEntityCoords(pb)local s4,T,U=N_0xf9904d11f1acbec3(cO.x,cO.y,cO.z+0.35)if not s4 and(s2 or HasEntityClearLosToEntity(a9,pb,17))then local ez=#(pO-cO)if ez>100 then ez=100 elseif ez<20 then ez=20 end;ez=ro*30/ez;if IsPedSittingInAnyVehicle(pb)then U=U+ra(pb)*ez*.025 end;if bH>0 then SetTextCentre(true)SetTextOutline()SetTextFont(7)SetTextScale(ez*.3,ez*.3)if pj>0 then SetTextColour(s3[1],s3[2],s3[3],rR)else SetTextColour(255,0,0,rR)end;TextCommandDisplayText(T,U-ez*.0175,string.rep("*",bH))end;SetTextCentre(true)SetTextOutline()SetTextFont(rQ)SetTextScale(ez*.3,ez*.3)if pj>0 then SetTextColour(s3[1],s3[2],s3[3],rR)else SetTextColour(255,0,0,rR)end;TextCommandDisplayText(T,U,GetPlayerName(g1))if pj>0 then if pl~=0 then DrawRect(T+(pl-100)*0.000125,U+ez*.023,pl*0.00025,0.003,0,150,255,150)U=U+ez*.028 else U=U+ez*.022 end;DrawRect(T,U,0.025,0.005,0,0,0,255)if(pj-1)*2>rZ then DrawRect(T+(pj-100)*0.000125,U,pj*0.00025,0.003,100,255,100,150)else DrawRect(T+(pj-100)*0.000125,U,pj*0.00025,0.003,255,0,0,150)end end end end;if(rh or g1~=rU)and IsPedheadshotReady(rW)and IsPedheadshotValid(rW)then if s3~=nil then DrawRect(rS,rT,0.044,0.066,s3[1],s3[2],s3[3],255)end;local r_=GetPedheadshotTxdString(rW)if pj>0 then DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,255,255,255)if(pj-1)*2>rZ then DrawRect(rS,rT-0.022,pj*0.0003,0.004,0,200,0,255)SetTextColour(0,200,0,255)else DrawRect(rS,rT-0.022,pj*0.0003,0.004,200,0,0,255)SetTextColour(200,0,0,255)end;SetTextCentre(true)SetTextOutline()SetTextFont(4)SetTextScale(.35,.35)BeginTextCommandDisplayText("NUMBER")AddTextComponentInteger(pj)EndTextCommandDisplayText(rS,rT+0.023)DrawRect(rS,rT-0.020,pl*0.0003,0.004,0,150,255,255)else DrawSprite(r_,r_,rS,rT,0.04,0.06,0.0,255,0,0,255)end;if bH>0 then local eX="commonmenu"if not HasStreamedTextureDictLoaded(eX)then RequestStreamedTextureDict(eX,false)else local s1="shop_new_star"local U=rT+0.023;DrawSprite(eX,s1,rS-0.016,U,0.016,0.024,0.0,255,255,255,255)if bH>1 then DrawSprite(eX,s1,rS-0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>2 then DrawSprite(eX,s1,rS,U,0.016,0.024,0.0,255,255,255,255)if bH>3 then DrawSprite(eX,s1,rS+0.008,U,0.016,0.024,0.0,255,255,255,255)if bH>4 then DrawSprite(eX,s1,rS+0.016,U,0.016,0.024,0.0,255,255,255,255)end end end end end end;if rS>.801 then rS=rS-.05 else rS=.950;rT=rT-.075 end end else if rW~=nil then UnregisterPedheadshot(rW)rl[g1]=nil end end;if s2 then if bB==0 then bB=AddBlipForEntity(pb)SetBlipScale(bB,0.75)end;SetBlipColour(bB,rY)if ri and s2 and DecorExistOn(pb,fp.party_x)and DecorExistOn(pb,fp.party_y)and DecorExistOn(pb,fp.party_z)then local T=DecorGetInt(pb,fp.party_x)+.001;local U=DecorGetInt(pb,fp.party_y)+.001;local V=DecorGetInt(pb,fp.party_z)+.001;if rX==nil then rX=AddBlipForCoord(T,U,V)SetBlipSprite(rX,162)SetBlipDisplay(rX,2)SetBlipScale(rX,1.0)rm[g1]=rX else SetBlipCoords(rX,T,U,V)end;SetBlipColour(rX,rY)elseif rX~=nil then RemoveBlip(rX)rm[g1]=nil end else if bB~=0 then RemoveBlip(bB)end;if rX~=nil then RemoveBlip(rX)rm[g1]=nil end end end end end end)Citizen.CreateThread(function()local a9,rP,s6,s7,s8,s9,sa;local rp,sb;local sc,sd;local se={}local sf={}local sg={}local dh={}local aW=GetHashKey("p_ld_heist_bag_01")local sh={[WEAPON.MINIGUN]=30,[WEAPON.HOMINGLAUNCHER]=29,[WEAPON.RPG]=28,[WEAPON.HEAVYSNIPERMK2]=27,[WEAPON.HEAVYSNIPER]=26,[WEAPON.RAILGUN]=25,[WEAPON.COMBATMG]=24,[WEAPON.GRENADELAUNCHER]=23,[WEAPON.MG]=22,[WEAPON.COMBATMGMK2]=21,[WEAPON.ASSAULTSHOTGUN]=20,[WEAPON.SNIPERRIFLE]=19,[WEAPON.MUSKET]=18,[WEAPON.MARKSMANRIFLE]=17,[WEAPON.ASSAULTRIFLEMK2]=16,[WEAPON.CARBINERIFLEMK2]=15,[WEAPON.HEAVYSHOTGUN]=14,[WEAPON.ASSAULTRIFLE]=13,[WEAPON.CARBINERIFLE]=12,[WEAPON.PUMPSHOTGUNMK2]=11,[WEAPON.PUMPSHOTGUN]=10,[WEAPON.BULLPUPRIFLE]=9,[WEAPON.ADVANCEDRIFLE]=8,[WEAPON.SPECIALCARBINE]=7,[WEAPON.GUSENBERG]=6,[WEAPON.BULLPUPSHOTGUN]=5}local si={0.055,-0.15,-0.1,180.1-.1,10.1-.1,180.1-.1}local sj={}for _,jo in pairs(weapon_upgrades)do for sk,K in pairs(jo)do if sh[sk]~=nil then sj[K]=true end end end;local function sl()local dP={}local sm=false;for f,g in pairs(sj)do if HasPedGotWeaponComponent(a9,s8,f)then table.insert(dP,f)sm=true end end;if sm then c("weapons_on_back",{s8,dP})else c("weapons_on_back",{s8})end end;a("weapons_on_back")b("weapons_on_back",function(gE,dP)se[GetPlayerFromServerId(gE)]=dP end)while true do Wait(0)a9=PlayerPedId()if IsPedFatallyInjured(a9)then if s6~=nil then SetEntityAsMissionEntity(s6)DeleteObject(s6)s6=nil end;if rp~=nil then SetEntityAsMissionEntity(rp)DeleteObject(rp)rp=nil;bm.scuba_gear=false end;if sb~=nil then SetEntityAsMissionEntity(sb)DeleteObject(sb)sb=nil;bm.scuba_gear=false end;for _,be in pairs(WEAPON)do if HasPedGotWeapon(a9,be,false)then local bh=GetPedAmmoTypeFromWeapon(a9,be)local bf=GetPedAmmoByType(a9,bh)SetPedAmmoByType(a9,bh,0)Wait(0)a9=PlayerPedId()SetPedDropsInventoryWeapon(a9,be,0.0,0.0,-0.1,bf)RemoveWeaponFromPed(a9,be)end end elseif a9~=rP then rP=a9;if s6~=nil then AttachEntityToEntity(s6,a9,GetPedBoneIndex(a9,0x60f2),0.02,0.035,0.0,0.0,270.0,180.0,false,false,false,true,0,true)end;if rp~=nil then AttachEntityToEntity(rp,a9,GetPedBoneIndex(a9,0x796e),0.0,0.0,0.0,0.0,270.0,180.0,false,false,false,true,0,true)end;if sb~=nil then AttachEntityToEntity(sb,a9,GetPedBoneIndex(a9,0x60f2),-.275,-0.24,0.0,0.0,270.0,180.0,false,false,false,true,0,true)end else sa=GetSelectedPedWeapon(a9)if IsControlJustPressed(0,56)and not bm.is_cop then local sn,so=GetAmmoInClip(a9,sa)if sn then local bh=GetPedAmmoTypeFromWeapon(a9,sa)local bf=GetPedAmmoByType(a9,bh)SetPedAmmoByType(a9,bh,bf-so)SetPedDropsInventoryWeapon(a9,sa,0.0,0.0,-0.1,so)end else if s8==nil then if sd~=nil and sd~=sa then if not HasPedGotWeapon(a9,sd)then sd=sc;sc=nil else s8=sd;sl()end elseif sc~=nil and sc~=sa then if not HasPedGotWeapon(a9,sc)then sc=nil else s8=sc;sl()end end elseif s8==sa or not HasPedGotWeapon(a9,s8)then if sd~=nil and sd~=sa then if not HasPedGotWeapon(a9,sd)then sd=sc;sc=nil else s8=sd;sl()end elseif sc~=nil and sc~=sa then if not HasPedGotWeapon(a9,sc)then sc=nil else s8=sc;sl()end else s8=nil;sl()end else if not HasPedGotWeapon(a9,sc)then sc=nil elseif not HasPedGotWeapon(a9,sd)then sd=sc;sc=nil end end;s9=sh[sa]if s9~=nil then if sd==nil or s9>sh[sd]then sc=sd;sd=sa elseif sc==nil or s9>sh[sc]then if sa~=sd then sc=sa end end end end;if bm.money>=150000 then if s6==nil then if not HasModelLoaded(aW)then RequestModel(aW)else local cO=GetEntityCoords(a9)s6=CreateObject(aW,cO.x,cO.y,-199.9,true,false,false)SetEntityCollision(s6,false,false)AttachEntityToEntity(s6,a9,GetPedBoneIndex(a9,0x60f2),0.02,0.035,0.0,0.0,270.0,180.0,false,false,false,true,0,true)SetModelAsNoLongerNeeded(aW)end end else if s6~=nil then SetEntityAsMissionEntity(s6)DeleteObject(s6)s6=nil end end;if bm.scuba_gear then if rp==nil then local aW=GetHashKey("p_d_scuba_mask_s")if not HasModelLoaded(aW)then RequestModel(aW)else local cO=GetEntityCoords(a9)rp=CreateObject(aW,cO.x,cO.y,-199.9,true,false,false)SetEntityCollision(rp,false,false)AttachEntityToEntity(rp,a9,GetPedBoneIndex(a9,0x796e),0.0,0.0,0.0,0.0,270.0,180.0,false,false,false,true,0,true)SetModelAsNoLongerNeeded(aW)end end;if sb==nil then local aW=GetHashKey("p_s_scuba_tank_s")if not HasModelLoaded(aW)then RequestModel(aW)else local cO=GetEntityCoords(a9)sb=CreateObject(aW,cO.x,cO.y,-199.9,true,false,false)SetEntityCollision(sb,false,false)AttachEntityToEntity(sb,a9,GetPedBoneIndex(a9,0x60f2),-.275,-0.24,0.0,0.0,270.0,180.0,false,false,false,true,0,true)SetModelAsNoLongerNeeded(aW)end end else if rp~=nil then SetEntityAsMissionEntity(rp)DeleteObject(rp)rp=nil end;if sb~=nil then SetEntityAsMissionEntity(sb)DeleteObject(sb)sb=nil end end end;Wait(0)for u=0,31 do if NetworkIsPlayerActive(u)then local ped=GetPlayerPed(u)if IsPedDeadOrDying(ped)then s7=sf[u]if s7~=nil then SetEntityAsMissionEntity(s7)DeleteEntity(s7)sf[u]=nil;sg[u]=nil end;se[u]=nil elseif ped~=dh[u]then dh[u]=ped;s7=sf[u]if s7~=nil then AttachEntityToEntity(s7,ped,GetPedBoneIndex(ped,0x60f2),si[1],si[2],si[3],si[4],si[5],si[6],false,false,false,true,0,true)end else if se[u]~=nil then if sf[u]==nil then local K=se[u][1]local cO=GetEntityCoords(ped)s7=CreateWeaponObject(K,100,cO.x,cO.y,-199.1,true,0.0,0)if se[u][2]~=nil then for _,K in pairs(se[u][2])do GiveWeaponComponentToWeaponObject(s7,K)end end;SetEntityCollision(s7,false,false)AttachEntityToEntity(s7,ped,GetPedBoneIndex(ped,0x60f2),si[1],si[2],si[3],si[4],si[5],si[6],false,false,false,true,0,true)sg[u]=K;sf[u]=s7 elseif se[u][1]~=sg[u]then s7=sf[u]if s7~=nil then SetEntityAsMissionEntity(s7)DeleteEntity(s7)sf[u]=nil;sg[u]=nil end end else s7=sf[u]if s7~=nil then SetEntityAsMissionEntity(s7)DeleteEntity(s7)sf[u]=nil;sg[u]=nil end end end else s7=sf[u]if s7~=nil then SetEntityAsMissionEntity(s7)DeleteEntity(s7)sf[u]=nil;sg[u]=nil end end end end end)a("number_of_trains")b("number_of_trains",function()local sp=0;local sq=0;local aW=0;local h2,Y=FindFirstVehicle()local Z=h2~=-1;while Z do aW=GetEntityModel(Y)if aW==1030400667 then sp=sp+1 elseif aW==868868440 then sq=sq+1 end;Z,Y=FindNextVehicle(h2)end;EndFindVehicle(h2)c("number_of_trains",sp,sq)end)a("spawntrain")b("spawntrain",function()local sr=GetHashKey("freight")local ss=GetHashKey("freightcar")local st=GetHashKey("freightgrain")local su=GetHashKey("freightcont1")local sv=GetHashKey("freightcont2")local sw=GetHashKey("freighttrailer")local sx=586013744;RequestModel(sr)while not HasModelLoaded(sr)do Wait(0)end;RequestModel(ss)while not HasModelLoaded(ss)do Wait(0)end;RequestModel(st)while not HasModelLoaded(st)do Wait(0)end;RequestModel(su)while not HasModelLoaded(su)do Wait(0)end;RequestModel(sv)while not HasModelLoaded(sv)do Wait(0)end;RequestModel(sw)while not HasModelLoaded(sw)do Wait(0)end;RequestModel(sx)while not HasModelLoaded(sx)do Wait(0)end;local sy=math.random(0,22)if sy==21 then sy=23 end;local sz=CreateMissionTrain(sy,1216.63,-612.24,37.20,true)SetTrainCruiseSpeed(sz,50.0)end)a("spawnmetro")b("spawnmetro",function()local sq=868868440;RequestModel(sq)while not HasModelLoaded(sq)do Wait(0)end;local sz=CreateMissionTrain(24,-1237.16,-2884.43,-7.55,true)SetVehicleDoorBroken(sz,0,true)SetVehicleDoorBroken(sz,1,true)SetVehicleDoorBroken(sz,2,true)SetVehicleDoorBroken(sz,3,true)local h2,Y=FindFirstVehicle()local Z=h2~=-1;while Z do if GetEntityModel(Y)==sq then SetVehicleDoorBroken(Y,0,true)SetVehicleDoorBroken(Y,1,true)SetVehicleDoorBroken(Y,2,true)SetVehicleDoorBroken(Y,3,true)end;Z,Y=FindNextVehicle(h2)end;EndFindVehicle(h2)end)Citizen.CreateThread(function()local sA={{x=270.25445556641,y=-1204.4178466797,z=38.910297393799},{x=-542.03149414063,y=-1285.2299804688,z=27.332866668701},{x=-883.50085449219,y=-2320.1237792969,z=-11.732736587524},{x=-1089.3988037109,y=-2722.7412109375,z=-7.4101300239563},{x=-294.884765625,y=-329.91540527344,z=10.063090324402},{x=-817.76202392578,y=-139.05122375488,z=19.950359344482},{x=-1351.4846191406,y=-464.7057800293,z=15.045313835144},{x=-213.60180664063,y=-1034.1752929688,z=30.137083053589},{x=119.00839996338,y=-1728.900390625,z=30.541393280029},{x=-497.10525512695,y=-673.08129882813,z=11.809020996094}}local cO;local a4,a5,d5;local iK,iJ;while true do local h2,Y=FindFirstVehicle()local Z=h2~=-1;while Z do if GetEntityModel(Y)==868868440 then cO=GetEntityCoords(Y)iJ=99999999;for _,g in pairs(sA)do a4,a5,d5=cO.x-g.x,cO.y-g.y,cO.z-g.z;iK=a4*a4+a5*a5+d5*d5;if iK<iJ then iJ=iK end end;iK=math.sqrt(iJ)if iK<10.5 then iK=0.2 elseif iK<100.0 then iK=10.0 elseif iK<150.0 then iK=25.0 else iK=50.0 end;SetTrainCruiseSpeed(Y,iK)end;Z,Y=FindNextVehicle(h2)end;EndFindVehicle(h2)Wait(0)end end)Citizen.CreateThread(function()local sB={low={cost=10000,modifier=0.125,max=50000},mid={cost=30000,modifier=0.2,max=100000},high={cost=50000,modifier=0.33,max=300000},veryhigh={cost=100000,modifier=0.5,max=500000},premium={cost=300000,modifier=1.0,max=1000000}}local sC={{name="Cent Carpet",x=226.47508239746,y=-1792.3558349609,z=28.636381149292,grade=sB.low},{name="Locksmith",x=170.29815673828,y=-1799.1574707031,z=29.315828323364,grade=sB.low},{name="Atomic Auto repairs",x=484.20239257813,y=-1876.5187988281,z=26.309226989746,grade=sB.mid},{name="Jetsam",x=88.832908630371,y=-2582.2058105469,z=6.0045928955078,grade=sB.veryhigh},{name="Cypress",x=891.72692871094,y=-2538.0822753906,z=28.429449081421,grade=sB.premium},{name="Auto Repairs",x=953.35180664063,y=-1459.8922119141,z=31.61438369751,grade=sB.mid},{name="Berts Tool Supply",x=343.08929443359,y=-1297.8612060547,z=32.509693145752,grade=sB.high},{name="Reconstructing shop",x=-185.6420135498,y=-1702.2541503906,z=32.786373138428,grade=sB.mid},{name="Bilgeco Shipping Services",x=-1025.4464111328,y=-2128.0859375,z=13.597367286682,grade=sB.premium},{name="Underground Club",x=195.45922851563,y=-3167.2180175781,z=5.790268421173,grade=sB.high},{name="Alpha Mail couriers",x=1240.2983398438,y=-3322.1442871094,z=6.0287628173828,grade=sB.veryhigh},{name="Vapid Downtown Los Santos",x=-177.0340423584,y=-1158.3067626953,z=23.813688278198,grade=sB.veryhigh},{name="WRAPS Fresh",x=-263.37054443359,y=-904.22631835938,z=32.310840606689,grade=sB.high},{name="Hot Rocks",x=346.44570922852,y=-875.126953125,z=29.291616439819,grade=sB.high},{name="Taco Bomb",x=-657.45263671875,y=-678.94873046875,z=31.45979309082,grade=sB.veryhigh},{name="Beach shopping center",x=-1300.4602050781,y=-1373.6479492188,z=4.4993333816528,grade=sB.veryhigh},{name="Cool Beans",x=-1269.048828125,y=-877.85089111328,z=11.930289268494,grade=sB.high},{name="The Grain of Truth",x=-1439.8022460938,y=-108.34506988525,z=50.78197479248,grade=sB.high},{name="Last Train Diner",x=-371.28375244141,y=277.43933105469,z=86.421913146973,grade=sB.mid},{name="Jazz Desserts",x=502.24536132813,y=113.28882598877,z=96.638977050781,grade=sB.high},{name="Wags to Riches",x=-448.71060180664,y=-77.946990966797,z=41.286750793457,grade=sB.high},{name="Mirror fashion",x=1206.8319091797,y=-463.45523071289,z=66.424240112305,grade=sB.mid},{name="Bishop's Chiken",x=2580.9221191406,y=464.74609375,z=108.62469482422,grade=sB.mid},{name="General Store",x=-3152.8139648438,y=1110.1060791016,z=20.874153137207,grade=sB.mid},{name="Farm",x=-112.37184906006,y=1882.0072021484,z=197.33309936523,grade=sB.high},{name="Paint Shop",x=-1123.5120849609,y=2682.5893554688,z=18.755338668823,grade=sB.mid},{name="Gas Station",x=46.765522003174,y=2789.6364746094,z=57.934131622314,grade=sB.low},{name="Dollar Pills",x=591.10260009766,y=2744.6286621094,z=42.043628692627,grade=sB.veryhigh},{name="RV Store",x=1224.6368408203,y=2728.7312011719,z=38.005054473877,grade=sB.high},{name="YOU TOOL",x=2747.3562011719,y=3472.9741210938,z=55.67045211792,grade=sB.premium},{name="Davis Mega Mall",x=63.993640899658,y=-1729.0467529297,z=29.64405632019,grade=sB.premium},{name="Car Service",x=905.69195556641,y=3554.3190917969,z=33.819877624512,grade=sB.low},{name="Sandy's Gas Station",x=2001.4641113281,y=3779.8547363281,z=32.180782318115,grade=sB.mid},{name="Liquor Shop",x=2481.958984375,y=4100.416015625,z=38.134086608887,grade=sB.mid},{name="Union Grain Inc",x=2030.0113525391,y=4980.390625,z=42.098316192627,grade=sB.high},{name="Bayview Lodge",x=-695.4814453125,y=5802.169921875,z=17.330945968628,grade=sB.veryhigh},{name="Hen House",x=-300.18725585938,y=6256.0209960938,z=31.515727996826,grade=sB.high},{name="Bay Side Drugs",x=-172.57379150391,y=6381.2934570313,z=31.472789764404,grade=sB.mid},{name="Morris & Sons",x=-27.529287338257,y=6395.3330078125,z=31.490352630615,grade=sB.veryhigh},{name="Up-n-Atom Diner",x=1591.5080566406,y=6450.8564453125,z=25.317144393921,grade=sB.mid},{name="Wigwam",x=-1535.1715087891,y=-454.16403198242,z=35.924385070801,grade=sB.high},{name="Sex Shop",x=143.29876708984,y=-1721.9434814453,z=29.291498184204,grade=sB.low},{name="White Water",x=-1505.7674560547,y=1513.0749511719,z=115.28859710693,grade=sB.high}}for u=1,#sC do local bB=AddBlipForCoord(sC[u].x,sC[u].y,sC[u].z)SetBlipSprite(bB,207)SetBlipAsShortRange(bB,true)SetBlipColour(bB,2)SetBlipName(bB,"Business")end;a("business_info_from_server")b("business_info_from_server",function(sD,sE,sF)sC[sD].owner=sE;sC[sD].currentmoney=sF end)while true do Wait(0)local ez,hz;for f,g in pairs(sC)do local a9=PlayerPedId()local a0=GetEntityCoords(a9)local a4,a5,d5=a0.x-g.x,a0.y-g.y,a0.z-g.z;if math.abs(a4)<15.0 and math.abs(a5)<15.0 and math.abs(d5)<15.0 then while true do local g1=GetPlayerFromServerId(g.owner)local sG=GetPlayerName(g1)if g.needupdate then g.needupdate=nil;c("request_business_info",f)end;local sH,T,U=GetScreenCoordFromWorldCoord(g.x,g.y,g.z+.6)if sH then ez=GetRenderingCam()if ez==-1 then ez=GetGameplayCamCoord()else ez=GetCamCoord(ez)end;ez=#(ez-vec3(g.x,g.y,g.z+.6))if ez>100 then ez=100 elseif ez<3 then ez=3 end;if ez>15 then hz=0 elseif ez<5 then hz=255 else hz=255-math.floor(25*ez-125)end;ez=10/ez;if g.owner~=nil then SetTextWrap(0,9.9)ew(4,{"~g~~a~",g.name},0.8*ez,255,255,255,hz,T,U)SetTextWrap(0,9.9)ew(4,{"Owner: ~g~~a~",sG},0.4*ez,255,255,255,hz,T,U+0.05*ez)else SetTextWrap(0,9.9)ew(4,{"~g~~a~",g.name},0.8*ez,255,255,255,hz,T,U)SetTextWrap(0,9.9)ew(4,{"Cost: ~g~$~1~",g.grade.cost},0.4*ez,255,255,255,hz,T,U+0.05*ez)SetTextWrap(0,9.9)ew(4,{"Income: ~g~~1~~s~%",g.grade.modifier*100},0.4*ez,255,255,255,hz,T,U+0.075*ez)SetTextWrap(0,9.9)ew(4,{"Max: ~g~$~1~~s~",g.grade.max},0.4*ez,255,255,255,hz,T,U+0.1*ez)end;if a4*a4+a5*a5+d5*d5<1.0 then if IsControlJustPressed(0,86)then if g.owner~=nil then if g1==PlayerId()then while true do SetTextWrap(0,9.9)ew(4,{"~g~~a~",g.name},0.8*ez,255,255,255,hz,T,U)SetTextWrap(0,9.9)ew(4,{"Owner: ~g~~a~",sG},0.4*ez,255,255,255,hz,T,U+0.05*ez)if g.currentmoney==nil or g.currentmoney==0 then SetTextWrap(0,9.9)ew(4,"Withdraw ~c~$0~s~?",0.4*ez,255,255,255,hz,T,U+0.075*ez)SetTextWrap(0,9.9)ew(4,{"Max: ~g~$~1~~s~",g.grade.max},0.4*ez,255,255,255,hz,T,U+0.1*ez)else SetTextWrap(0,9.9)ew(4,{"Withdraw ~g~$~1~~s~?",g.currentmoney},0.4*ez,255,255,255,hz,T,U+0.075*ez)SetTextWrap(0,9.9)ew(4,{"Max: ~g~$~1~~s~",g.grade.max},0.4*ez,255,255,255,hz,T,U+0.1*ez)end;Wait(0)a9=PlayerPedId()a0=GetEntityCoords(a9)a4,a5,d5=a0.x-g.x,a0.y-g.y,a0.z-g.z;if a4*a4+a5*a5+d5*d5>1.0 then break elseif IsControlJustPressed(0,86)then c("withdraw_business",f)break end end else SimpleNotification("~g~~a~ ~s~is already owned by ~g~~a~~s~.",g.name,sG)end else SimpleNotification("If you ~r~die ~s~or ~r~leave server ~s~you'll ~r~lose all businesses~s~!")while true do SetTextWrap(0,9.9)ew(4,{"~g~~a~",g.name},0.8*ez,255,255,255,hz,T,U)SetTextWrap(0,9.9)ew(4,{"Buy for: ~g~$~1~~s~?",g.grade.cost},0.4*ez,255,255,255,hz,T,U+0.05*ez)SetTextWrap(0,9.9)ew(4,"This business would be",0.4*ez,255,255,255,hz,T,U+0.075*ez)SetTextWrap(0,9.9)ew(4,"lost upon your death or",0.4*ez,255,255,255,hz,T,U+0.1*ez)SetTextWrap(0,9.9)ew(4,"if you leave server.",0.4*ez,255,255,255,hz,T,U+0.125*ez)Wait(0)a9=PlayerPedId()a0=GetEntityCoords(a9)a4,a5,d5=a0.x-g.x,a0.y-g.y,a0.z-g.z;if a4*a4+a5*a5+d5*d5>1.0 then break elseif IsControlJustPressed(0,86)then if bm.wanted and bm.wanted>0 then SimpleNotification("Cannot buy business with wanted level!")else c("buy_business",f)end;break end end end end end end;Wait(0)a9=PlayerPedId()a0=GetEntityCoords(a9)a4,a5,d5=a0.x-g.x,a0.y-g.y,a0.z-g.z;if math.abs(a4)>15.0 or math.abs(a5)>15.0 or math.abs(d5)>15.0 then g.needupdate=true;Wait(1000)break end end end;Wait(0)end end end)Citizen.CreateThread(function()local sI={[1569794095]=3,[462608346]=4,[-1659520475]=3,[-1272390353]=4,[-278510267]=3,[-1293435817]=4,[-1621784842]=3,[1775212446]=1,[-1016557823]=2,[411598567]=3,[199779901]=4,[-1690185289]=1,[1989703571]=4,[951314344]=3,[1738823355]=2}local sJ={{x=1962.7620849609,y=3744.193359375,z=32.343746185303,blipsprite=52,name="Robbable store"},{x=1733.9096679688,y=6414.2333984375,z=35.037258148193,blipsprite=52,name="Robbable store"},{x=-49.969524383545,y=-1753.4479980469,z=29.421014785767,blipsprite=52,name="Robbable store"},{x=29.157470703125,y=-1345.513671875,z=29.496995925903,blipsprite=52,name="Robbable store"},{x=1159.0723876953,y=-321.81414794922,z=69.205070495605,blipsprite=52,name="Robbable store"},{x=-711.62475585938,y=-912.67266845703,z=19.215587615967,blipsprite=52,name="Robbable store"},{x=-1223.8529052734,y=-905.83740234375,z=12.3263463974,blipsprite=52,name="Robbable store"},{x=-1488.1184082031,y=-381.16339111328,z=40.163387298584,blipsprite=52,name="Robbable store"},{x=-1824.0257568359,y=790.37286376953,z=138.19316101074,blipsprite=52,name="Robbable store"},{x=-2969.3889160156,y=390.57669067383,z=15.043313980103,blipsprite=52,name="Robbable store"},{x=-3042.4968261719,y=588.54547119141,z=7.9089293479919,blipsprite=52,name="Robbable store"},{x=-3243.7302246094,y=1005.2648925781,z=12.830717086792,blipsprite=52,name="Robbable store"},{x=377.5036315918,y=326.63232421875,z=103.56637573242,blipsprite=52,name="Robbable store"},{x=544.240234375,y=2669.169921875,z=42.156532287598,blipsprite=52,name="Robbable store"},{x=2678.7194824219,y=3284.6645507813,z=55.24112701416,blipsprite=52,name="Robbable store"},{x=1702.1368408203,y=4927.0517578125,z=42.063678741455,blipsprite=52,name="Robbable store"},{x=1166.4211425781,y=2707.5710449219,z=38.15771484375,blipsprite=52,name="Robbable store"},{x=2555.1860351563,y=385.80474853516,z=108.62294769287,blipsprite=52,name="Robbable store"},{x=136.49124145508,y=-1708.3150634766,z=29.291620254517,blipsprite=71,name="Robbable place"},{x=-1283.5354003906,y=-1117.2982177734,z=6.9901118278503,blipsprite=71,name="Robbable place"},{x=-815.05908203125,y=-184.52572631836,z=37.56888961792,blipsprite=71,name="Robbable place"},{x=-33.047420501709,y=-152.32252502441,z=57.076499938965,blipsprite=71,name="Robbable place"},{x=1212.4984130859,y=-472.68957519531,z=66.208000183105,blipsprite=71,name="Robbable place"},{x=1932.1176757813,y=3729.2197265625,z=32.84423828125,blipsprite=71,name="Robbable place"},{x=-278.52871704102,y=6228.6616210938,z=31.695261001587,blipsprite=71,name="Robbable place"},{x=1323.6118164063,y=-1652.4865722656,z=52.275413513184,blipsprite=75,name="Robbable place"},{x=322.22174072266,y=181.4826965332,z=103.5864944458,blipsprite=75,name="Robbable place"},{x=-3170.7678222656,y=1076.0648193359,z=20.82918548584,blipsprite=75,name="Robbable place"},{x=1863.7347412109,y=3748.7912597656,z=33.031890869141,blipsprite=75,name="Robbable place"},{x=-292.48239135742,y=6197.263671875,z=31.488706588745,blipsprite=75,name="Robbable place"},{x=-1153.3564453125,y=-1426.2795410156,z=4.9544591903687,blipsprite=75,name="Robbable place"}}for u=1,#sJ do local bB=AddBlipForCoord(sJ[u].x,sJ[u].y,sJ[u].z)SetBlipSprite(bB,sJ[u].blipsprite)SetBlipAsShortRange(bB,true)SetBlipColour(bB,13)SetBlipName(bB,sJ[u].name)end;while true do Wait(0)if not bm.is_cop and not bm.civilian then local g1=PlayerId()local a9=PlayerPedId()local be=GetSelectedPedWeapon(a9)local sK=sI[GetRoomKeyFromEntity(a9)]if sK~=nil then if be~=0 and be~=-1 and be~=966099553 and be~=WEAPON.UNARMED then SimpleNotification("You have weapon selected and started robbery!")SetPlayerWantedLevel(g1,2,false)SetPlayerWantedLevelNow(g1,false)c("rob_store",sK)Wait(1500)else SimpleNotification("You don't have any weapon to rob this store.")end end end end end)RegisterCommand("collectgarbage",function(gE,t,rB)if t[1]=='help'or t[1]=='?'then print'This function is a generic interface to the garbage collector. It performs different functions according to its first argument, opt:'print'\"collect\": performs a full garbage-collection cycle. This is the default option.'print'\"stop\": stops the garbage collector.'print'\"restart\": restarts the garbage collector.'print'\"count\": returns the total memory in use by Lua (in Kbytes).'print'\"step\": performs a garbage-collection step. The step "size" is controlled by arg (larger values mean more steps) in a non-specified way. If you want to control the step size you must experimentally tune the value of arg. Returns true if the step finished a collection cycle.'print'\"setpause\": sets arg as the new value for the pause of the collector. Returns the previous value for pause.'print'\"setstepmul\": sets arg as the new value for the step multiplier of the collector. Returns the previous value for step.'else print(collectgarbage(table.unpack(t)))end end,false)